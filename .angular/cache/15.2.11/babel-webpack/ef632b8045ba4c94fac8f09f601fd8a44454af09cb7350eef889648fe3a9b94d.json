{"ast":null,"code":"/*!\n    *\n    * Wijmo Library 5.20231.904\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\n\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = function (e, t) {\n      return (extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    };\n    return function (e, t) {\n      extendStatics(e, t);\n      function __() {\n        this.constructor = e;\n      }\n      e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());\n    };\n  }(),\n  __importStar = this && this.__importStar || function (e) {\n    if (e && e.__esModule) return e;\n    var t = {};\n    if (null != e) for (var i in e) Object.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n    t.default = e;\n    return t;\n  };\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\nvar wijmo_1 = require(\"wijmo/wijmo\"),\n  selfModule = __importStar(require(\"wijmo/wijmo.input\"));\nwijmo_1._addCultureInfo(\"InputNumber\", {\n  ariaLabels: {\n    incVal: \"Increase Value\",\n    decVal: \"Decrease Value\"\n  }\n});\nvar InputNumber = function (e) {\n  __extends(InputNumber, e);\n  function InputNumber(t, i) {\n    var o = e.call(this, t) || this;\n    o._value = null;\n    o._min = null;\n    o._max = null;\n    o._format = \"\";\n    o._step = null;\n    o._showBtn = !0;\n    o._readOnly = !1;\n    o._handleWheel = !0;\n    o._oldText = \"\";\n    o._fromKb = !0;\n    o.textChanged = new wijmo_1.Event();\n    o.valueChanged = new wijmo_1.Event();\n    var n = o.hostElement;\n    wijmo_1.setAttribute(n, \"role\", \"spinbutton\", !0);\n    var s = o.getTemplate();\n    o.applyTemplate(\"wj-control wj-content wj-inputnumber\", s, {\n      _tbx: \"input\",\n      _btnUp: \"btn-inc\",\n      _btnDn: \"btn-dec\"\n    }, \"input\");\n    var r = wijmo_1.culture.InputNumber.ariaLabels;\n    wijmo_1.setAriaLabel(o._btnUp.querySelector(\"button\"), r.incVal);\n    wijmo_1.setAriaLabel(o._btnDn.querySelector(\"button\"), r.decVal);\n    o._tbx.type.match(/number/i) && (o.inputType = \"\");\n    var a = o._tbx;\n    a.autocomplete = \"off\";\n    a.spellcheck = !1;\n    o._updateSymbols();\n    var l = o.addEventListener.bind(o);\n    l(a, \"keypress\", o._keypress.bind(o));\n    l(a, \"keydown\", o._keydown.bind(o));\n    l(a, \"input\", o._input.bind(o));\n    l(a, \"blur\", function () {\n      o.text != o._oldText && o._setText(o.text);\n    });\n    l(a, \"paste\", function () {\n      o._fromKb = !1;\n    });\n    l(a, \"compositionstart\", function () {\n      o._composing = !0;\n    });\n    l(a, \"compositionend\", function () {\n      o._composing = !1;\n      setTimeout(function () {\n        var e = o.text,\n          t = o._oldText,\n          i = o._chrPct;\n        t && t.indexOf(i) > -1 && e.indexOf(i) < 0 && (e += i);\n        o._setText(e);\n      });\n    });\n    var h = o._clickSpinner.bind(o);\n    l(o._btnUp, \"click\", h);\n    l(o._btnDn, \"click\", h);\n    o._rptUp = new wijmo_1._ClickRepeater(o._btnUp.querySelector(\"button\"));\n    o._rptDn = new wijmo_1._ClickRepeater(o._btnDn.querySelector(\"button\"));\n    l(a, \"wheel\", function (e) {\n      if (o.handleWheel && !e.defaultPrevented && !e.ctrlKey && o._isEditable() && o.containsFocus()) {\n        var t = wijmo_1.clamp(-e.deltaY, -1, 1);\n        o._increment((o.step || 1) * t);\n        setTimeout(function () {\n          return o.selectAll();\n        });\n        e.preventDefault();\n      }\n    });\n    o.value = 0;\n    o.isRequired = !0;\n    o.initialize(i);\n    return o;\n  }\n  Object.defineProperty(InputNumber.prototype, \"inputElement\", {\n    get: function () {\n      return this._tbx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"inputType\", {\n    get: function () {\n      return this._tbx.type;\n    },\n    set: function (e) {\n      this._tbx.type = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"value\", {\n    get: function () {\n      return this._value;\n    },\n    set: function (e) {\n      if (e != this._value) if (null == (e = wijmo_1.asNumber(e, !this.isRequired || null == e && null == this._value))) this._setText(\"\");else if (!isNaN(e)) {\n        var t = wijmo_1.Globalize.format(e, this.format);\n        this._setText(t);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"isRequired\", {\n    get: function () {\n      return this._tbx.required;\n    },\n    set: function (e) {\n      this._tbx.required = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"isReadOnly\", {\n    get: function () {\n      return this._readOnly;\n    },\n    set: function (e) {\n      this._readOnly = wijmo_1.asBoolean(e);\n      this.inputElement.readOnly = this._readOnly;\n      wijmo_1.toggleClass(this.hostElement, \"wj-state-readonly\", this.isReadOnly);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"handleWheel\", {\n    get: function () {\n      return this._handleWheel;\n    },\n    set: function (e) {\n      this._handleWheel = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"min\", {\n    get: function () {\n      return this._min;\n    },\n    set: function (e) {\n      if (e != this._min) {\n        this._min = wijmo_1.asNumber(e, !0);\n        this._updateAria();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"max\", {\n    get: function () {\n      return this._max;\n    },\n    set: function (e) {\n      if (e != this._max) {\n        this._max = wijmo_1.asNumber(e, !0);\n        this._updateAria();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"step\", {\n    get: function () {\n      return this._step;\n    },\n    set: function (e) {\n      this._step = wijmo_1.asNumber(e, !0);\n      this._updateBtn();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"format\", {\n    get: function () {\n      return this._format;\n    },\n    set: function (e) {\n      if (e != this.format) {\n        this._format = wijmo_1.asString(e);\n        this.refresh();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"text\", {\n    get: function () {\n      return this._tbx.value;\n    },\n    set: function (e) {\n      if (e != this.text) {\n        this._oldText = null;\n        this._setText(e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"placeholder\", {\n    get: function () {\n      return this._tbx.placeholder;\n    },\n    set: function (e) {\n      this._tbx.placeholder = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"showSpinner\", {\n    get: function () {\n      return this._showBtn;\n    },\n    set: function (e) {\n      this._showBtn = wijmo_1.asBoolean(e);\n      this._updateBtn();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputNumber.prototype, \"repeatButtons\", {\n    get: function () {\n      return !this._rptUp.disabled;\n    },\n    set: function (e) {\n      this._rptUp.disabled = this._rptDn.disabled = !wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  InputNumber.prototype.selectAll = function () {\n    var e = this._tbx;\n    wijmo_1.setSelectionRange(e, 0, e.value.length);\n  };\n  InputNumber.prototype.clamp = function (e) {\n    return wijmo_1.clamp(e, this.min, this.max);\n  };\n  InputNumber.prototype.onTextChanged = function (e) {\n    this.textChanged.raise(this, e);\n    this._updateState();\n  };\n  InputNumber.prototype.onValueChanged = function (e) {\n    this._updateAria();\n    this.valueChanged.raise(this, e);\n  };\n  InputNumber.prototype.dispose = function () {\n    this._rptUp.element = null;\n    this._rptDn.element = null;\n    e.prototype.dispose.call(this);\n  };\n  InputNumber.prototype.onGotFocus = function (t) {\n    this._oldValue = this.value;\n    if (!this.isTouching) {\n      this._tbx.focus();\n      this.selectAll();\n    }\n    e.prototype.onGotFocus.call(this, t);\n  };\n  InputNumber.prototype.onLostFocus = function (t) {\n    if (this._composing) {\n      this._composing = !1;\n      this._setText(this.text);\n    }\n    if (this._isEditable()) {\n      var i = this.clamp(this.value);\n      if (i == this.value || this.onInvalidInput(new wijmo_1.CancelEventArgs())) {\n        var o = wijmo_1.Globalize.format(i, this.format);\n        this._setText(o);\n      }\n    }\n    e.prototype.onLostFocus.call(this, t);\n  };\n  InputNumber.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    if (this.hostElement) {\n      this._updateSymbols();\n      var i = wijmo_1.Globalize.format(this.value, this.format);\n      this._setText(i);\n    }\n  };\n  InputNumber.prototype._isEditable = function () {\n    return !this.isReadOnly && !this.isDisabled;\n  };\n  InputNumber.prototype._updateSymbols = function () {\n    var e = wijmo_1.culture.Globalize.numberFormat,\n      t = wijmo_1.Globalize._parseNumericFormat(this.format);\n    this._chrDec = e[\".\"] || \".\";\n    this._chrTho = e[\",\"] || \",\";\n    this._chrNeg = e[\"-\"] || \"-\";\n    this._chrPls = e[\"+\"] || \"+\";\n    this._chrPct = e[\"%\"] || \"%\";\n    this._chrCur = t.curr || e.currency.symbol || \"$\";\n    this._fmtSpc = t.spec;\n    this._fmtPrc = t.prec;\n    this._rxSym = new RegExp(\"^[%+\\\\-() \\\\\" + this._chrDec + \"\\\\\" + this._chrCur + \"\\\\\" + this._chrNeg + \"\\\\\" + this._chrPls + \"\\\\\" + this._chrPct + \"]*$\");\n    this._rxNeg = new RegExp(\"^\\\\s*(\\\\-|\\\\\" + this._chrNeg + \")|([^e](\\\\-|\\\\\" + this._chrNeg + \")|\\\\()\");\n  };\n  InputNumber.prototype._isNumeric = function (e, t) {\n    var i = e == this._chrDec || e >= \"0\" && e <= \"9\",\n      o = \"x\" == this._fmtSpc;\n    !i && o && (i = e >= \"a\" && e <= \"f\" || e >= \"A\" && e <= \"F\");\n    i || t || o || (i = e == this._chrPls || e == this._chrNeg || \"(\" == e || \")\" == e);\n    return i;\n  };\n  InputNumber.prototype._getInputRange = function (e) {\n    for (var t = [0, 0], i = this.text, o = !1, n = 0; n < i.length; n++) if (this._isNumeric(i[n], e)) {\n      if (!o) {\n        t[0] = n;\n        o = !0;\n      }\n      t[1] = n + 1;\n    }\n    return t;\n  };\n  InputNumber.prototype._flipSign = function () {\n    var e = this._getSelStartDigits();\n    this.value *= -1;\n    this._setSelStartDigits(e);\n  };\n  InputNumber.prototype._getSelStartDigits = function () {\n    for (var e = 0, t = this._tbx.selectionStart, i = this._tbx.value, o = 0; o < i.length && o < t; o++) this._isNumeric(i[o], !0) && e++;\n    return e;\n  };\n  InputNumber.prototype._setSelStartDigits = function (e) {\n    for (var t = this._tbx.value, i = 0; i < t.length && e >= 0; i++) if (this._isNumeric(t[i], !0)) {\n      if (!e) {\n        wijmo_1.setSelectionRange(this._tbx, i);\n        break;\n      }\n      e--;\n    } else if (!e) {\n      wijmo_1.setSelectionRange(this._tbx, i);\n      break;\n    }\n  };\n  InputNumber.prototype._increment = function (e) {\n    if (e) {\n      var t = this.clamp(wijmo_1.isNumber(this.value) ? this.value + e : 0),\n        i = wijmo_1.Globalize.format(t, this.format, !1, !1);\n      this._setText(i);\n    }\n  };\n  InputNumber.prototype._updateBtn = function () {\n    var e = this.showSpinner && !!this.step,\n      t = e;\n    wijmo_1.setCss([this._btnUp, this._btnDn], {\n      display: e ? \"\" : \"none\"\n    });\n    wijmo_1.toggleClass(this.hostElement, \"wj-input-show-spinner\", e);\n    wijmo_1.enable(this._btnUp, t);\n    wijmo_1.enable(this._btnDn, t);\n    this._updateAria();\n  };\n  InputNumber.prototype._setText = function (e, t, i) {\n    void 0 === t && (t = !1);\n    void 0 === i && (i = !1);\n    if (!this._composing) {\n      var o = this._tbx,\n        n = this._chrDec,\n        s = this._rxNeg.test(e),\n        r = this._delKey,\n        a = this.containsFocus();\n      e && this._rxSym.test(e) && a && (e = this.isRequired || !r ? (s ? \"-0\" : \"0\") + (e.indexOf(n) > -1 ? n : \"\") : \"\");\n      this._delKey = !1;\n      r && 0 == this.value && !this.isRequired && (e = \"\");\n      if (!e) {\n        if (!this.isRequired || i) {\n          o.value = \"\";\n          if (null != this._value) {\n            this._value = null;\n            this.onValueChanged();\n          }\n          if (this._oldText) {\n            this._oldText = e;\n            this.onTextChanged();\n          }\n          this._updateBtn();\n          return;\n        }\n        e = \"0\";\n      }\n      var l = e.indexOf(n),\n        h = this._format || (l > -1 ? \"n2\" : \"n0\"),\n        u = wijmo_1.Globalize.parseFloat(e, h);\n      isFinite(u) || (u = this.clamp(u));\n      if (isNaN(u)) this.onInvalidInput(new wijmo_1.CancelEventArgs()) ? o.value = this._oldText : this.focus();else {\n        var c = a && l > -1 ? 2 : null,\n          p = wijmo_1.Globalize.format(u, h, !1, t, c);\n        s && u >= 0 && !r && (p = this._chrNeg + p);\n        a && l > -1 && \"g\" == this._fmtSpc && 0 != this._fmtPrc && (p = e).indexOf(n) < 0 && (p += n);\n        if (o.value != p) {\n          o.value = p;\n          u = wijmo_1.Globalize.parseFloat(p, h);\n        }\n        if (u != this._value) {\n          this._value = u;\n          this.onValueChanged();\n        }\n        if (this.text != this._oldText) {\n          this._oldText = this.text;\n          this.onTextChanged();\n        }\n        this._updateBtn();\n        this._updateState();\n      }\n    }\n  };\n  InputNumber.prototype._keypress = function (e) {\n    if (!e.defaultPrevented && !this._composing && this._isEditable() && e.charCode && !e.ctrlKey && !e.metaKey && e.keyCode != wijmo_1.Key.Enter) {\n      var t = this._tbx,\n        i = String.fromCharCode(e.charCode);\n      if (this._isNumeric(i, !1)) {\n        var o = t.maxLength;\n        if (o > -1 && t.value.length >= o && t.selectionEnd == t.selectionStart) {\n          e.preventDefault();\n          return;\n        }\n        var n = this._getInputRange(!0),\n          s = t.selectionStart,\n          r = t.selectionEnd;\n        if (s < n[0] && r < t.value.length) {\n          r = Math.max(r, n[0]);\n          wijmo_1.setSelectionRange(t, n[0], r);\n        }\n        if (s >= n[1]) {\n          var a = null != this._fmtPrc ? this._fmtPrc : 2,\n            l = t.value.indexOf(this._chrDec);\n          l > -1 && s - l > a && e.preventDefault();\n        }\n      } else e.preventDefault();\n      switch (i) {\n        case \"-\":\n        case this._chrNeg:\n          if (this.clamp(-1) >= 0) this.value < 0 && this._flipSign();else if (this.value && t.selectionStart == t.selectionEnd) this._flipSign();else if (this.clamp(-1) < 0) {\n            t.value = this._chrNeg;\n            wijmo_1.setSelectionRange(t, 1);\n          }\n          e.preventDefault();\n          break;\n        case \"+\":\n        case this._chrPls:\n          this.value < 0 && this._flipSign();\n          e.preventDefault();\n          break;\n        case \".\":\n        case this._chrDec:\n          if (0 == this._fmtPrc) e.preventDefault();else {\n            var h = t.value.indexOf(this._chrDec);\n            if (h > -1) {\n              t.selectionStart <= h && h++;\n              wijmo_1.setSelectionRange(t, h);\n              e.preventDefault();\n            }\n          }\n      }\n      if (!e.defaultPrevented && wijmo_1.isIE()) {\n        var u = t.value;\n        if ((s = t.selectionStart) == (r = t.selectionEnd)) {\n          t.value = u.substr(0, s) + i + u.substr(r);\n          wijmo_1.setSelectionRange(t, s + 1);\n          e.preventDefault();\n          this._input();\n        }\n      }\n    }\n  };\n  InputNumber.prototype._keydown = function (e) {\n    var t = this;\n    this._delKey = !1;\n    if (!e.defaultPrevented && !this._composing) {\n      var i = wijmo_1.hasClass(this._tbx, \"wj-grid-ime\");\n      if (!i || e.keyCode == wijmo_1.Key.Back || e.keyCode == wijmo_1.Key.Delete) {\n        var o = this._tbx,\n          n = o.value,\n          s = o.selectionStart,\n          r = o.selectionEnd;\n        switch (e.keyCode) {\n          case 65:\n            if (e.ctrlKey) {\n              setTimeout(function () {\n                t.selectAll();\n              });\n              e.preventDefault();\n            }\n            break;\n          case wijmo_1.Key.Up:\n          case wijmo_1.Key.Down:\n            if (this.step && this._isEditable()) {\n              this._increment(this.step * (e.keyCode == wijmo_1.Key.Up ? 1 : -1));\n              setTimeout(function () {\n                t.selectAll();\n              });\n              e.preventDefault();\n            }\n            break;\n          case wijmo_1.Key.Back:\n            this._delKey = !0;\n            if (r - s < 2 && this._isEditable()) {\n              var a = n[r - 1];\n              if (a == this._chrDec || a == this._chrPct || a == this._chrTho || \")\" == a) {\n                setTimeout(function () {\n                  r = a == t._chrPct ? t._getInputRange(!0)[1] : r - 1;\n                  wijmo_1.setSelectionRange(o, r);\n                });\n                e.preventDefault();\n              }\n            }\n            break;\n          case wijmo_1.Key.Delete:\n            this._delKey = !0;\n            if (r - s < 2 && this._isEditable()) if (\"0\" == n && 1 == s) wijmo_1.setSelectionRange(o, 0);else {\n              var l = n[s];\n              if (l == this._chrDec || l == this._chrPct) {\n                setTimeout(function () {\n                  wijmo_1.setSelectionRange(o, s + 1);\n                });\n                e.preventDefault();\n              }\n            }\n            break;\n          case wijmo_1.Key.Escape:\n            this.value = this._oldValue;\n            this.selectAll();\n        }\n        i && this._delKey && this._isEditable() && this._setText(null, !1, !0);\n      }\n    }\n  };\n  InputNumber.prototype._input = function () {\n    var e = this;\n    this._composing ? this._fromKb = !0 : setTimeout(function () {\n      var t = e._tbx,\n        i = t.value,\n        o = i.indexOf(e._chrDec),\n        n = t.selectionStart,\n        s = e._getSelStartDigits();\n      \"p\" == e._fmtSpc && i.length && i.indexOf(e._chrPct) < 0 && (i += e._chrPct);\n      e._setText(i, e._fromKb);\n      e._fromKb = !0;\n      if (e.containsFocus()) {\n        var r = t.value,\n          a = r.indexOf(e._chrDec),\n          l = e._getInputRange(!0);\n        if (i == e._chrNeg + e._chrDec && a > -1) {\n          wijmo_1.setSelectionRange(t, a + 1);\n          return;\n        }\n        if (i[0] == e._chrNeg && r[0] != e._chrNeg) {\n          1 == r.length ? wijmo_1.setSelectionRange(t, 1) : e._setSelStartDigits(s);\n          return;\n        }\n        i ? i == e._chrDec && a > -1 ? n = a + 1 : n <= o && a > -1 || o < 0 && a < 0 ? n += r.length - i.length : o < 0 && a > -1 && (n = a) : n = a > -1 ? a : l[1];\n        n = wijmo_1.clamp(n, l[0], l[1]);\n        wijmo_1.setSelectionRange(t, n);\n      }\n    });\n  };\n  InputNumber.prototype._clickSpinner = function (e) {\n    var t = this;\n    if (!e.defaultPrevented && this._isEditable() && this.step) {\n      this._increment(this.step * (wijmo_1.contains(this._btnUp, e.target) ? 1 : -1));\n      this.isTouching || setTimeout(function () {\n        return t.selectAll();\n      });\n    }\n  };\n  InputNumber.prototype._updateAria = function () {\n    var e = this.hostElement;\n    if (e) {\n      wijmo_1.setAttribute(e, \"aria-valuemin\", this.min);\n      wijmo_1.setAttribute(e, \"aria-valuemax\", this.max);\n      wijmo_1.setAttribute(e, \"aria-valuenow\", this.value);\n      wijmo_1.enable(this._btnDn, null == this.min || this.value > this.min);\n      wijmo_1.enable(this._btnUp, null == this.max || this.value < this.max);\n    }\n  };\n  InputNumber.controlTemplate = '<div class=\"wj-template\"><div class=\"wj-input\"><div class=\"wj-input-group\"><span wj-part=\"btn-dec\" class=\"wj-input-group-btn\" tabindex=\"-1\"><button class=\"wj-btn wj-btn-default\" tabindex=\"-1\">-</button></span><input type=\"tel\" wj-part=\"input\" class=\"wj-form-control wj-numeric\"/><span wj-part=\"btn-inc\" class=\"wj-input-group-btn\" tabindex=\"-1\"><button class=\"wj-btn wj-btn-default\" tabindex=\"-1\">+</button></span></div></div></div>';\n  return InputNumber;\n}(wijmo_1.Control);\nexports.InputNumber = InputNumber;\nvar InputMask = function (e) {\n  __extends(InputMask, e);\n  function InputMask(t, i) {\n    var o = e.call(this, t) || this;\n    o._fullEdit = !1;\n    o.valueChanged = new wijmo_1.Event();\n    var n = o.getTemplate();\n    o.applyTemplate(\"wj-control wj-content wj-inputmask\", n, {\n      _tbx: \"input\"\n    }, \"input\");\n    if (\"INPUT\" == o._orgTag) {\n      var s = o._tbx.getAttribute(\"value\");\n      s && (o.value = s);\n    }\n    o._msk = new wijmo_1._MaskProvider(o._tbx);\n    o.isRequired = !0;\n    o.initialize(i);\n    o.addEventListener(o._tbx, \"input\", function () {\n      o.onValueChanged();\n    });\n    o.addEventListener(o._tbx, \"blur\", o._commitText.bind(o));\n    o.addEventListener(o._tbx, \"keydown\", function (e) {\n      e.keyCode == wijmo_1.Key.Enter && o._commitText();\n    });\n    return o;\n  }\n  Object.defineProperty(InputMask.prototype, \"inputElement\", {\n    get: function () {\n      return this._tbx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"inputType\", {\n    get: function () {\n      return this._tbx.type;\n    },\n    set: function (e) {\n      this._tbx.type = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"value\", {\n    get: function () {\n      return this._tbx.value;\n    },\n    set: function (e) {\n      if (e != this.value) {\n        this._tbx.value = wijmo_1.asString(e);\n        e = this._msk._applyMask();\n        this._tbx.value = e;\n        this.onValueChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"rawValue\", {\n    get: function () {\n      return this._msk.getRawValue();\n    },\n    set: function (e) {\n      e != this.rawValue && (this.value = wijmo_1.asString(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"mask\", {\n    get: function () {\n      return this._msk.mask || \"\";\n    },\n    set: function (e) {\n      var t = this.value;\n      this._msk.mask = wijmo_1.asString(e);\n      this.value != t && this.onValueChanged();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"promptChar\", {\n    get: function () {\n      return this._msk.promptChar;\n    },\n    set: function (e) {\n      var t = this.value;\n      this._msk.promptChar = e;\n      this.value != t && this.onValueChanged();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"overwriteMode\", {\n    get: function () {\n      return this._msk.overwriteMode;\n    },\n    set: function (e) {\n      this._msk.overwriteMode = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"placeholder\", {\n    get: function () {\n      return this._tbx.placeholder;\n    },\n    set: function (e) {\n      this._tbx.placeholder = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"maskFull\", {\n    get: function () {\n      return this._msk.maskFull;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"isRequired\", {\n    get: function () {\n      return this._tbx.required;\n    },\n    set: function (e) {\n      this._tbx.required = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputMask.prototype, \"isReadOnly\", {\n    get: function () {\n      return this._tbx.readOnly;\n    },\n    set: function (e) {\n      this._tbx.readOnly = wijmo_1.asBoolean(e);\n      wijmo_1.toggleClass(this.hostElement, \"wj-state-readonly\", this.isReadOnly);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  InputMask.prototype.selectAll = function () {\n    var e = this._msk.getMaskRange();\n    wijmo_1.setSelectionRange(this._tbx, e[0], e[1] + 1);\n  };\n  InputMask.prototype.onValueChanged = function (e) {\n    if (this.value != this._oldValue) {\n      this._oldValue = this.value;\n      this.valueChanged.raise(this, e);\n    }\n    this._updateState();\n  };\n  InputMask.prototype._commitText = function () {\n    (this.rawValue || this.isRequired) && (this.maskFull || this.onInvalidInput(new wijmo_1.CancelEventArgs()));\n    this._updateState();\n  };\n  InputMask.prototype.dispose = function () {\n    this._msk.input = null;\n    e.prototype.dispose.call(this);\n  };\n  InputMask.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    this.hostElement && this._msk.refresh();\n  };\n  InputMask.prototype._isGridImeEnabled = function () {\n    var e = this._tbx.closest(\".wj-flexgrid\");\n    return !(!e || !e[\"$WJ-CTRL\"]._imeHdl);\n  };\n  InputMask.prototype.onGotFocus = function (t) {\n    e.prototype.onGotFocus.call(this, t);\n    this._isGridImeEnabled() && !this._fullEdit || this.selectAll();\n  };\n  InputMask.controlTemplate = '<div class=\"wj-input\"><div class=\"wj-input-group\"><input wj-part=\"input\" class=\"wj-form-control\"/></div></div>';\n  return InputMask;\n}(wijmo_1.Control);\nexports.InputMask = InputMask;\nvar ColorPicker = function (e) {\n  __extends(ColorPicker, e);\n  function ColorPicker(t, i) {\n    var o = e.call(this, t) || this;\n    o._hsb = [.5, 1, 1];\n    o._alpha = 1;\n    o.valueChanged = new wijmo_1.Event();\n    var n = o.getTemplate();\n    o.applyTemplate(\"wj-control wj-content wj-colorpicker\", n, {\n      _eSB: \"div-sb\",\n      _eHue: \"div-hue\",\n      _eAlpha: \"div-alpha\",\n      _ePreview: \"div-pv\",\n      _ePal: \"div-pal\",\n      _eText: \"div-text\"\n    });\n    o._palette = \"#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0\".split(\",\");\n    o._updatePalette();\n    o._eHue.style.backgroundImage = \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)\";\n    o._eHue.style.backgroundSize = \"contain\";\n    if (navigator.appVersion.indexOf(\"MSIE 9\") > -1) {\n      o._eSB.children[0].style.filter = \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)\";\n      o._eSB.children[1].style.filter = \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)\";\n    }\n    n = ColorPicker._tplCursor;\n    o._cSB = wijmo_1.createElement(n);\n    o._cHue = wijmo_1.createElement(n);\n    o._cHue.style.width = \"100%\";\n    o._cAlpha = wijmo_1.createElement(n);\n    o._cAlpha.style.height = \"100%\";\n    o._eSB.appendChild(o._cSB);\n    o._eHue.appendChild(o._cHue);\n    o._eAlpha.appendChild(o._cAlpha);\n    var s = o.addEventListener.bind(o),\n      r = o.removeEventListener.bind(o),\n      a = document;\n    s(o.hostElement, \"mousedown\", function (e) {\n      s(a, \"mousemove\", mouseMove);\n      s(a, \"mouseup\", mouseUp);\n      o._mouseDown(e);\n    });\n    s(o.hostElement, \"touchstart\", function (e) {\n      s(a, \"touchmove\", mouseMove);\n      s(a, \"touchend\", mouseUp);\n      o._mouseDown(e);\n    });\n    var mouseMove = function (e) {\n        o._mouseMove(e);\n      },\n      mouseUp = function (e) {\n        r(a, \"mousemove\", mouseMove);\n        r(a, \"mouseup\", mouseUp);\n        r(a, \"touchmove\", mouseMove);\n        r(a, \"touchend\", mouseUp);\n        o._mouseUp(e);\n      };\n    s(o.hostElement, \"click\", function (e) {\n      var t = e.target;\n      if (t && \"DIV\" == t.tagName && wijmo_1.contains(o._ePal, t)) {\n        var i = t.style.backgroundColor;\n        i && (o.value = new wijmo_1.Color(i).toString());\n      }\n    });\n    o.value = \"#ffffff\";\n    o.initialize(i);\n    o._updatePanels();\n    return o;\n  }\n  Object.defineProperty(ColorPicker.prototype, \"showAlphaChannel\", {\n    get: function () {\n      return \"none\" != this._eAlpha.parentElement.style.display;\n    },\n    set: function (e) {\n      this._eAlpha.parentElement.style.display = wijmo_1.asBoolean(e) ? \"\" : \"none\";\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColorPicker.prototype, \"showColorString\", {\n    get: function () {\n      return \"none\" != this._eText.style.display;\n    },\n    set: function (e) {\n      this._eText.style.display = wijmo_1.asBoolean(e) ? \"\" : \"none\";\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColorPicker.prototype, \"value\", {\n    get: function () {\n      return this._value;\n    },\n    set: function (e) {\n      if (e != this.value) {\n        e = wijmo_1.asString(e);\n        var t = wijmo_1.Color.fromString(e);\n        if (t) {\n          this._value = e;\n          this._eText.innerText = e;\n          var i = t.getHsb();\n          if (this._hsb[0] != i[0] || this._hsb[1] != i[1] || this._hsb[2] != i[2] || this._alpha != t.a) {\n            if (0 == i[2]) {\n              i[0] = this._hsb[0];\n              i[1] = this._hsb[1];\n            } else 0 == i[1] && (i[0] = this._hsb[0]);\n            this._hsb = i;\n            this._alpha = t.a;\n            this._updatePanels();\n            this.onValueChanged();\n          }\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColorPicker.prototype, \"palette\", {\n    get: function () {\n      return this._palette;\n    },\n    set: function (e) {\n      if ((e = (e = wijmo_1.asArray(e)).slice(0, 10)).every(function (e) {\n        return null != wijmo_1.Color.fromString(e);\n      })) {\n        this._palette = e;\n        this._updatePalette();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  ColorPicker.prototype.onValueChanged = function (e) {\n    this._updatePanels();\n    this.valueChanged.raise(this, e);\n  };\n  ColorPicker.prototype._mouseDown = function (e) {\n    this._htDown = this._getTargetPanel(e);\n    if (this._htDown) {\n      e.preventDefault();\n      this.focus();\n      this._mouseMove(e);\n    }\n  };\n  ColorPicker.prototype._mouseMove = function (e) {\n    var t = e.touches ? e.touches[0] : e,\n      i = this._htDown;\n    if (i) {\n      var o = i.getBoundingClientRect(),\n        n = this._hsb;\n      if (i == this._eHue) n[0] = wijmo_1.clamp((t.clientY - o.top) / o.height, 0, .99);else if (i == this._eSB) {\n        n[1] = wijmo_1.clamp((t.clientX - o.left) / o.width, 0, 1);\n        n[2] = wijmo_1.clamp(1 - (t.clientY - o.top) / o.height, 0, 1);\n      } else i == this._eAlpha && (this._alpha = wijmo_1.clamp((t.clientX - o.left) / o.width, 0, 1));\n      this._updateColor();\n    }\n  };\n  ColorPicker.prototype._mouseUp = function (e) {\n    this._htDown = null;\n  };\n  ColorPicker.prototype._updateColor = function () {\n    var e = wijmo_1.Color.fromHsb(this._hsb[0], this._hsb[1], this._hsb[2], this._alpha);\n    this.value = e.toString();\n    this._updatePanels();\n  };\n  ColorPicker.prototype._updatePalette = function () {\n    var e = new wijmo_1.Color(\"#fff\"),\n      t = new wijmo_1.Color(\"#000\");\n    this._ePal.innerHTML = \"\";\n    for (var i = 0; i < this._palette.length; i++) {\n      var o = wijmo_1.createElement('<div style=\"float:left;width:10%;box-sizing:border-box;padding:1px\">'),\n        n = new wijmo_1.Color(this._palette[i]),\n        s = n.getHsb();\n      o.appendChild(this._makePalEntry(n, 4));\n      for (var r = 0; r < 5; r++) {\n        if (0 == s[1]) {\n          var a = .1 * r + (s[2] > .5 ? .05 : .55);\n          n = wijmo_1.Color.interpolate(e, t, a);\n        } else n = wijmo_1.Color.fromHsb(s[0], .1 + .2 * r, 1 - .1 * r);\n        o.appendChild(this._makePalEntry(n, 0));\n      }\n      this._ePal.appendChild(o);\n    }\n  };\n  ColorPicker.prototype._makePalEntry = function (e, t) {\n    var i = document.createElement(\"div\");\n    wijmo_1.setCss(i, {\n      cursor: \"pointer\",\n      backgroundColor: e.toString(),\n      marginBottom: t || \"\"\n    });\n    i.innerHTML = \"&nbsp\";\n    return i;\n  };\n  ColorPicker.prototype._updatePanels = function () {\n    var e = wijmo_1.Color.fromHsb(this._hsb[0], 1, 1, 1),\n      t = wijmo_1.Color.fromHsb(this._hsb[0], this._hsb[1], this._hsb[2], 1);\n    this._eSB.style.backgroundColor = e.toString();\n    this._eAlpha.style.background = \"linear-gradient(to right, transparent 0%, \" + t.toString() + \" 100%)\";\n    navigator.appVersion.indexOf(\"MSIE 9\") > -1 && (this._eAlpha.style.filter = \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=\" + t.toString() + \", GradientType = 1)\");\n    this._ePreview.style.backgroundColor = this.value;\n    this._cHue.style.top = (100 * this._hsb[0]).toFixed(0) + \"%\";\n    this._cSB.style.left = (100 * this._hsb[1]).toFixed(0) + \"%\";\n    this._cSB.style.top = (100 - 100 * this._hsb[2]).toFixed(0) + \"%\";\n    this._cAlpha.style.left = (100 * this._alpha).toFixed(0) + \"%\";\n  };\n  ColorPicker.prototype._getTargetPanel = function (e) {\n    var t = e.target;\n    return wijmo_1.contains(this._eSB, t) ? this._eSB : wijmo_1.contains(this._eHue, t) ? this._eHue : wijmo_1.contains(this._eAlpha, t) ? this._eAlpha : null;\n  };\n  ColorPicker.controlTemplate = '<div style=\"position:relative;width:100%;height:100%\"><div style=\"float:left;width:50%;height:100%;box-sizing:border-box;padding:2px\"><div wj-part=\"div-pal\"><div style=\"float:left;width:10%;box-sizing:border-box;padding:2px\"><div style=\"background-color:black;width:100%\">&nbsp;</div><div style=\"height:6px\"></div></div></div><div wj-part=\"div-text\" style=\"position:absolute;bottom:0px;display:none\"></div></div><div style=\"float:left;width:50%;height:100%;box-sizing:border-box;padding:2px\"><div wj-part=\"div-sb\" class=\"wj-colorbox\" style=\"float:left;width:89%;height:89%\"><div style=\"position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)\"></div><div style=\"position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)\"></div></div><div style=\"float:left;width:1%;height:89%\"></div><div style=\"float:left;width:10%;height:89%\"><div wj-part=\"div-hue\" class=\"wj-colorbox\"></div></div><div style=\"float:left;width:89%;height:1%\"></div><div style=\"float:left;width:89%;height:10%\"><div style=\"width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)\"><div wj-part=\"div-alpha\" class=\"wj-colorbox\"></div></div></div><div style=\"float:left;width:1%;height:10%\"></div><div style=\"float:left;width:10%;height:10%\"><div wj-part=\"div-pv\" class=\"wj-colorbox\" style=\"position:static\"></div></div></div></div>';\n  ColorPicker._tplCursor = '<div style=\"position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f\"></div>';\n  return ColorPicker;\n}(wijmo_1.Control);\nexports.ColorPicker = ColorPicker;\nvar CollectionViewNavigator = function (e) {\n  __extends(CollectionViewNavigator, e);\n  function CollectionViewNavigator(t, i) {\n    var o = e.call(this, t) || this;\n    o._view = null;\n    o._byPage = !1;\n    o._fmt = \"{current:n0} / {count:n0}\";\n    var n = o.getTemplate();\n    o.applyTemplate(\"wj-control wj-content wj-pager wj-collectionview-navigator\", n, {\n      _btnFirst: \"btn-first\",\n      _btnPrev: \"btn-prev\",\n      _txtCurr: \"txt-curr\",\n      _btnNext: \"btn-next\",\n      _btnLast: \"btn-last\"\n    }, \"input\");\n    o._rptNext = new wijmo_1._ClickRepeater(o._btnNext.querySelector(\"button\"));\n    o._rptPrev = new wijmo_1._ClickRepeater(o._btnPrev.querySelector(\"button\"));\n    o.addEventListener(o.hostElement, \"click\", o._click.bind(o));\n    o.initialize(i);\n    o._update();\n    return o;\n  }\n  Object.defineProperty(CollectionViewNavigator.prototype, \"cv\", {\n    get: function () {\n      return this._view;\n    },\n    set: function (e) {\n      if (e != this._view) {\n        var t = this._view;\n        if (t) {\n          t.collectionChanged.removeHandler(this._collectionChanged);\n          t.currentChanged.removeHandler(this._currentChanged);\n        }\n        t = this._view = wijmo_1.asType(e, \"ICollectionView\", !0);\n        this._update();\n        if (t) {\n          t.collectionChanged.addHandler(this._collectionChanged, this);\n          t.currentChanged.addHandler(this._currentChanged, this);\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewNavigator.prototype, \"byPage\", {\n    get: function () {\n      return this._byPage;\n    },\n    set: function (e) {\n      if (e != this._byPage) {\n        this._byPage = wijmo_1.asBoolean(e);\n        this._update();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewNavigator.prototype, \"headerFormat\", {\n    get: function () {\n      return this._fmt;\n    },\n    set: function (e) {\n      if (e != this._fmt) {\n        this._fmt = wijmo_1.asString(e);\n        this._update();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewNavigator.prototype, \"repeatButtons\", {\n    get: function () {\n      return !this._rptNext.disabled;\n    },\n    set: function (e) {\n      this._rptNext.disabled = this._rptPrev.disabled = !wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  CollectionViewNavigator.prototype._update = function () {\n    var e = this._view,\n      t = this._byPage,\n      i = e ? t ? e.pageIndex : e.currentPosition : 0,\n      o = e ? t ? e.pageCount : e.itemCount : 0;\n    wijmo_1.enable(this._btnFirst, e && i > 0);\n    wijmo_1.enable(this._btnPrev, e && i > 0);\n    wijmo_1.enable(this._txtCurr, null != e);\n    wijmo_1.enable(this._btnNext, e && i < o - 1);\n    wijmo_1.enable(this._btnLast, e && i < o - 1);\n    this._txtCurr.value = wijmo_1.format(this._fmt, {\n      current: e ? i + 1 : 0,\n      count: e ? o : 0,\n      currentItem: e ? e.currentPosition + 1 : 0,\n      itemCount: e ? e.itemCount : 0,\n      currentPage: e ? e.pageIndex + 1 : 0,\n      pageCount: e ? e.pageCount : 0\n    });\n  };\n  CollectionViewNavigator.prototype._currentChanged = function () {\n    this._update();\n  };\n  CollectionViewNavigator.prototype._collectionChanged = function () {\n    this._update();\n  };\n  CollectionViewNavigator.prototype._click = function (e) {\n    var t = e.target,\n      i = this._view,\n      o = this._byPage;\n    if (i) {\n      wijmo_1.contains(this._btnFirst, t) ? o ? i.moveToFirstPage() : i.moveCurrentToFirst() : wijmo_1.contains(this._btnPrev, t) ? o ? i.moveToPreviousPage() : i.moveCurrentToPrevious() : wijmo_1.contains(this._btnNext, t) ? o ? i.moveToNextPage() : i.moveCurrentToNext() : wijmo_1.contains(this._btnLast, t) && (o ? i.moveToLastPage() : i.moveCurrentToLast());\n      e.preventDefault();\n    }\n  };\n  CollectionViewNavigator.controlTemplate = '<div class=\"wj-input-group\"><span wj-part=\"btn-first\" class=\"wj-input-group-btn\"><button class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-step-backward\"></span></button></span><span wj-part=\"btn-prev\" class=\"wj-input-group-btn\"> <button class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-left\"></span> </button></span><input wj-part=\"txt-curr\" class=\"wj-form-control\" readonly><span wj-part=\"btn-next\" class=\"wj-input-group-btn\"><button class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-right\"></span></button></span><span wj-part=\"btn-last\" class=\"wj-input-group-btn\"><button class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-step-forward\"></span></button></span></div>';\n  return CollectionViewNavigator;\n}(wijmo_1.Control);\nexports.CollectionViewNavigator = CollectionViewNavigator;\nvar ListBox = function (e) {\n  __extends(ListBox, e);\n  function ListBox(t, i) {\n    var o = e.call(this, t, null, !0) || this;\n    o._cv = null;\n    o._itemFormatter = null;\n    o._pathDisplay = new wijmo_1.Binding(\"\");\n    o._pathValue = new wijmo_1.Binding(\"\");\n    o._pathChecked = new wijmo_1.Binding(\"\");\n    o._html = !1;\n    o._shGroups = !1;\n    o._checkedItems = [];\n    o._itemRole = \"option\";\n    o._caseSensitive = !1;\n    o._vThreshold = ListBox._VTHRESH;\n    o._isVirtual = !1;\n    o._children = [];\n    o._clientHeight = -1;\n    o._itemHeight = 30;\n    o._itemsAbove = -1;\n    o._itemsBelow = -1;\n    o._eSizer = document.createElement(\"div\");\n    o._ePadTop = document.createElement(\"div\");\n    o._ePadBot = document.createElement(\"div\");\n    o._checking = !1;\n    o._ignoredItemChangedEvents = !1;\n    o._search = \"\";\n    o._fmtItemHandlers = 0;\n    o._itemCount = 0;\n    o._oldSel = null;\n    o._container = null;\n    o._oldSelectedIndex = -1;\n    o.selectedIndexChanged = new wijmo_1.Event();\n    o.itemsChanged = new wijmo_1.Event();\n    o.loadingItems = new wijmo_1.Event();\n    o.loadedItems = new wijmo_1.Event();\n    o.itemChecked = new wijmo_1.Event();\n    o.checkedItemsChanged = new wijmo_1.Event();\n    o.formatItem = new wijmo_1.Event(function () {\n      o.invalidate();\n    });\n    o.applyTemplate(\"wj-control wj-content wj-listbox\", null, null);\n    var n = o.hostElement;\n    wijmo_1.setAttribute(n, \"role\", \"listbox\", !0);\n    \"SELECT\" == o._orgTag && o._initFromSelect(o.hostElement);\n    o.addEventListener(n, \"click\", o._click.bind(o));\n    o.addEventListener(n, \"keydown\", o._keydown.bind(o));\n    o.addEventListener(n, \"keypress\", o._keypress.bind(o));\n    o.addEventListener(n, \"wheel\", function (e) {\n      if (n.scrollHeight > n.offsetHeight && (e.deltaY < 0 && 0 == n.scrollTop || e.deltaY > 0 && n.scrollTop + n.offsetHeight >= n.scrollHeight)) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n    });\n    [o._eSizer, o._ePadTop, o._ePadBot].forEach(function (e) {\n      e.tabIndex = -1;\n      wijmo_1.setAttribute(e, \"aria-hidden\", !0);\n      wijmo_1.setCss(e, {\n        pointerEvents: \"none\",\n        opacity: \"0\"\n      });\n    });\n    o.initialize(i);\n    o._updateViewRange();\n    o.hostElement.addEventListener(\"scroll\", function (e) {\n      o._updateViewRange();\n    });\n    return o;\n  }\n  Object.defineProperty(ListBox.prototype, \"itemsSource\", {\n    get: function () {\n      return this._items;\n    },\n    set: function (e) {\n      if (this._items != e) {\n        if (this._cv) {\n          this._cv.currentChanged.removeHandler(this._cvCurrentChanged, this);\n          this._cv.collectionChanged.removeHandler(this._cvCollectionChanged, this);\n          this._cv = null;\n        }\n        this._items = e;\n        this._cv = wijmo_1.asCollectionView(e);\n        if (null != this._cv) {\n          this._cv.currentChanged.addHandler(this._cvCurrentChanged, this);\n          this._cv.collectionChanged.addHandler(this._cvCollectionChanged, this);\n        }\n        this._populateList();\n        this.onItemsChanged();\n        this.onSelectedIndexChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"collectionView\", {\n    get: function () {\n      return this._cv;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"virtualizationThreshold\", {\n    get: function () {\n      return this._vThreshold;\n    },\n    set: function (e) {\n      if (e != this._vThreshold) {\n        var t = this._getVirtual();\n        this._vThreshold = wijmo_1.asNumber(e, !1, !0);\n        t != this._getVirtual() && this._populateList();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"showGroups\", {\n    get: function () {\n      return this._shGroups;\n    },\n    set: function (e) {\n      if (e != this._shGroups) {\n        this._shGroups = wijmo_1.asBoolean(e);\n        this._populateList();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"isContentHtml\", {\n    get: function () {\n      return this._html;\n    },\n    set: function (e) {\n      if (e != this._html) {\n        this._html = wijmo_1.asBoolean(e);\n        this._populateList();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"itemFormatter\", {\n    get: function () {\n      return this._itemFormatter;\n    },\n    set: function (e) {\n      if (e != this._itemFormatter) {\n        this._itemFormatter = wijmo_1.asFunction(e);\n        this._populateList();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"displayMemberPath\", {\n    get: function () {\n      return this._pathDisplay.path;\n    },\n    set: function (e) {\n      if (e != this.displayMemberPath) {\n        this._pathDisplay.path = wijmo_1.asString(e);\n        this._populateList();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"selectedValuePath\", {\n    get: function () {\n      return this._pathValue.path;\n    },\n    set: function (e) {\n      this._pathValue.path = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"checkedMemberPath\", {\n    get: function () {\n      return this._pathChecked.path;\n    },\n    set: function (e) {\n      if (e != this.checkedMemberPath) {\n        this._pathChecked.path = wijmo_1.asString(e);\n        this._populateList();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"caseSensitiveSearch\", {\n    get: function () {\n      return this._caseSensitive;\n    },\n    set: function (e) {\n      this._caseSensitive = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"itemRole\", {\n    get: function () {\n      return this._itemRole;\n    },\n    set: function (e) {\n      if (e != this.itemRole) {\n        this._itemRole = wijmo_1.asString(e);\n        this._populateList();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  ListBox.prototype.getDisplayValue = function (e) {\n    var t = null;\n    if (e > -1 && wijmo_1.hasItems(this._cv)) {\n      t = this._cv.items[e];\n      this.displayMemberPath && (t = this._pathDisplay.getValue(t));\n    }\n    var i = null != t ? t.toString() : \"\";\n    this._itemFormatter && (i = this._itemFormatter(e, i));\n    return i;\n  };\n  ListBox.prototype.getDisplayText = function (e) {\n    var t = this._getChild(e);\n    return null != t ? t.textContent : \"\";\n  };\n  ListBox.prototype.isItemEnabled = function (e) {\n    var t = this._getChild(e);\n    return null != t && !t.hasAttribute(\"disabled\") && !wijmo_1.hasClass(t, \"wj-state-disabled\") && !wijmo_1.hasClass(t, \"wj-separator\");\n  };\n  Object.defineProperty(ListBox.prototype, \"selectedIndex\", {\n    get: function () {\n      return this._cv ? this._cv.currentPosition : -1;\n    },\n    set: function (e) {\n      if (this._cv) {\n        this._oldSelectedIndex = this._cv.currentPosition;\n        this._cv.moveCurrentToPosition(wijmo_1.asNumber(e));\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"selectedItem\", {\n    get: function () {\n      return this._cv ? this._cv.currentItem : null;\n    },\n    set: function (e) {\n      this._cv && this._cv.moveCurrentTo(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"selectedValue\", {\n    get: function () {\n      var e = this.selectedItem;\n      e && this.selectedValuePath && (e = this._pathValue.getValue(e));\n      return e;\n    },\n    set: function (e) {\n      var t = this._cv,\n        i = t ? t.items : null,\n        o = this.selectedValuePath,\n        n = -1;\n      if (i) {\n        for (var s = 0; s < i.length; s++) {\n          var r = i[s],\n            a = o ? this._pathValue.getValue(r) : r;\n          if (a === e || wijmo_1.DateTime.equals(a, e)) {\n            n = s;\n            break;\n          }\n          if (this.isContentHtml && wijmo_1.isString(a) && a.indexOf(\"<\") > -1 && wijmo_1.toPlainText(a) === e) {\n            n = s;\n            break;\n          }\n        }\n        this.selectedIndex = n;\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ListBox.prototype, \"maxHeight\", {\n    get: function () {\n      var e = this.hostElement,\n        t = e ? parseFloat(e.style.maxHeight) : null;\n      return isNaN(t) ? null : t;\n    },\n    set: function (e) {\n      var t = this.hostElement;\n      if (t) {\n        e = wijmo_1.asNumber(e, !0);\n        t.style.maxHeight = null == e ? \"\" : e + \"px\";\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  ListBox.prototype.showSelection = function (e) {\n    void 0 === e && (e = this.containsFocus());\n    var t = this.hostElement,\n      i = this._children,\n      o = this._getSelectedElement(!1),\n      n = new wijmo_1.Rect(0, 0, 0, 0);\n    if (o != this._oldSel) {\n      this._updateItemAttributes(o, !0);\n      this._updateItemAttributes(this._oldSel, !1);\n      this._oldSel = o;\n    }\n    o instanceof HTMLElement ? n = this._getBoundingClientRect(o) : this._children.length > 0 && (n = this._getBoundingClientRect(this._getChild(0)));\n    var s = this._getBoundingClientRect(t),\n      r = 0;\n    if (this._shGroups) {\n      r = this._itemHeight;\n      if (!this._isVirtual) {\n        var a = i[0];\n        a.offsetHeight && wijmo_1.hasClass(a, \"wj-header\") && (r = a.offsetHeight);\n      }\n    }\n    n.bottom > s.bottom ? t.scrollTop += n.bottom - s.bottom : n.top < s.top + r && (t.scrollTop -= s.top + r - n.top);\n    this._updateViewRange();\n    o = this._getSelectedElement(!0);\n    if (e) {\n      (o && !wijmo_1.contains(o, wijmo_1.getActiveElement()) ? o : t).focus();\n    }\n    t.tabIndex = o ? -1 : this._orgTabIndex;\n  };\n  ListBox.prototype.loadList = function () {\n    this._populateList();\n  };\n  ListBox.prototype.getItemChecked = function (e) {\n    var t = this._cv.items[e],\n      i = this._pathChecked;\n    if (wijmo_1.isObject(t) && i.path) return i.getValue(t);\n    var o = this._getCheckbox(e);\n    return !!o && o.checked;\n  };\n  ListBox.prototype.setItemChecked = function (e, t) {\n    this._setItemChecked(e, t, !0);\n  };\n  ListBox.prototype.toggleItemChecked = function (e) {\n    this.setItemChecked(e, !this.getItemChecked(e));\n  };\n  Object.defineProperty(ListBox.prototype, \"checkedItems\", {\n    get: function () {\n      return this._checkedItems;\n    },\n    set: function (e) {\n      var t = wijmo_1.asArray(e, !1);\n      if (!this._arrayEquals(t, this._checkedItems)) {\n        this._updateCheckedList(t);\n        if (!this._arrayEquals(t, this._checkedItems)) {\n          this._checkedItems = t;\n          this.onCheckedItemsChanged();\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  ListBox.prototype.indexOf = function (e) {\n    return (e = wijmo_1.closest(e, \".wj-listbox-item\")) ? e[ListBox._DIDX_KEY] : -1;\n  };\n  ListBox.prototype.onSelectedIndexChanged = function (e) {\n    this.selectedIndexChanged.raise(this, e);\n  };\n  ListBox.prototype.onItemsChanged = function (e) {\n    this.itemsChanged.raise(this, e);\n  };\n  ListBox.prototype.onLoadingItems = function (e) {\n    this.loadingItems.raise(this, e);\n  };\n  ListBox.prototype.onLoadedItems = function (e) {\n    this.loadedItems.raise(this, e);\n  };\n  ListBox.prototype.onItemChecked = function (e) {\n    this.itemChecked.raise(this, e);\n  };\n  ListBox.prototype.onCheckedItemsChanged = function (e) {\n    this.checkedItemsChanged.raise(this, e);\n  };\n  ListBox.prototype.onFormatItem = function (e) {\n    this.formatItem.raise(this, e);\n  };\n  ListBox.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    if (this.hostElement) {\n      var i = this._cv ? this._cv.items.length : 0,\n        o = this.formatItem.handlerCount;\n      if (i != this._itemCount || o != this._fmtItemHandlers) {\n        this._fmtItemHandlers = o;\n        this._populateList();\n      } else this._updateViewRange();\n    }\n  };\n  ListBox.prototype._updateCheckedList = function (e) {\n    var t = this,\n      i = this._cv,\n      o = this._pathChecked,\n      n = new Map();\n    if (o && i) {\n      var s = i.sourceCollection;\n      if (s && s.length) {\n        wijmo_1.isObject(s[0]) || (o = null);\n        e.forEach(function (e) {\n          return n.set(e, !0);\n        });\n        this._checking = !0;\n        var r = [];\n        s.forEach(function (e) {\n          var t = n.has(e);\n          t && r.push(e);\n          o && o.setValue(e, t);\n        });\n        this._checking = !1;\n        e = r;\n      }\n      i.items.forEach(function (e, i) {\n        t._setItemChecked(i, n.has(e), !1);\n      });\n    }\n  };\n  ListBox.prototype._getBoundingClientRect = function (e) {\n    if (!e.offsetHeight) {\n      var t = this.indexOf(e),\n        i = this.hostElement;\n      if (t > -1 && i) {\n        t = this._getElementIndex(t);\n        var o = i.getBoundingClientRect();\n        return new wijmo_1.Rect(0, o.top - i.scrollTop + t * this._itemHeight, o.width, this._itemHeight);\n      }\n    }\n    return wijmo_1.Rect.fromBoundingRect(e.getBoundingClientRect());\n  };\n  ListBox.prototype._updateItemAttributes = function (e, t) {\n    if (e) {\n      var i = this.checkedMemberPath ? this._getCheckbox(this.indexOf(e)) : null,\n        o = i ? i.checked : null;\n      wijmo_1.toggleClass(e, \"wj-state-selected\", t);\n      wijmo_1.setAttribute(e, \"aria-selected\", this._getAriaSelected(t, o));\n      e.tabIndex = t ? this._orgTabIndex : -1;\n    }\n  };\n  ListBox.prototype._getCheckedItems = function () {\n    var e = this,\n      t = this._cv,\n      i = this._pathChecked,\n      o = [];\n    t && i && i.path && (o = t.sourceCollection.filter(function (o, n) {\n      if (t.filter && !t.filter(o)) return !1;\n      if (wijmo_1.isObject(o)) return i.getValue(o);\n      var s = t.items[n] == o ? n : t.items.indexOf(o);\n      return e.getItemChecked(s);\n    }));\n    return o;\n  };\n  ListBox.prototype._arrayEquals = function (e, t) {\n    if (e == t) return !0;\n    if (!e || !t || e.length != t.length) return !1;\n    for (var i = 0; i < e.length; i++) if (e[i] !== t[i]) return !1;\n    return !0;\n  };\n  ListBox.prototype._getChild = function (e) {\n    e = this._getElementIndex(e);\n    return this._children[e];\n  };\n  ListBox.prototype._getElementIndex = function (e) {\n    if (this._shGroups) for (var t = this._children, i = 0; i <= e && i < t.length; i++) {\n      var o = t[i];\n      wijmo_1.hasClass(o, \"wj-header\") && e++;\n    }\n    return e;\n  };\n  ListBox.prototype._setItemChecked = function (e, t, i) {\n    void 0 === i && (i = !0);\n    var o = this._cv.items[e],\n      n = this._pathChecked,\n      s = !1,\n      r = this.selectedIndex,\n      a = this._checking;\n    if (wijmo_1.isObject(o) && n.path) {\n      if (!!n.getValue(o) != t) {\n        var l = wijmo_1.tryCast(this._cv, \"IEditableCollectionView\");\n        s = !0;\n        this._checking = !0;\n        if (l) {\n          l.editItem(o);\n          n.setValue(o, t);\n          l.commitEdit();\n        } else {\n          n.setValue(o, t);\n          l.refresh();\n        }\n        this._checking = a;\n      }\n    } else if (i) {\n      var h = this._checkedItems.indexOf(o);\n      (t && h < 0 || !t && h >= 0) && (s = !0);\n    }\n    var u = this._getCheckbox(e);\n    if (u) {\n      u.checked = t;\n      var c = wijmo_1.closest(u, \".wj-listbox-item\");\n      if (c) {\n        wijmo_1.toggleClass(c, \"wj-state-checked\", t);\n        wijmo_1.setAttribute(c, \"aria-selected\", !!t || null);\n      }\n    }\n    if (i) {\n      if (s) {\n        this._checkedItems = this._checkedItemsUpdate(o, t);\n        this.onItemChecked();\n        this.onCheckedItemsChanged();\n      }\n      r != this.selectedIndex && this.onSelectedIndexChanged();\n    }\n    return s;\n  };\n  ListBox.prototype._checkedItemsUpdate = function (e, t) {\n    var i = this._cv.sourceCollection,\n      o = this._checkedItems,\n      n = 0;\n    if (t) {\n      for (var s = 0; s < i.length; s++) {\n        var r = i[s];\n        if (r === o[n] && n < o.length) n++;else if (r === e) return o.slice(0, n).concat([e]).concat(o.slice(n));\n      }\n      return o;\n    }\n    var a = o.indexOf(e);\n    return o.slice(0, a).concat(o.slice(a + 1));\n  };\n  ListBox.prototype._cvCollectionChanged = function () {\n    if (!this._checking) {\n      this._populateList();\n      this.onItemsChanged();\n    }\n  };\n  ListBox.prototype._cvCurrentChanged = function () {\n    if (!this._checking) {\n      this.showSelection();\n      this._ignoredItemChangedEvents || this.onSelectedIndexChanged();\n    }\n  };\n  ListBox.prototype._populateList = function () {\n    var e = this.hostElement,\n      t = this._cv;\n    this._itemCount = t ? t.items.length : 0;\n    this._isVirtual = this._getVirtual();\n    this._oldSel = null;\n    this._itemsAbove = -1;\n    this._itemsBelow = -1;\n    if (e) {\n      var i = this.containsFocus(),\n        o = void 0;\n      this.onLoadingItems();\n      var n = this._children = [];\n      e.textContent = \"\";\n      if (t) {\n        var s = 0,\n          r = void 0,\n          a = [];\n        if (this._shGroups && t.groups && t.groups.length) {\n          o = {};\n          for (var l = 0; l < t.groups.length; l++) {\n            var h = t.groups[l];\n            o[s] = h;\n            r = this._createHeaderItem(h);\n            a.push(r);\n            for (var u = 0; u < h.items.length; u++, s++) {\n              r = this._createItem(s);\n              a.push(r);\n            }\n          }\n        } else for (u = 0; u < t.items.length; u++, s++) {\n          r = this._createItem(s);\n          a.push(r);\n        }\n        var c = this._isVirtual ? document.createElement(\"div\") : e,\n          p = 0;\n        c.innerHTML = a.join(\"\");\n        for (u = 0; u < c.children.length; u++) {\n          var d = c.children[u];\n          p == t.currentPosition && (this._oldSel = d);\n          d[ListBox._DIDX_KEY] = d.className.indexOf(\"wj-header\") < 0 ? p++ : -1;\n          n.push(d);\n        }\n      }\n      if (this.formatItem.hasHandlers && t) {\n        s = 0;\n        var _ = t.items;\n        for (d = new FormatItemEventArgs(0, null, null), u = 0; u < n.length; u++) {\n          d._item = n[u];\n          if (this._shGroups && wijmo_1.hasClass(d._item, \"wj-header\")) {\n            d._index = -1;\n            d._data = o[s];\n          } else {\n            d._index = s;\n            d._data = _[s++];\n          }\n          this.onFormatItem(d);\n        }\n      }\n      if (this._isVirtual) {\n        var m = this._getCanvasContext(),\n          f = null,\n          g = 0;\n        for (u = 0; u < n.length; u++) {\n          r = n[u];\n          var w = m.measureText(r.textContent);\n          if (w.width > g) {\n            f = r;\n            g = w.width;\n          }\n        }\n        if (f) {\n          var b = !1,\n            y = e.style.display,\n            v = e.style.position;\n          if (!e.parentElement) {\n            b = !0;\n            (this._container || document.body).appendChild(e);\n            wijmo_1.setCss(e, {\n              display: \"\",\n              position: \"absolute\"\n            });\n          }\n          e.appendChild(f);\n          var x = f.style.whiteSpace;\n          f.style.whiteSpace = \"nowrap\";\n          this._ePadTop.style.width = f.offsetWidth + \"px\";\n          this._itemHeight = f.offsetHeight || this._itemHeight;\n          f.style.whiteSpace = x;\n          this._eSizer.style.height = n.length * this._itemHeight + \"px\";\n          e.appendChild(this._eSizer);\n          this._clientHeight = e.clientHeight;\n          wijmo_1.removeChild(this._eSizer);\n          if (b) {\n            wijmo_1.removeChild(e);\n            wijmo_1.setCss(e, {\n              display: y,\n              position: v\n            });\n          }\n          wijmo_1.removeChild(f);\n        } else this._ePadTop.style.width = \"\";\n        this._updateViewRange();\n      }\n      this.checkedItems = this._getCheckedItems();\n      var j = this._getSelectedElement(!0);\n      if (i) {\n        (j || e).focus();\n      } else j && this.showSelection();\n      e.tabIndex = j ? -1 : this._orgTabIndex;\n      this.onLoadedItems();\n    }\n  };\n  ListBox.prototype._getCanvasContext = function () {\n    var e = document.createElement(\"canvas\").getContext(\"2d\"),\n      t = getComputedStyle(this.hostElement);\n    t.fontSize && t.fontFamily && (e.font = t.fontSize + \" \" + t.fontFamily.split(\",\")[0]);\n    return e;\n  };\n  ListBox.prototype._getVirtual = function () {\n    if (this._itemCount <= this._vThreshold) return !1;\n    var e = this.hostElement;\n    if (e) {\n      var t = getComputedStyle(e);\n      if (parseInt(t.columnCount) > 1 || t.display.indexOf(\"flex\") > -1 || t.display.indexOf(\"grid\") > -1) return !1;\n    }\n    return !0;\n  };\n  ListBox.prototype._getMaxSupportedCssHeight = function () {\n    var e = 265e5;\n    wijmo_1.isIE() ? e = 15e5 : wijmo_1.isFirefox() && (e = 175e5);\n    return e;\n  };\n  ListBox.prototype._updateViewRange = function () {\n    var e = this.hostElement,\n      t = this._itemHeight,\n      i = this._children;\n    if (!(e && e.parentElement && this._isVirtual && i)) return !1;\n    var o = e.scrollTop;\n    wijmo_1.assert(t * i.length < this._getMaxSupportedCssHeight(), \"The number of items (\" + i.length + \") exceeds the maximum number of items (\" + Math.floor(this._getMaxSupportedCssHeight() / t) + \") allowed for this browser.\");\n    var n = Math.max(e.clientHeight, this._clientHeight),\n      s = Math.floor(o / t),\n      r = Math.min(i.length, Math.ceil((o + n) / t) - s),\n      a = Math.max(0, i.length - s - r);\n    if (s == this._itemsAbove && a == this._itemsBelow) return !1;\n    this._itemsAbove = s;\n    this._itemsBelow = a;\n    var l = document.createDocumentFragment(),\n      h = this.containsFocus();\n    this._ePadTop.style.height = s * t + \"px\";\n    l.appendChild(this._ePadTop);\n    if (this.showGroups && !wijmo_1.hasClass(i[s], \"wj-header\")) for (var u = s; u >= 0; u--) if (wijmo_1.hasClass(i[u], \"wj-header\")) {\n      l.appendChild(i[u]);\n      break;\n    }\n    for (u = s; u <= s + r && u < i.length; u++) l.appendChild(i[u]);\n    this._ePadBot.style.height = a * t + \"px\";\n    l.appendChild(this._ePadBot);\n    e.textContent = \"\";\n    e.appendChild(l);\n    var c = (s + r + a) * t - e.scrollHeight;\n    this._ePadBot.style.height = this._ePadBot.offsetHeight - c + \"px\";\n    var p = this._getSelectedElement(!0);\n    if (h) {\n      (p || e).focus({\n        preventScroll: !0\n      });\n    }\n    e.tabIndex = p ? -1 : this._orgTabIndex;\n    return !0;\n  };\n  ListBox.prototype._getSelectedElement = function (e) {\n    var t = this.selectedIndex,\n      i = this._getElementIndex(t),\n      o = i > -1 ? this._children[i] : null;\n    e && o && !o.offsetHeight && (o = null);\n    return o;\n  };\n  ListBox.prototype._handleResize = function () {\n    this._updateViewRange();\n  };\n  ListBox.prototype._createItem = function (e) {\n    var t = this._cv.items[e],\n      i = e == this._cv.currentPosition,\n      o = this.getDisplayValue(e);\n    1 != this._html && (o = wijmo_1.escapeHtml(o));\n    var n = null;\n    if (this.checkedMemberPath) {\n      n = !1;\n      wijmo_1.isObject(t) ? n = !!this._pathChecked.getValue(t) : this._checkedItems && (n = this._checkedItems.indexOf(t) > -1);\n      o = '<label><input type=\"checkbox\" tabindex=\"-1\"' + (n ? \" checked\" : \"\") + \"><span></span> \" + o + \"</label>\";\n    }\n    var s = \"wj-listbox-item\";\n    i && (s += \" wj-state-selected\");\n    n && (s += \" wj-state-checked\");\n    if (this._html) {\n      var r = [\"wj-separator\", \"wj-state-disabled\"];\n      if (o.indexOf(r[0]) > -1 || o.indexOf(r[1]) > -1) {\n        var a = wijmo_1.createElement(o);\n        r.forEach(function (e) {\n          wijmo_1.hasClass(a, e) && (s += \" \" + e);\n        });\n      }\n    }\n    return '<div class=\"' + s + '\" role=\"' + this.itemRole + '\" ' + (this._getAriaSelected(i, n) ? 'aria-selected=\"true\" ' : \"\") + 'tabindex=\"' + (i && !this.isDisabled ? this._orgTabIndex : -1) + '\">' + o + \"</div>\";\n  };\n  ListBox.prototype._getAriaSelected = function (e, t) {\n    return !!(null != t ? t : e) || null;\n  };\n  ListBox.prototype._createHeaderItem = function (e) {\n    return '<div class=\"wj-listbox-item wj-header wj-state-disabled\" role=\"presentation\" tabindex=\"-1\">' + wijmo_1.escapeHtml(e.name) + \"</div>\";\n  };\n  ListBox.prototype._click = function (e) {\n    if (0 == e.button && !e.defaultPrevented) {\n      var t = this.indexOf(e.target);\n      if (t > -1) {\n        this.selectedIndex = t;\n        if (this.checkedMemberPath) {\n          var i = this._getCheckbox(t),\n            o = wijmo_1.closest(i, \".wj-listbox-item\");\n          if (e.target == i || e.target == o) {\n            o.focus({\n              preventScroll: !0\n            });\n            this.setItemChecked(t, i.checked);\n          }\n        } else {\n          (o = wijmo_1.closest(e.target, \".wj-listbox-item\")).focus({\n            preventScroll: !0\n          });\n        }\n      }\n    }\n  };\n  ListBox.prototype._keydown = function (e) {\n    var t = this.selectedIndex;\n    if (!e.defaultPrevented) {\n      if (65 == e.keyCode && (e.ctrlKey || e.metaKey)) {\n        var i = this.collectionView;\n        if (this.checkedMemberPath && wijmo_1.hasItems(i)) {\n          this.checkedItems = this.checkedItems.length != i.items.length ? i.items : [];\n          e.preventDefault();\n          return;\n        }\n      }\n      if (!(e.ctrlKey || e.shiftKey || e.altKey || e.metaKey)) switch (e.keyCode) {\n        case wijmo_1.Key.Down:\n          e.preventDefault();\n          this._selectNext();\n          break;\n        case wijmo_1.Key.Up:\n          e.preventDefault();\n          this._selectPrev();\n          break;\n        case wijmo_1.Key.Home:\n          e.preventDefault();\n          this._selectFirst();\n          break;\n        case wijmo_1.Key.End:\n          e.preventDefault();\n          this._selectLast();\n          break;\n        case wijmo_1.Key.PageDown:\n          e.preventDefault();\n          this._selectNextPage();\n          break;\n        case wijmo_1.Key.PageUp:\n          e.preventDefault();\n          this._selectPrevPage();\n          break;\n        case wijmo_1.Key.Space:\n          if (this.checkedMemberPath && t > -1) {\n            var o = this._getCheckbox(t);\n            if (o && this.isItemEnabled(t)) {\n              this.setItemChecked(t, !o.checked);\n              e.preventDefault();\n            }\n          }\n      }\n    }\n  };\n  ListBox.prototype._keypress = function (e) {\n    var t = this;\n    if (!e.defaultPrevented && !(e.target instanceof HTMLInputElement) && (e.charCode > 32 || 32 == e.charCode && this._search)) {\n      e.preventDefault();\n      this._search += String.fromCharCode(e.charCode);\n      this._toSearch && clearTimeout(this._toSearch);\n      this._toSearch = setTimeout(function () {\n        t._toSearch = null;\n        t._search = \"\";\n      }, wijmo_1.Control._SEARCH_DELAY);\n      var i = this._findNext();\n      if (i < 0 && this._search.length > 1) {\n        this._search = this._search[this._search.length - 1];\n        i = this._findNext();\n      }\n      i > -1 && (this.selectedIndex = i);\n    }\n  };\n  ListBox.prototype._selectNext = function () {\n    for (var e = this.selectedIndex + 1; e < this._children.length; e++) if (this.isItemEnabled(e)) {\n      this.selectedIndex = e;\n      return !0;\n    }\n    return !1;\n  };\n  ListBox.prototype._selectPrev = function () {\n    for (var e = this.selectedIndex - 1; e >= 0; e--) if (this.isItemEnabled(e)) {\n      this.selectedIndex = e;\n      return !0;\n    }\n    return !1;\n  };\n  ListBox.prototype._selectFirst = function () {\n    for (var e = 0; e < this._children.length; e++) if (this.isItemEnabled(e)) {\n      this.selectedIndex = e;\n      return !0;\n    }\n    return !1;\n  };\n  ListBox.prototype._selectLast = function () {\n    for (var e = this._children.length - 1; e >= 0; e--) if (this.isItemEnabled(e)) {\n      this.selectedIndex = e;\n      return !0;\n    }\n    return !1;\n  };\n  ListBox.prototype._selectNextPage = function () {\n    var e = this.hostElement.offsetHeight,\n      t = this._children,\n      i = this._cv ? this._cv.items.length : 0,\n      o = 0;\n    if (e > 0) for (var n = this.selectedIndex + 1; n < i; n++) {\n      var s = t[n].scrollHeight || this._itemHeight;\n      if (o + s > e && this.isItemEnabled(n)) {\n        this.selectedIndex = n;\n        return !0;\n      }\n      o += s;\n    }\n    return this._selectLast();\n  };\n  ListBox.prototype._selectPrevPage = function () {\n    var e = this.hostElement.offsetHeight,\n      t = this._children,\n      i = 0;\n    if (e > 0) for (var o = this.selectedIndex - 1; o > 0; o--) {\n      var n = t[o].scrollHeight || this._itemHeight;\n      if (i + n > e && this.isItemEnabled(o)) {\n        this.selectedIndex = o;\n        return !0;\n      }\n      i += n;\n    }\n    return this._selectFirst();\n  };\n  ListBox.prototype._findNext = function () {\n    if (this.hostElement) {\n      var e = this._children.length,\n        t = this.selectedIndex;\n      (t < 0 || 1 == this._search.length) && t++;\n      var i = this._search,\n        o = this.caseSensitiveSearch;\n      o || (i = i.toLowerCase());\n      for (var n = 0; n < e; n++) {\n        var s = (t + n) % e;\n        if (this.isItemEnabled(s)) {\n          var r = this.getDisplayText(s).trim();\n          o || (r = r.toLowerCase());\n          if (0 == r.indexOf(i)) return s;\n        }\n      }\n    }\n    return -1;\n  };\n  ListBox.prototype._getCheckbox = function (e) {\n    var t = this._children;\n    e = this._getElementIndex(e);\n    return this.hostElement && e > -1 && e < t.length ? t[e].querySelector(\"input[type=checkbox]\") : null;\n  };\n  ListBox.prototype._initFromSelect = function (e) {\n    for (var t = e.children, i = [], o = -1, n = 0; n < t.length; n++) {\n      var s = t[n];\n      if (\"OPTION\" == s.tagName) {\n        s.hasAttribute(\"selected\") && (o = i.length);\n        s.innerHTML ? i.push({\n          hdr: s.innerHTML,\n          val: s.getAttribute(\"value\"),\n          cmdParam: s.getAttribute(\"cmd-param\")\n        }) : i.push({\n          hdr: '<div class=\"wj-separator\"></div>'\n        });\n        e.removeChild(s);\n        n--;\n      }\n    }\n    if (i) {\n      this.displayMemberPath = \"hdr\";\n      this.selectedValuePath = \"val\";\n      this.itemsSource = i;\n      this.selectedIndex = o;\n    }\n  };\n  ListBox.prototype._setIsDisabled = function (t) {\n    e.prototype._setIsDisabled.call(this, t);\n    this._updateTabIndex();\n  };\n  ListBox.prototype._setTabOrder = function (t) {\n    e.prototype._setTabOrder.call(this, t);\n    this.isDisabled || this._updateTabIndex();\n  };\n  ListBox.prototype._updateTabIndex = function () {\n    var e = this.hostElement,\n      t = this._getSelectedElement(!0);\n    if (t) {\n      t.tabIndex = this.isDisabled ? -1 : this._orgTabIndex;\n      e.tabIndex = -1;\n    } else e.tabIndex = this.isDisabled ? -1 : this._orgTabIndex;\n  };\n  ListBox._DIDX_KEY = \"$WJ-DIDX\";\n  ListBox._VTHRESH = Number.MAX_VALUE / 2;\n  return ListBox;\n}(wijmo_1.Control);\nexports.ListBox = ListBox;\nvar FormatItemEventArgs = function (e) {\n  __extends(FormatItemEventArgs, e);\n  function FormatItemEventArgs(t, i, o) {\n    var n = e.call(this) || this;\n    n._index = wijmo_1.asNumber(t);\n    n._data = i;\n    n._item = wijmo_1.asType(o, HTMLElement, !0);\n    return n;\n  }\n  Object.defineProperty(FormatItemEventArgs.prototype, \"index\", {\n    get: function () {\n      return this._index;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FormatItemEventArgs.prototype, \"data\", {\n    get: function () {\n      return this._data;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FormatItemEventArgs.prototype, \"item\", {\n    get: function () {\n      return this._item;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return FormatItemEventArgs;\n}(wijmo_1.EventArgs);\nexports.FormatItemEventArgs = FormatItemEventArgs;\nwijmo_1._addCultureInfo(\"MultiSelectListBox\", {\n  filterPlaceholder: \"Filter\",\n  selectAll: \"Select All\"\n});\nvar DateSelectionMode,\n  ShowMonthPicker,\n  MultiSelectListBox = function (e) {\n    __extends(MultiSelectListBox, e);\n    function MultiSelectListBox(t, i) {\n      var o = e.call(this, t) || this;\n      o._selectAllLabel = null;\n      o._filterPlaceholder = null;\n      o._filterText = \"\";\n      o._checkOnFilter = !0;\n      o._delay = wijmo_1.Control._SEARCH_DELAY;\n      o.checkedItemsChanged = new wijmo_1.Event();\n      o.selectedIndexChanged = new wijmo_1.Event();\n      var n = o.getTemplate();\n      o.applyTemplate(\"wj-control wj-content wj-multiselectlistbox\", n, {\n        _selectAll: \"select-all\",\n        _filter: \"filter\",\n        _lbHost: \"list-box\"\n      });\n      o._selectAll.style.display = \"none\";\n      o._filter.style.display = \"none\";\n      o._lbx = new ListBox(o._lbHost, {\n        checkedMemberPath: MultiSelectListBox._DEF_CHECKED_PATH,\n        loadedItems: function () {\n          return o._updateCheckAllCheckbox();\n        },\n        checkedItemsChanged: function (e) {\n          return o.onCheckedItemsChanged(e);\n        },\n        selectedIndexChanged: function () {\n          return o.onSelectedIndexChanged();\n        }\n      });\n      o._cbSelectAll = o._selectAll.querySelector(\"input[type=checkbox]\");\n      o._spSelectAll = o._selectAll.querySelector(\"label>span\");\n      var s = wijmo_1.culture.MultiSelectListBox;\n      wijmo_1.setText(o._spSelectAll, s.selectAll);\n      o._filter.placeholder = s.filterPlaceholder;\n      o.initialize(i);\n      o.addEventListener(o._filter, \"input\", function () {\n        if (o._filter.value != o._filterText) {\n          o._filterText = o._filter.value;\n          o._toSearch && clearTimeout(o._toSearch);\n          o._toSearch = setTimeout(function () {\n            o._toSearch = null;\n            o._applyFilter();\n          }, o.delay);\n        }\n      });\n      o.addEventListener(o._cbSelectAll, \"click\", function (e) {\n        var t = o._lbx.collectionView;\n        wijmo_1.hasItems(t) && (o.checkedItems = e.target.checked ? t.items : []);\n      });\n      o.addEventListener(o.hostElement, \"keydown\", function (e) {\n        var t = o.showFilterInput ? o._filter : null,\n          i = o._lbx;\n        if (t && e.keyCode == wijmo_1.Key.F3) {\n          wijmo_1.setSelectionRange(t, 0, t.value.length);\n          e.preventDefault();\n        }\n        if (wijmo_1.getActiveElement() == t) {\n          var n = !e.altKey;\n          switch (e.keyCode) {\n            case wijmo_1.Key.Escape:\n            case wijmo_1.Key.F4:\n              n = !1;\n          }\n          n && e.stopPropagation();\n        }\n        if (!i.containsFocus()) switch (e.keyCode) {\n          case wijmo_1.Key.Up:\n          case wijmo_1.Key.Down:\n            o._lbx.focus();\n            var s = i.selectedIndex + (e.keyCode == wijmo_1.Key.Up ? -1 : 1);\n            i.selectedIndex = Math.max(0, s);\n            e.preventDefault();\n        }\n      }, !0);\n      o.hostElement.tabIndex = -1;\n      o._lbx.tabOrder = o._orgTabIndex;\n      return o;\n    }\n    Object.defineProperty(MultiSelectListBox.prototype, \"itemsSource\", {\n      get: function () {\n        return this._lbx.itemsSource;\n      },\n      set: function (e) {\n        this._lbx.itemsSource = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"collectionView\", {\n      get: function () {\n        return this._lbx.collectionView;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"virtualizationThreshold\", {\n      get: function () {\n        return this._lbx.virtualizationThreshold;\n      },\n      set: function (e) {\n        this._lbx.virtualizationThreshold = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"displayMemberPath\", {\n      get: function () {\n        return this._lbx.displayMemberPath;\n      },\n      set: function (e) {\n        this._lbx.displayMemberPath = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"isContentHtml\", {\n      get: function () {\n        return this._lbx.isContentHtml;\n      },\n      set: function (e) {\n        this._lbx.isContentHtml = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"caseSensitiveSearch\", {\n      get: function () {\n        return this._lbx.caseSensitiveSearch;\n      },\n      set: function (e) {\n        this._lbx.caseSensitiveSearch = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"delay\", {\n      get: function () {\n        return this._delay;\n      },\n      set: function (e) {\n        this._delay = wijmo_1.asNumber(e, !1, !0);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"showGroups\", {\n      get: function () {\n        return this._lbx.showGroups;\n      },\n      set: function (e) {\n        this._lbx.showGroups = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"checkOnFilter\", {\n      get: function () {\n        return this._checkOnFilter;\n      },\n      set: function (e) {\n        if (e != this.checkOnFilter) {\n          this._checkOnFilter = wijmo_1.asBoolean(e);\n          this.checkedItems = [];\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"selectedIndex\", {\n      get: function () {\n        return this._lbx.selectedIndex;\n      },\n      set: function (e) {\n        this._lbx.selectedIndex = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"listBox\", {\n      get: function () {\n        return this._lbx;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"showFilterInput\", {\n      get: function () {\n        return \"\" == this._filter.style.display;\n      },\n      set: function (e) {\n        if (e != this.showFilterInput) {\n          this._filter.style.display = wijmo_1.asBoolean(e) ? \"\" : \"none\";\n          if (!this.showFilterInput) {\n            this._filter.value = \"\";\n            this._applyFilter();\n          }\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"filterInputPlaceholder\", {\n      get: function () {\n        return this._filterPlaceholder;\n      },\n      set: function (e) {\n        if (e != this._filterPlaceholder) {\n          this._filterPlaceholder = wijmo_1.asString(e);\n          this.refresh();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"showSelectAllCheckbox\", {\n      get: function () {\n        return \"\" == this._selectAll.style.display;\n      },\n      set: function (e) {\n        this._selectAll.style.display = wijmo_1.asBoolean(e) ? \"\" : \"none\";\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"selectAllLabel\", {\n      get: function () {\n        return this._selectAllLabel;\n      },\n      set: function (e) {\n        if (e != this._selectAllLabel) {\n          this._selectAllLabel = wijmo_1.asString(e);\n          this.refresh();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"checkedMemberPath\", {\n      get: function () {\n        var e = this.listBox.checkedMemberPath;\n        return e != MultiSelectListBox._DEF_CHECKED_PATH ? e : null;\n      },\n      set: function (e) {\n        e = wijmo_1.asString(e);\n        this.listBox.checkedMemberPath = e || MultiSelectListBox._DEF_CHECKED_PATH;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(MultiSelectListBox.prototype, \"checkedItems\", {\n      get: function () {\n        return this.listBox.checkedItems;\n      },\n      set: function (e) {\n        this.listBox.checkedItems = wijmo_1.asArray(e);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    MultiSelectListBox.prototype.onCheckedItemsChanged = function (e) {\n      var t = this;\n      this._updateCheckAllCheckbox();\n      this.checkedItemsChanged.raise(this, e);\n      \"object\" == typeof e._items[0] && (this.checkedMemberPath || MultiSelectListBox._DEF_CHECKED_PATH) in e._items[0] && setTimeout(function () {\n        t._lbx._updateCheckedList(t.checkedItems);\n      }, 0);\n    };\n    MultiSelectListBox.prototype.onSelectedIndexChanged = function (e) {\n      this.selectedIndexChanged.raise(this, e);\n    };\n    MultiSelectListBox.prototype.refresh = function (t) {\n      void 0 === t && (t = !0);\n      e.prototype.refresh.call(this, t);\n      if (this.hostElement) {\n        var i = wijmo_1.culture.MultiSelectListBox;\n        this._filter.placeholder = null != this._filterPlaceholder ? this._filterPlaceholder : i.filterPlaceholder;\n        this._spSelectAll && wijmo_1.setText(this._spSelectAll, null != this._selectAllLabel ? this._selectAllLabel : i.selectAll);\n        this._updateCheckAllCheckbox();\n      }\n    };\n    MultiSelectListBox.prototype.dispose = function () {\n      this.listBox.dispose();\n      e.prototype.dispose.call(this);\n    };\n    MultiSelectListBox.prototype._applyFilter = function () {\n      var e = this,\n        t = this._lbx,\n        i = t.collectionView,\n        o = this._filter.value,\n        n = o ? new RegExp(wijmo_1.escapeRegExp(o), t.caseSensitiveSearch ? \"\" : \"i\") : null,\n        s = this.displayMemberPath,\n        r = s ? new wijmo_1.Binding(s) : null,\n        a = this.checkOnFilter ? null : this.checkedItems;\n      i.filter = function (t) {\n        if (null != n) {\n          if (a && a.indexOf(t) > -1) return !0;\n          r && (t = r.getValue(t));\n          e.isContentHtml && (t = wijmo_1.toPlainText(t));\n          return null != t && n.test(t.toString());\n        }\n        return !0;\n      };\n      t.selectedIndex = Math.max(0, t.selectedIndex);\n      this._checkOnFilter && (this.checkedItems = n ? i.items : []);\n    };\n    MultiSelectListBox.prototype._updateCheckAllCheckbox = function () {\n      var e = this._lbx.collectionView,\n        t = this._cbSelectAll;\n      if (wijmo_1.hasItems(e)) {\n        var i = e.items.length,\n          o = this.checkedItems.length;\n        wijmo_1.setChecked(t, o == i || 0 != o && null);\n        t.disabled = !1;\n      } else {\n        wijmo_1.setChecked(t, !1);\n        t.checked = !1;\n        t.disabled = !0;\n      }\n    };\n    MultiSelectListBox.prototype._setIsDisabled = function (t) {\n      e.prototype._setIsDisabled.call(this, t);\n      this.hostElement.tabIndex = -1;\n      this.isDisabled ? this._lbx.tabOrder = -1 : this._lbx.tabOrder = this._orgTabIndex;\n    };\n    MultiSelectListBox.prototype._setTabOrder = function (e) {\n      this._orgTabIndex = e;\n      this._lbx.tabOrder = e;\n    };\n    MultiSelectListBox.prototype.tryForceClearDelayAndFilter = function () {\n      var e = this;\n      if (this._toSearch) {\n        var t = this._delay;\n        this._filterText = this._filter.value;\n        this._toSearch && clearTimeout(this._toSearch);\n        this._toSearch = setTimeout(function () {\n          e._toSearch = null;\n          e._applyFilter();\n        }, 0);\n        this._delay = t;\n      }\n    };\n    MultiSelectListBox.prototype.onLostFocus = function () {\n      this.tryForceClearDelayAndFilter();\n      e.prototype.onLostFocus.call(this);\n    };\n    MultiSelectListBox._DEF_CHECKED_PATH = \"$checked\";\n    MultiSelectListBox.controlTemplate = '<div class=\"wj-template wj-listbox\"><input wj-part=\"filter\" class=\"wj-form-control\" tabindex=\"-1\"><div wj-part=\"select-all\" class=\"wj-header wj-select-all wj-listbox-item\"><label><input type=\"checkbox\" tabindex=\"-1\"> <span></span></label></div><div wj-part=\"list-box\"/></div>';\n    return MultiSelectListBox;\n  }(wijmo_1.Control);\nexports.MultiSelectListBox = MultiSelectListBox;\nwijmo_1._addCultureInfo(\"Calendar\", {\n  ariaLabels: {\n    calendar: \"Calendar\",\n    monthView: \"Month View\",\n    yearView: \"Year View\",\n    prvMo: \"Previous Month\",\n    today: \"Select Today\",\n    nxtMo: \"Next Month\",\n    prvYr: \"Previous Year\",\n    currMo: \"Current Month\",\n    nxtYr: \"Next Year\"\n  }\n});\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Day = 1] = \"Day\";\n  e[e.Month = 2] = \"Month\";\n  e[e.Range = 3] = \"Range\";\n}(DateSelectionMode = exports.DateSelectionMode || (exports.DateSelectionMode = {}));\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.FirstMonth = 1] = \"FirstMonth\";\n  e[e.LastMonth = 2] = \"LastMonth\";\n  e[e.FirstAndLastMonths = 3] = \"FirstAndLastMonths\";\n  e[e.AllMonths = 4] = \"AllMonths\";\n  e[e.Outside = 5] = \"Outside\";\n}(ShowMonthPicker = exports.ShowMonthPicker || (exports.ShowMonthPicker = {}));\nvar ClickAction,\n  Calendar = function (e) {\n    __extends(Calendar, e);\n    function Calendar(t, i) {\n      var o = e.call(this, t) || this;\n      o._yrPicker = !0;\n      o._mtPicker = ShowMonthPicker.FirstMonth;\n      o._wksBefore = 0;\n      o._wksAfter = 0;\n      o._rngMin = 0;\n      o._rngMax = 0;\n      o._min = null;\n      o._max = null;\n      o._readOnly = !1;\n      o._handleWheel = !0;\n      o._fdw = null;\n      o._selMode = DateSelectionMode.Day;\n      o._tmYrHidden = 0;\n      o._fmtYrMo = \"y\";\n      o._fmtYr = \"yyyy\";\n      o._fmtDayHdr = \"ddd\";\n      o._fmtDay = \"d \";\n      o._fmtMonths = \"MMM\";\n      o.valueChanged = new wijmo_1.Event();\n      o.rangeEndChanged = new wijmo_1.Event();\n      o.rangeChanged = new wijmo_1.Event();\n      o.displayMonthChanged = new wijmo_1.Event();\n      o.formatItem = new wijmo_1.Event(function () {\n        o.invalidate();\n      });\n      o._value = o._rngEnd = wijmo_1.DateTime.newDate();\n      o._month = o._getMonth(o._value);\n      o._cals = [o];\n      o._createChildren();\n      o._createYearPicker();\n      var n = o.hostElement,\n        s = o.addEventListener.bind(o);\n      s(n, \"keydown\", o._keydown.bind(o));\n      s(n, \"click\", o._click.bind(o));\n      o._rptUp = new wijmo_1._ClickRepeater(o._btnPrv);\n      o._rptDn = new wijmo_1._ClickRepeater(o._btnNxt);\n      o.addEventListener(n, \"wheel\", function (e) {\n        if (o.handleWheel && !e.defaultPrevented && !o.isReadOnly && o.containsFocus()) {\n          e.deltaY < 0 ? o._btnPrv.click() : o._btnNxt.click();\n          e.preventDefault();\n        }\n      });\n      o.initialize(i);\n      o.refresh(!0);\n      return o;\n    }\n    Object.defineProperty(Calendar.prototype, \"value\", {\n      get: function () {\n        return this._value;\n      },\n      set: function (e) {\n        if (e !== this._value) {\n          this._clearingRangeEnd = !wijmo_1.DateTime.equals(this._value, e);\n          this.rangeEnd = null;\n          this._clearingRangeEnd = !1;\n          e = wijmo_1.asDate(e, !0);\n          e = this._clamp(e);\n          if (this._valid(e) || null == e) {\n            this.ensureVisible(e || new Date());\n            if (!wijmo_1.DateTime.equals(this._value, e)) {\n              this._value = e;\n              this.invalidate(!1);\n              this.onValueChanged();\n            }\n          }\n          if (!this.value) {\n            var t = this.min,\n              i = this.max,\n              o = this.displayMonth;\n            i && i < o ? this.ensureVisible(i) : t && t > o && this.ensureVisible(t);\n          }\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"rangeEnd\", {\n      get: function () {\n        return this._rngEnd;\n      },\n      set: function (e) {\n        e = wijmo_1.asDate(e, !0);\n        if ((e = this._clamp(e)) && this._value && this._rngMode()) {\n          e < this._value && (e = this._value);\n          var t = this._rngMin,\n            i = this._rngMax;\n          if (t && t > 0 || i && i > 0) {\n            var o = this._value,\n              n = Math.ceil((e.getTime() - o.getTime()) / 864e5) + 1;\n            t && t > 0 && n < t && (e = wijmo_1.DateTime.addDays(o, t - 1));\n            i && i > 0 && n > i && (e = wijmo_1.DateTime.addDays(o, i - 1));\n          }\n        }\n        if ((this._valid(e) || null == e) && !wijmo_1.DateTime.equals(this._rngEnd, e)) {\n          this._rngEnd = e;\n          this.ensureVisible(e);\n          this.invalidate(!1);\n          this._clearingRangeEnd || this.onRangeEndChanged();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"rangeMin\", {\n      get: function () {\n        return this._rngMin;\n      },\n      set: function (e) {\n        if ((e = wijmo_1.asNumber(e, !0, !0)) != this._rngMin) {\n          this._rngMin = e;\n          this._syncProp(this, \"rangeMin\");\n          this._rngMode() && this._rngEnd && (this.rangeEnd = this._rngEnd);\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"rangeMax\", {\n      get: function () {\n        return this._rngMax;\n      },\n      set: function (e) {\n        if ((e = wijmo_1.asNumber(e, !0, !0)) != this._rngMax) {\n          this._rngMax = e;\n          this._syncProp(this, \"rangeMax\");\n          this._rngMode() && this._rngEnd && (this.rangeEnd = this._rngEnd);\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"min\", {\n      get: function () {\n        return this._min;\n      },\n      set: function (e) {\n        if ((e = wijmo_1.asDate(e, !0)) != this.min) {\n          this._min = e;\n          this._syncProp(this, \"min\");\n          this.refresh();\n          !this.value && e && e > this.displayMonth && this.ensureVisible(e);\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"max\", {\n      get: function () {\n        return this._max;\n      },\n      set: function (e) {\n        if ((e = wijmo_1.asDate(e, !0)) != this.max) {\n          this._max = e;\n          this._syncProp(this, \"max\");\n          this.refresh();\n          !this.value && e && e < this.displayMonth && this.ensureVisible(e);\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"selectionMode\", {\n      get: function () {\n        return this._selMode;\n      },\n      set: function (e) {\n        var t = DateSelectionMode;\n        if ((e = wijmo_1.asEnum(e, t)) != this._selMode) {\n          this._selMode = e;\n          this._mthMode() && (this.monthView = !1);\n          this._rngEnd = e == t.Range ? this._value : null;\n          this.refresh();\n          this._syncProp(this, \"selectionMode\");\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"isReadOnly\", {\n      get: function () {\n        return this._readOnly;\n      },\n      set: function (e) {\n        this._readOnly = wijmo_1.asBoolean(e);\n        wijmo_1.toggleClass(this.hostElement, \"wj-state-readonly\", this.isReadOnly);\n        this._syncProp(this, \"isReadOnly\");\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"handleWheel\", {\n      get: function () {\n        return this._handleWheel;\n      },\n      set: function (e) {\n        this._handleWheel = wijmo_1.asBoolean(e);\n        this._syncProp(this, \"handleWheel\");\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"repeatButtons\", {\n      get: function () {\n        return !this._rptUp.disabled;\n      },\n      set: function (e) {\n        this._rptUp.disabled = this._rptDn.disabled = !wijmo_1.asBoolean(e);\n        this._syncProp(this, \"repeatButtons\");\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"showYearPicker\", {\n      get: function () {\n        return this._yrPicker;\n      },\n      set: function (e) {\n        if (e != this._yrPicker) {\n          this._yrPicker = wijmo_1.asBoolean(e);\n          this._syncProp(this, \"showYearPicker\");\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"showMonthPicker\", {\n      get: function () {\n        return this._mtPicker;\n      },\n      set: function (e) {\n        if (e != this._mtPicker) {\n          var t = ShowMonthPicker;\n          wijmo_1.isBoolean(e) && (e = e ? t.FirstMonth : t.None);\n          this._mtPicker = wijmo_1.asEnum(e, t);\n          wijmo_1.toggleClass(this.hostElement, \"wj-btns-outside\", this._getShowMonthPicker() == t.Outside);\n          this.refresh();\n          this._syncProp(this, \"showMonthPicker\");\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"firstDayOfWeek\", {\n      get: function () {\n        return this._fdw;\n      },\n      set: function (e) {\n        if (e != this._fdw) {\n          if ((e = wijmo_1.asNumber(e, !0)) && (e > 6 || e < 0)) throw \"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).\";\n          this._fdw = e;\n          this.refresh();\n          this._syncProp(this, \"firstDayOfWeek\");\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"displayMonth\", {\n      get: function () {\n        return this._month;\n      },\n      set: function (e) {\n        e = wijmo_1.asDate(e);\n        e = this._getMonth(e);\n        var t = this._getDisplayMonthRange();\n        t.to && e > t.to && (e = t.to);\n        t.from && e < t.from && (e = t.from);\n        if (!wijmo_1.DateTime.equals(this.displayMonth, e)) {\n          this._month = e;\n          this.invalidate(!0);\n          this.onDisplayMonthChanged();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"monthCount\", {\n      get: function () {\n        var e = this.hostElement;\n        return e ? e.querySelectorAll(\".wj-calendar\").length + 1 : 0;\n      },\n      set: function (e) {\n        var t = this,\n          i = this.hostElement;\n        if (e != this.monthCount && i) {\n          var o = i.querySelectorAll(\".wj-calendar\");\n          e = wijmo_1.asInt(e, !1);\n          wijmo_1.assert(e > 0, \"monthCount must be >= 1.\");\n          wijmo_1.assert(1 == e || !wijmo_1.closest(i.parentElement, \".wj-calendar\"), \"Only top-level calendars can set monthCount.\");\n          for (var n = 0; n < o.length; n++) {\n            var s = o[n];\n            wijmo_1.removeChild(s);\n            this._getCalendar(s).dispose();\n          }\n          this._cals = [this];\n          for (n = 1; n < e; n++) {\n            (s = new Calendar(document.createElement(\"div\"), {\n              itemFormatter: this.itemFormatter,\n              itemValidator: this.itemValidator,\n              formatItem: function (e, i) {\n                return t.onFormatItem(i);\n              }\n            }))._selMode = this._selMode;\n            s._value = this._value;\n            s._rngEnd = this._rngEnd;\n            for (var r in this) if (!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(r)) {\n              var a = this[r];\n              wijmo_1.isFunction(a) || a instanceof wijmo_1.Event || (s[r] = a);\n            }\n            this._cals.push(s);\n            i.appendChild(s.hostElement);\n          }\n          wijmo_1.toggleClass(i, \"wj-calendar-multimonth\", e > 1);\n          this._syncProp(this, \"displayMonth\");\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"formatYearMonth\", {\n      get: function () {\n        return this._fmtYrMo;\n      },\n      set: function (e) {\n        if (e != this._fmtYrMo) {\n          this._fmtYrMo = wijmo_1.asString(e);\n          this._syncProp(this, \"formatYearMonth\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"formatDayHeaders\", {\n      get: function () {\n        return this._fmtDayHdr;\n      },\n      set: function (e) {\n        if (e != this._fmtDayHdr) {\n          this._fmtDayHdr = wijmo_1.asString(e);\n          this._syncProp(this, \"formatDayHeaders\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"formatDays\", {\n      get: function () {\n        return this._fmtDay;\n      },\n      set: function (e) {\n        if (e != this._fmtDay) {\n          this._fmtDay = wijmo_1.asString(e);\n          this._syncProp(this, \"formatDays\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"formatYear\", {\n      get: function () {\n        return this._fmtYr;\n      },\n      set: function (e) {\n        if (e != this._fmtYr) {\n          this._fmtYr = wijmo_1.asString(e);\n          this._syncProp(this, \"formatYear\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"formatMonths\", {\n      get: function () {\n        return this._fmtMonths;\n      },\n      set: function (e) {\n        if (e != this._fmtMonths) {\n          this._fmtMonths = wijmo_1.asString(e);\n          this._syncProp(this, \"formatMonths\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"showHeader\", {\n      get: function () {\n        return \"none\" != this._tbHdr.style.display;\n      },\n      set: function (e) {\n        if (e != this.showHeader) {\n          this._tbHdr.style.display = wijmo_1.asBoolean(e) ? \"\" : \"none\";\n          this._syncProp(this, \"showHeader\");\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"monthView\", {\n      get: function () {\n        return \"none\" != this._tbMth.style.display;\n      },\n      set: function (e) {\n        if (e != this.monthView) {\n          this._tbMth.style.display = e ? \"\" : \"none\";\n          this._tbYr.style.display = e ? \"none\" : \"\";\n          this.refresh();\n          var t = wijmo_1.culture.Calendar.ariaLabels;\n          wijmo_1.setAriaLabel(this._btnPrv, e ? t.prvMo : t.prvYr);\n          wijmo_1.setAriaLabel(this._btnTdy, e ? t.today : t.currMo);\n          wijmo_1.setAriaLabel(this._btnNxt, e ? t.nxtMo : t.nxtYr);\n          wijmo_1.setAriaLabel(this._btnMth, e ? t.monthView : t.yearView);\n          this._syncProp(this, \"monthView\");\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"weeksBefore\", {\n      get: function () {\n        return this._wksBefore;\n      },\n      set: function (e) {\n        if (e != this._wksBefore) {\n          this._wksBefore = Math.floor(wijmo_1.asNumber(e, !1, !0));\n          this._syncProp(this, \"weeksBefore\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"weeksAfter\", {\n      get: function () {\n        return this._wksAfter;\n      },\n      set: function (e) {\n        if (e != this._wksAfter) {\n          this._wksAfter = Math.floor(wijmo_1.asNumber(e, !1, !0));\n          this._syncProp(this, \"weeksAfter\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"itemFormatter\", {\n      get: function () {\n        return this._itemFormatter;\n      },\n      set: function (e) {\n        if (e != this._itemFormatter) {\n          this._itemFormatter = wijmo_1.asFunction(e);\n          this._syncProp(this, \"itemFormatter\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(Calendar.prototype, \"itemValidator\", {\n      get: function () {\n        return this._itemValidator;\n      },\n      set: function (e) {\n        if (e != this._itemValidator) {\n          this._itemValidator = wijmo_1.asFunction(e);\n          this._syncProp(this, \"itemValidator\");\n          this.invalidate();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Calendar.prototype.hitTest = function (e) {\n      var t = e instanceof MouseEvent ? e.target : e instanceof Element ? e : null;\n      wijmo_1.assert(null != t, \"MouseEvent or Element expected\");\n      return t ? t[Calendar._DATE_KEY] : null;\n    };\n    Calendar.prototype.ensureVisible = function (e) {\n      if (null != e) {\n        var t = this._getCalendars(),\n          i = t.indexOf(this),\n          o = t[0],\n          n = t[t.length - 1];\n        e < o.displayMonth ? this.displayMonth = wijmo_1.DateTime.addMonths(this._getMonth(e), i) : e > n.displayMonth && (this.displayMonth = wijmo_1.DateTime.addMonths(this._getMonth(e), i - t.length + 1));\n      }\n    };\n    Calendar.prototype.onValueChanged = function (e) {\n      this.valueChanged.raise(this, e);\n      this._syncProp(this, \"value\");\n    };\n    Calendar.prototype.onRangeEndChanged = function (e) {\n      this.rangeEndChanged.raise(this, e);\n      this._syncProp(this, \"rangeEnd\");\n      this._value && this._rngEnd && this.onRangeChanged(e);\n    };\n    Calendar.prototype.onRangeChanged = function (e) {\n      this.rangeChanged.raise(this, e);\n    };\n    Calendar.prototype.onDisplayMonthChanged = function (e) {\n      this.displayMonthChanged.raise(this, e);\n      this._syncProp(this, \"displayMonth\");\n    };\n    Calendar.prototype.onFormatItem = function (e) {\n      this.formatItem.raise(this, e);\n    };\n    Calendar.prototype._containsFocusImpl = function (t) {\n      return e.prototype._containsFocusImpl.call(this, t) || this._lbYears._containsFocusImpl(t);\n    };\n    Calendar.prototype.dispose = function () {\n      this._rptUp.element = null;\n      this._rptDn.element = null;\n      this._lbYears.dispose();\n      e.prototype.dispose.call(this);\n    };\n    Calendar.prototype.refresh = function (t) {\n      void 0 === t && (t = !0);\n      var i = this.hostElement,\n        o = this.containsFocus();\n      if (i) {\n        e.prototype.refresh.call(this, t);\n        t && this._updateContent();\n        this._updateSelection();\n        var n = this._getDisplayMonthRange(),\n          s = this.displayMonth;\n        wijmo_1.enable(this._btnPrv, null == n.from || s > n.from);\n        wijmo_1.enable(this._btnNxt, null == n.to || s < n.to);\n        if (o) {\n          var r = (this.monthView ? this._tbMth : this._tbYr).querySelector(\"td.wj-state-selected\") || i;\n          r && r.focus();\n        }\n        var a = this._getCalendars();\n        a.length > 1 && this == a[0] && a.forEach(function (e, i) {\n          i > 0 && e.refresh(t);\n        });\n      }\n    };\n    Calendar.prototype._getShowMonthPicker = function () {\n      var e = ShowMonthPicker,\n        t = this._getCalendars(),\n        i = t.indexOf(this),\n        o = this.showMonthPicker;\n      switch (o) {\n        case e.FirstMonth:\n        case e.Outside:\n          return 0 == i ? o : 0;\n        case e.LastMonth:\n          return i == t.length - 1 ? o : 0;\n        case e.FirstAndLastMonths:\n          return 0 == i || i == t.length - 1 ? o : 0;\n        case e.AllMonths:\n          return o;\n      }\n      return 0;\n    };\n    Calendar.prototype._getDisplayMonthRange = function () {\n      var e = {\n        from: null,\n        to: null\n      };\n      if (this.min || this.max) {\n        var t = this._getCalendars(),\n          i = t.indexOf(this),\n          o = this._mthMode() ? wijmo_1.DateTime.addYears : wijmo_1.DateTime.addMonths;\n        this.min && (e.from = o(this._getMonth(this.min), i));\n        this.max && (e.to = o(this._getMonth(this.max), i - t.length + 1));\n      }\n      return e;\n    };\n    Calendar.prototype._getCalendar = function (e) {\n      return wijmo_1.Control.getControl(e);\n    };\n    Calendar.prototype._getCalendars = function () {\n      var e = wijmo_1.closest(this.hostElement, \".wj-calendar-multimonth\");\n      return (e ? this._getCalendar(e) : this)._cals;\n    };\n    Calendar.prototype._syncProp = function (e, t) {\n      var i = this;\n      if (!this._syncing) {\n        var o = this._getCalendars();\n        if (o && o.length > 1) {\n          var n = e[t],\n            s = this._mthMode() ? wijmo_1.DateTime.addYears : wijmo_1.DateTime.addMonths;\n          \"displayMonth\" == t && (n = s(n, -o.indexOf(e)));\n          o[0].deferUpdate(function () {\n            i._syncing = !0;\n            o.forEach(function (o, r) {\n              if (o != e) {\n                var a = o.displayMonth;\n                o[t] = \"displayMonth\" == t ? s(n, r) : n;\n                if (\"value\" == t) {\n                  o.displayMonth = a;\n                  i._rngMode() && (o.rangeEnd = null);\n                }\n              }\n            });\n            i._syncing = !1;\n          });\n        }\n      }\n    };\n    Calendar.prototype._updateContent = function () {\n      var e = this.displayMonth,\n        t = wijmo_1.Globalize.format,\n        i = wijmo_1.DateTime,\n        o = this._getShowMonthPicker();\n      wijmo_1.setText(this._spMth, t(e, this._fmtYrMo));\n      var n = this._btnMth.querySelector(\".wj-glyph-down\");\n      n && (n.style.display = this._mthMode() || !o ? \"none\" : \"\");\n      var s = wijmo_1.closest(this._btnTdy, \".wj-btn-group\");\n      s && (s.style.display = o ? \"\" : \"none\");\n      for (var r = null != this._fdw ? this._fdw : wijmo_1.Globalize.getFirstDayOfWeek(), a = i.addDays(e, -(e.getDay() - r + 7) % 7), l = i.monthLast(e), h = this._tbMth.querySelectorAll(\"td\"), u = 0; u < 7 && u < h.length; u++) {\n        var c = i.addDays(a, u);\n        wijmo_1.setText(h[u], t(c, this._fmtDayHdr));\n      }\n      var p = this._tbMth.querySelectorAll(\"tr\");\n      for (u = 1; u < p.length; u++) wijmo_1.removeChild(p[u]);\n      var d = i.addDays(a, -7 * this._wksBefore);\n      for (u = 0; u < this._wksBefore; u++) d = this._addWeek(d, \"wj-week-before\");\n      for (; d <= l;) d = this._addWeek(d);\n      for (u = 0; u < this._wksAfter; u++) d = this._addWeek(d, \"wj-week-after\");\n      (h = this._tbYr.querySelectorAll(\"td\")).length && wijmo_1.setText(h[0], t(e, this._fmtYr));\n      for (u = 1; u < h.length; u++) {\n        d = i.newDate(e.getFullYear(), u - 1, 1);\n        var _ = h[u],\n          m = !this._monthInValidRange(d);\n        _[Calendar._DATE_KEY] = d;\n        wijmo_1.setText(_, t(d, this._fmtMonths));\n        wijmo_1.toggleClass(_, \"wj-state-disabled\", m);\n        wijmo_1.setAriaLabel(_, wijmo_1.Globalize.format(d, \"MMMM yyyy\"));\n      }\n    };\n    Calendar.prototype._updateSelection = function () {\n      for (var e = Calendar._DATE_KEY, t = wijmo_1.DateTime, i = this._tbMth.querySelectorAll(\"td\"), o = 7; o < i.length; o++) {\n        var n = (u = i[o])[e],\n          s = this.value,\n          r = this.rangeEnd,\n          a = this._selMode && null != s && t.sameDate(n, s),\n          l = this._selMode && null != s && t.sameDate(n, r),\n          h = this._selMode && null != s && n > s && null != r && n <= r;\n        wijmo_1.toggleClass(u, \"wj-state-selected\", a);\n        wijmo_1.toggleClass(u, \"wj-state-multi-selected\", h);\n        wijmo_1.toggleClass(u, \"wj-state-last-selected\", l);\n        wijmo_1.setAttribute(u, \"aria-selected\", !!a || null);\n        this._customizeCell(o, n, u);\n      }\n      i = this._tbYr.querySelectorAll(\"td\");\n      for (o = 0; o < i.length; o++) {\n        var u;\n        n = (u = i[o])[e], a = this._sameMonth(n, this.value);\n        wijmo_1.toggleClass(u, \"wj-state-selected\", a);\n        wijmo_1.setAttribute(u, \"aria-selected\", !!a || null);\n      }\n    };\n    Calendar.prototype._addWeek = function (e, t) {\n      for (var i = this._createElement(\"tr\", this._tbMth, t), o = wijmo_1.DateTime, n = 0; n < 7; n++) {\n        var s = this._createElement(\"td\", i),\n          r = o.addDays(e, n);\n        s[Calendar._DATE_KEY] = r;\n        wijmo_1.setText(s, wijmo_1.Globalize.format(r, this._fmtDay));\n        wijmo_1.setAriaLabel(s, wijmo_1.Globalize.format(r, \"D\"));\n        var a = !this._valid(r),\n          l = r.getDay(),\n          h = r.getMonth() != this.displayMonth.getMonth();\n        wijmo_1.toggleClass(s, \"wj-day-today\", o.sameDate(r, o.newDate()));\n        wijmo_1.toggleClass(s, \"wj-day-weekend\", 0 == l || 6 == l);\n        wijmo_1.toggleClass(s, \"wj-day-othermonth\", h || !this._inValidRange(r) || a);\n        wijmo_1.toggleClass(s, \"wj-state-invalid\", a);\n      }\n      return o.addDays(e, 7);\n    };\n    Calendar.prototype._customizeCell = function (e, t, i) {\n      wijmo_1.isFunction(this.itemFormatter) && this.itemFormatter(t, i);\n      if (this.formatItem.hasHandlers) {\n        var o = new FormatItemEventArgs(e, t, i);\n        this.onFormatItem(o);\n      }\n    };\n    Calendar.prototype._canChangeValue = function () {\n      return !this._readOnly && this._selMode != DateSelectionMode.None;\n    };\n    Calendar.prototype._valid = function (e) {\n      return !(!wijmo_1.isDate(e) || !wijmo_1.DateTime.sameDate(e, this._clamp(e))) && (!wijmo_1.isFunction(this.itemValidator) || this.itemValidator(e));\n    };\n    Calendar.prototype._inValidRange = function (e) {\n      var t = wijmo_1.DateTime.fromDateTime;\n      return !(this.min && e < t(this.min, e)) && !(this.max && e > t(this.max, e));\n    };\n    Calendar.prototype._monthInValidRange = function (e) {\n      if (this.min || this.max) {\n        var t = e.getFullYear(),\n          i = e.getMonth(),\n          o = wijmo_1.DateTime,\n          n = o.newDate(t, i, 1),\n          s = o.newDate(t, i + 1, 0);\n        if (this.min && this.min > s) return !1;\n        if (this.max && this.max < n) return !1;\n      }\n      return !0;\n    };\n    Calendar.prototype._sameMonth = function (e, t) {\n      return wijmo_1.isDate(e) && wijmo_1.isDate(t) && e.getMonth() == t.getMonth() && e.getFullYear() == t.getFullYear();\n    };\n    Calendar.prototype._getValidDate = function (e, t) {\n      if (wijmo_1.isDate(e)) for (var i = e.getFullYear(), o = e.getMonth() + (t ? 0 : 1), n = t ? 1 : 0, s = wijmo_1.DateTime, r = s.newDate(i, o, n), a = t ? 1 : -1, l = 0; l < 31; l++) {\n        if (this._valid(r)) return r;\n        r = s.addDays(r, a);\n      }\n      return null;\n    };\n    Calendar.prototype._clamp = function (e) {\n      if (e) {\n        var t = wijmo_1.DateTime.fromDateTime;\n        if (this.min) {\n          var i = t(this.min, e);\n          e < i && (e = i);\n        }\n        if (this.max) {\n          var o = t(this.max, e);\n          e > o && (e = o);\n        }\n      }\n      return e;\n    };\n    Calendar.prototype._createChildren = function () {\n      var e = this.getTemplate();\n      this.applyTemplate(\"wj-control wj-calendar\", e, {\n        _tbHdr: \"tbl-header\",\n        _btnMth: \"btn-month\",\n        _spMth: \"span-month\",\n        _btnPrv: \"btn-prev\",\n        _btnTdy: \"btn-today\",\n        _btnNxt: \"btn-next\",\n        _tbMth: \"tbl-month\",\n        _tbYr: \"tbl-year\"\n      });\n      this._tbYr.style.display = \"none\";\n      var t = wijmo_1.culture.Calendar.ariaLabels;\n      wijmo_1.setAriaLabel(this._tbMth, t.calendar);\n      wijmo_1.setAriaLabel(this._tbYr, t.calendar);\n      wijmo_1.setAriaLabel(this._btnPrv, t.calendar);\n      wijmo_1.setAriaLabel(this._btnMth, t.monthView);\n      wijmo_1.setAriaLabel(this._btnPrv, t.prvMo);\n      wijmo_1.setAriaLabel(this._btnTdy, t.today);\n      wijmo_1.setAriaLabel(this._btnNxt, t.nxtMo);\n      for (var i = this._createElement(\"tr\", this._tbMth, \"wj-header\"), o = 0; o < 7; o++) this._createElement(\"td\", i);\n      i = this._createElement(\"tr\", this._tbYr, \"wj-header\");\n      this._createElement(\"td\", i).setAttribute(\"colspan\", \"4\");\n      for (var n = 0; n < 3; n++) {\n        i = this._createElement(\"tr\", this._tbYr);\n        for (var s = 0; s < 4; s++) this._createElement(\"td\", i);\n      }\n    };\n    Calendar.prototype._createYearPicker = function () {\n      var e = this,\n        t = this.hostElement,\n        i = this._createElement(\"div\", null, \"wj-dropdown-panel wj-yearpicker\");\n      i.tabIndex = this._orgTabIndex;\n      this._lbYears = new ListBox(i, {\n        lostFocus: function (t) {\n          wijmo_1.hidePopup(i);\n          e._tmYrHidden = Date.now();\n          e.removeEventListener(window, \"touchstart\");\n          if (t.selectedIndex > -1) {\n            var o = wijmo_1.DateTime.clone(e.displayMonth);\n            o.setFullYear(t.selectedIndex + t.itemsSource[0]);\n            e.displayMonth = o;\n          }\n        }\n      });\n      this.addEventListener(i, \"keydown\", function (i) {\n        switch (i.keyCode) {\n          case wijmo_1.Key.Enter:\n            t.focus();\n            break;\n          case wijmo_1.Key.Escape:\n            e._lbYears.selectedIndex = -1;\n            t.focus();\n        }\n        i.defaultPrevented && i.stopPropagation();\n      });\n      this.addEventListener(i, \"click\", function (e) {\n        t.focus();\n      });\n    };\n    Calendar.prototype._createElement = function (e, t, i) {\n      var o = document.createElement(e);\n      i && wijmo_1.addClass(o, i);\n      t && t.appendChild(o);\n      return o;\n    };\n    Calendar.prototype._click = function (e) {\n      var t = this;\n      if (!e.defaultPrevented && 0 == e.button) {\n        var i = !1,\n          o = e.target;\n        if (wijmo_1.contains(this._btnMth, o) && !this._mthMode() && this._getShowMonthPicker()) {\n          this.monthView = !this.monthView;\n          i = !0;\n        } else if (wijmo_1.contains(this._btnPrv, o)) {\n          this._navigate(-1);\n          i = !0;\n        } else if (wijmo_1.contains(this._btnNxt, o)) {\n          this._navigate(1);\n          i = !0;\n        } else if (wijmo_1.contains(this._btnTdy, o)) {\n          this._navigate(0);\n          i = !0;\n        }\n        if (o && !i && this._yrPicker && wijmo_1.contains(this._tbYr, o) && wijmo_1.closest(o, \".wj-header\")) {\n          if (Date.now() - this._tmYrHidden < 600) {\n            e.preventDefault();\n            return;\n          }\n          for (var n = this.displayMonth.getFullYear(), s = this.min ? this.min.getFullYear() : n - 100, r = this.max ? this.max.getFullYear() : n + 100, a = [], l = s; l <= r; l++) a.push(l);\n          var h = this._lbYears,\n            u = h.hostElement,\n            c = wijmo_1.closest(o, \".wj-header\"),\n            p = this.hostElement,\n            d = wijmo_1.closest(p, \".wj-inputdate-dropdown\") || p;\n          h.itemsSource = a;\n          h.selectedIndex = n - a[0];\n          wijmo_1.setAttribute(u, \"dir\", this.rightToLeft ? \"rtl\" : null);\n          wijmo_1.setCss(u, {\n            minWidth: \"\",\n            width: c.offsetWidth\n          });\n          wijmo_1.showPopup(u, c, !1, !1, d);\n          requestAnimationFrame(function () {\n            h.showSelection(!0);\n          });\n          this.addEventListener(window, \"touchstart\", function (e) {\n            if (!wijmo_1.contains(u, e.target)) {\n              wijmo_1.hidePopup(u);\n              t._tmYrHidden = Date.now();\n              t.removeEventListener(window, \"touchstart\");\n            }\n          });\n          e.preventDefault();\n          return;\n        }\n        if (o && !i) {\n          var _ = wijmo_1.closest(o, \"td\");\n          if (_) {\n            var m = this.hitTest(_),\n              f = wijmo_1.DateTime.fromDateTime;\n            if (this.monthView) {\n              if (m && this._canChangeValue()) {\n                var g = f(m, this._value);\n                this._inValidRange(g) && this._valid(g) && (this._rngMode() && this.value && !this.rangeEnd && g >= this.value ? this.rangeEnd = g : this.value = g);\n                i = !0;\n              }\n            } else if (m) {\n              this.displayMonth = m;\n              if (this._mthMode()) {\n                if (this._canChangeValue()) {\n                  g = f(this.displayMonth, this.value);\n                  this._inValidRange(g) && (this.value = g);\n                }\n              } else this.monthView = !0;\n              i = !0;\n            }\n          }\n        }\n        if (i) {\n          e.preventDefault();\n          this.focus();\n        }\n      }\n    };\n    Calendar.prototype._keydown = function (e) {\n      if (!e.defaultPrevented) {\n        if (e.altKey) switch (e.keyCode) {\n          case wijmo_1.Key.Up:\n          case wijmo_1.Key.Down:\n            return;\n          case wijmo_1.Key.End:\n            this._navigate(0);\n            e.preventDefault();\n            return;\n        }\n        if (!(e.ctrlKey || e.metaKey || e.shiftKey && !this._rngMode())) {\n          var t = this._getKeyCode(e),\n            i = 0,\n            o = 0,\n            n = !0;\n          if (this.monthView) switch (t) {\n            case wijmo_1.Key.Left:\n              i = -1;\n              break;\n            case wijmo_1.Key.Right:\n              i = 1;\n              break;\n            case wijmo_1.Key.Up:\n              i = -7;\n              break;\n            case wijmo_1.Key.Down:\n              i = 7;\n              break;\n            case wijmo_1.Key.PageDown:\n              o = e.altKey ? 12 : 1;\n              break;\n            case wijmo_1.Key.PageUp:\n              o = e.altKey ? -12 : -1;\n              break;\n            case wijmo_1.Key.Home:\n            case wijmo_1.Key.End:\n              if (this._canChangeValue() && !e.shiftKey) {\n                var s = this.value || this.displayMonth;\n                if (a = this._getValidDate(s, t == wijmo_1.Key.Home)) {\n                  this.value = wijmo_1.DateTime.fromDateTime(a, this.value);\n                  this._rngEnd = null;\n                }\n              }\n              break;\n            default:\n              n = !1;\n          } else switch (t) {\n            case wijmo_1.Key.Left:\n              o = -1;\n              break;\n            case wijmo_1.Key.Right:\n              o = 1;\n              break;\n            case wijmo_1.Key.Up:\n              o = -4;\n              break;\n            case wijmo_1.Key.Down:\n              o = 4;\n              break;\n            case wijmo_1.Key.PageDown:\n              o = e.altKey ? 120 : 12;\n              break;\n            case wijmo_1.Key.PageUp:\n              o = e.altKey ? -120 : -12;\n              break;\n            case wijmo_1.Key.Home:\n              o = this.value ? -this.value.getMonth() : 0;\n              break;\n            case wijmo_1.Key.End:\n              o = this.value ? 11 - this.value.getMonth() : 0;\n              break;\n            case wijmo_1.Key.Enter:\n              this._mthMode() ? n = !1 : this.monthView = !0;\n              break;\n            default:\n              n = !1;\n          }\n          if (this._canChangeValue() && (i || o)) {\n            var r = e.shiftKey && null != this.rangeEnd ? this.rangeEnd : this.value,\n              a = wijmo_1.DateTime;\n            if (r) {\n              r = a.addDays(r, i);\n              r = a.addMonths(r, o);\n            } else r = this._getValidDate(new Date(), !0);\n            if (o && !this._valid(r)) {\n              s = r.getMonth();\n              for (var l = 1; l < 31 && !this._valid(r); l++) {\n                var h = a.addDays(r, +l),\n                  u = a.addDays(r, -l);\n                this._valid(h) && h.getMonth() == s ? r = h : this._valid(u) && u.getMonth() == s && (r = u);\n              }\n            }\n            for (l = 0; l < 31 && !this._valid(r); l++) r = a.addDays(r, i > 0 || o > 0 ? 1 : -1);\n            e.shiftKey && r > this.value ? this.rangeEnd = r : this.value = r;\n          }\n          n && e.preventDefault();\n        }\n      }\n    };\n    Calendar.prototype._getMonth = function (e) {\n      var t = wijmo_1.DateTime;\n      e = e || t.newDate();\n      return t.newDate(e.getFullYear(), e.getMonth(), 1);\n    };\n    Calendar.prototype._mthMode = function () {\n      return this.selectionMode == DateSelectionMode.Month;\n    };\n    Calendar.prototype._rngMode = function () {\n      return this.selectionMode == DateSelectionMode.Range;\n    };\n    Calendar.prototype._navigate = function (e) {\n      var t = this.monthView,\n        i = this.displayMonth,\n        o = wijmo_1.DateTime;\n      switch (e) {\n        case 0:\n          var n = o.newDate();\n          this._canChangeValue() && (this.value = t ? o.fromDateTime(n, this.value) : this._getMonth(n));\n          i = this._getMonth(n);\n          break;\n        case 1:\n          i = o.addMonths(i, t ? 1 : 12);\n          break;\n        case -1:\n          i = o.addMonths(i, t ? -1 : -12);\n      }\n      this.displayMonth = i;\n    };\n    Calendar.prototype._setTabOrder = function (t) {\n      e.prototype._setTabOrder.call(this, t);\n      this._lbYears.tabOrder = this._orgTabIndex;\n    };\n    Calendar._DATE_KEY = \"$WJ-DATE\";\n    Calendar.controlTemplate = '<div class=\"wj-content wj-calendar-outer\"><div wj-part=\"tbl-header\" class=\"wj-calendar-header\"><div wj-part=\"btn-month\" class=\"wj-month-select\" role=\"button\"><span wj-part=\"span-month\"></span> <span class=\"wj-glyph-down\"></span></div><div class=\"wj-btn-group\"><button wj-part=\"btn-prev\" class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-left\"></span></button><button wj-part=\"btn-today\" class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-circle\"></span></button><button wj-part=\"btn-next\" class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-right\"></span></button></div></div><table wj-part=\"tbl-month\" class=\"wj-calendar-month\" role=\"grid\"></table><table wj-part=\"tbl-year\" class=\"wj-calendar-year\" role=\"grid\"></table></div>';\n    return Calendar;\n  }(wijmo_1.Control);\nexports.Calendar = Calendar;\nwijmo_1._addCultureInfo(\"DropDown\", {\n  ariaLabels: {\n    tgl: \"Toggle Dropdown\"\n  }\n});\n!function (e) {\n  e[e.Select = 0] = \"Select\";\n  e[e.Open = 1] = \"Open\";\n  e[e.Toggle = 2] = \"Toggle\";\n}(ClickAction = exports.ClickAction || (exports.ClickAction = {}));\nvar PopupTrigger,\n  _Edges,\n  DropDown = function (e) {\n    __extends(DropDown, e);\n    function DropDown(t, i) {\n      var o = e.call(this, t) || this;\n      o._clickAction = ClickAction.Select;\n      o._showBtn = !0;\n      o._autoExpand = !0;\n      o._animate = !1;\n      o._internalSettingText = !1;\n      o._oldText = \"\";\n      o.textChanged = new wijmo_1.Event();\n      o.isDroppedDownChanging = new wijmo_1.Event();\n      o.isDroppedDownChanged = new wijmo_1.Event();\n      var n = o.getTemplate();\n      o.applyTemplate(\"wj-control wj-content wj-dropdown\", n, {\n        _tbx: \"input\",\n        _btn: \"btn\",\n        _dropDown: \"dropdown\"\n      }, \"input\");\n      o._dropDown.style.display = \"none\";\n      var s = wijmo_1.culture.DropDown.ariaLabels;\n      wijmo_1.setAriaLabel(o._btn.querySelector(\"button\"), s.tgl);\n      var r = o._elRef = o._tbx;\n      wijmo_1.disableAutoComplete(r);\n      o._createDropDown();\n      o._updateBtn();\n      var a = o.hostElement;\n      wijmo_1.addClass(a, \"wj-state-collapsed\");\n      o.addEventListener(window, \"resize\", function () {\n        o.isDroppedDown && o.invalidate();\n      });\n      var l = o.dropDown,\n        h = o.addEventListener.bind(o),\n        u = o._updateFocusState.bind(o);\n      h(l, \"blur\", u, !0);\n      h(l, \"focus\", u);\n      var c = o._keydown.bind(o);\n      h(a, \"keydown\", c);\n      h(l, \"keydown\", c);\n      var p = o._keypress.bind(o);\n      h(a, \"keypress\", p, !0);\n      h(l, \"keypress\", p, !0);\n      h(r, \"input\", o._input.bind(o));\n      h(r, \"blur\", function () {\n        o._commitText(!0);\n      }, !0);\n      h(r, \"click\", function () {\n        o._autoExpand && o._expandSelection();\n      });\n      h(r, \"mousedown\", function (e) {\n        switch (o._clickAction) {\n          case ClickAction.Open:\n            if (!o.isDroppedDown) {\n              e.preventDefault();\n              o.focus();\n              o.isDroppedDown = !0;\n            }\n            break;\n          case ClickAction.Toggle:\n            e.preventDefault();\n            o.focus();\n            o.isDroppedDown = !o.isDroppedDown;\n        }\n      });\n      h(o._btn, \"mousedown\", function (e) {\n        o._btnclick(e);\n      });\n      wijmo_1.removeChild(l);\n      wijmo_1.isIE() && o._elRef == o._tbx && h(a, \"mouseup\", function (e) {\n        if (!e.defaultPrevented && 0 == e.button && wijmo_1.hasClass(e.target, \"wj-btn\")) {\n          var t = wijmo_1.getActiveElement();\n          t && t != e.target && setTimeout(function () {\n            t.focus();\n          });\n        }\n      });\n      wijmo_1.isIE9() && h(r, \"keyup\", function () {\n        o._setText(o.text, !1);\n      });\n      h(l, \"click\", o._dropDownClick.bind(o));\n      return o;\n    }\n    Object.defineProperty(DropDown.prototype, \"text\", {\n      get: function () {\n        return this._tbx.value;\n      },\n      set: function (e) {\n        this._trimText && \"string\" == typeof e && (e = e.trim());\n        if (e != this.text) {\n          this._setText(e, !0);\n          this._commitText();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"inputElement\", {\n      get: function () {\n        return this._tbx;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"inputType\", {\n      get: function () {\n        return this._tbx.type;\n      },\n      set: function (e) {\n        this._tbx.type = wijmo_1.asString(e);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"isReadOnly\", {\n      get: function () {\n        return this._tbx.readOnly;\n      },\n      set: function (e) {\n        this._tbx.readOnly = wijmo_1.asBoolean(e);\n        wijmo_1.toggleClass(this.hostElement, \"wj-state-readonly\", this.isReadOnly);\n        this.isReadOnly && this._toogleDropDown(!1);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"isRequired\", {\n      get: function () {\n        return this._tbx.required;\n      },\n      set: function (e) {\n        this._tbx.required = wijmo_1.asBoolean(\"boolean\" == typeof e ? e : this.isRequired);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"placeholder\", {\n      get: function () {\n        return this._tbx.placeholder;\n      },\n      set: function (e) {\n        this._tbx.placeholder = e;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"clickAction\", {\n      get: function () {\n        return this._clickAction;\n      },\n      set: function (e) {\n        this._clickAction = wijmo_1.asEnum(e, ClickAction);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"isDroppedDown\", {\n      get: function () {\n        var e = this._dropDown;\n        return e && \"none\" != e.style.display;\n      },\n      set: function (e) {\n        var t = this.hostElement,\n          i = this._dropDown,\n          o = this.containsFocus();\n        if (t && i && (e = wijmo_1.asBoolean(e) && !this.isDisabled && !this.isReadOnly && t.offsetWidth > 0) != this.isDroppedDown && this.onIsDroppedDownChanging(new wijmo_1.CancelEventArgs())) {\n          this._toogleDropDown(e);\n          o && (this.isTouching && this.showDropDownButton ? t.focus() : this.selectAll());\n          this._updateFocusState();\n          wijmo_1.toggleClass(t, \"wj-state-collapsed\", !this.isDroppedDown);\n          this.onIsDroppedDownChanged();\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    DropDown.prototype._toogleDropDown = function (e) {\n      var t = this,\n        i = this.hostElement,\n        o = this._dropDown;\n      if (e) {\n        this._minWidthDropdown = o.style.minWidth;\n        o.style.display = \"\";\n        this._updateDropDown();\n        this.addEventListener(window, \"touchstart\", function (e) {\n          for (var o = e.target; o;) {\n            if (o == i) return;\n            o = o[wijmo_1.Control._OWNR_KEY] || o.parentNode;\n          }\n          wijmo_1.Control._touching = !0;\n          t.isDroppedDown = !1;\n          wijmo_1.Control._touching = !1;\n        });\n      } else {\n        this.removeEventListener(window, \"touchstart\");\n        wijmo_1.hidePopup(o);\n        o.style.minWidth = this._minWidthDropdown;\n      }\n    };\n    Object.defineProperty(DropDown.prototype, \"dropDown\", {\n      get: function () {\n        return this._dropDown;\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"dropDownCssClass\", {\n      get: function () {\n        return this._cssClass;\n      },\n      set: function (e) {\n        if (e != this._cssClass) {\n          wijmo_1.removeClass(this._dropDown, this._cssClass);\n          this._cssClass = wijmo_1.asString(e);\n          wijmo_1.addClass(this._dropDown, this._cssClass);\n        }\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"showDropDownButton\", {\n      get: function () {\n        return this._showBtn;\n      },\n      set: function (e) {\n        this._showBtn = wijmo_1.asBoolean(e);\n        this._updateBtn();\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"autoExpandSelection\", {\n      get: function () {\n        return this._autoExpand;\n      },\n      set: function (e) {\n        this._autoExpand = wijmo_1.asBoolean(e);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    Object.defineProperty(DropDown.prototype, \"isAnimated\", {\n      get: function () {\n        return this._animate;\n      },\n      set: function (e) {\n        this._animate = wijmo_1.asBoolean(e);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n    DropDown.prototype.selectAll = function () {\n      var e = this._tbx;\n      this._elRef == e && wijmo_1.setSelectionRange(e, 0, this.text.length);\n      this.containsFocus() || this.focus();\n    };\n    DropDown.prototype.onTextChanged = function (e) {\n      this.textChanged.raise(this, e);\n      this._updateState();\n    };\n    DropDown.prototype.onIsDroppedDownChanging = function (e) {\n      this.isDroppedDownChanging.raise(this, e);\n      return !e.cancel;\n    };\n    DropDown.prototype.onIsDroppedDownChanged = function (e) {\n      this.isDroppedDownChanged.raise(this, e);\n    };\n    DropDown.prototype.onGotFocus = function (t) {\n      this.isTouching || wijmo_1.contains(this._dropDown, wijmo_1.getActiveElement()) || this.selectAll();\n      e.prototype.onGotFocus.call(this, t);\n    };\n    DropDown.prototype.onLostFocus = function (t) {\n      this._commitText();\n      this.isDroppedDown = !1;\n      e.prototype.onLostFocus.call(this, t);\n    };\n    DropDown.prototype._containsFocusImpl = function (t) {\n      return e.prototype._containsFocusImpl.call(this, t) || this.isDroppedDown && wijmo_1.contains(this._dropDown, t);\n    };\n    DropDown.prototype.dispose = function () {\n      this.isDroppedDown = !1;\n      var t = this._dropDown;\n      if (t) {\n        this._dropDown = null;\n        wijmo_1.removeChild(t);\n        var i = wijmo_1.Control.getControl(t);\n        i && i.dispose();\n      }\n      e.prototype.dispose.call(this);\n    };\n    DropDown.prototype.refresh = function (t) {\n      void 0 === t && (t = !0);\n      e.prototype.refresh.call(this, t);\n      var i = this.hostElement;\n      if (i && i.offsetHeight && this.isDroppedDown) {\n        var o = wijmo_1.getActiveElement();\n        this.isAnimated && \"\" != this._dropDown.style.opacity || wijmo_1.showPopup(this._dropDown, i, !1, !1, null == this.dropDownCssClass);\n        o instanceof HTMLElement && o != wijmo_1.getActiveElement() && o.focus();\n      }\n    };\n    DropDown.prototype._handleResize = function () {\n      this.isDroppedDown && this.refresh();\n    };\n    DropDown.prototype._dropDownClick = function (e) {\n      e.stopPropagation();\n    };\n    DropDown.prototype._expandSelection = function () {\n      var e = this._tbx,\n        t = e.value,\n        i = e.selectionStart,\n        o = e.selectionEnd;\n      if (t && i == o) {\n        var n = this._getCharType(t, i);\n        if (n > -1) {\n          for (; o < t.length && this._getCharType(t, o) == n; o++);\n          for (; i > 0 && this._getCharType(t, i - 1) == n; i--);\n          i != o && wijmo_1.setSelectionRange(e, i, o);\n        }\n      }\n    };\n    DropDown.prototype._getCharType = function (e, t) {\n      var i = e[t];\n      return i >= \"0\" && i <= \"9\" ? 0 : i >= \"a\" && i <= \"z\" || i >= \"A\" && i <= \"Z\" ? 1 : -1;\n    };\n    DropDown.prototype._keydown = function (e) {\n      if (!e.defaultPrevented && !this._isHiddenEditor()) {\n        switch (e.keyCode) {\n          case wijmo_1.Key.Tab:\n          case wijmo_1.Key.Escape:\n          case wijmo_1.Key.Enter:\n            if (this.isDroppedDown) {\n              this.isDroppedDown = !1;\n              e.keyCode == wijmo_1.Key.Tab || this.containsFocus() || this.focus();\n              e.preventDefault();\n            }\n            break;\n          case wijmo_1.Key.F4:\n          case wijmo_1.Key.Up:\n          case wijmo_1.Key.Down:\n            if (e.keyCode == wijmo_1.Key.F4 || e.altKey) {\n              var t = this.hostElement;\n              if (t && t.offsetHeight) {\n                this.isDroppedDown = !this.isDroppedDown;\n                e.preventDefault();\n              }\n            }\n        }\n        if (!e.defaultPrevented && e.keyCode == wijmo_1.Key.Escape && wijmo_1.isIE()) {\n          var i = this._tbx;\n          if (e.target == i) {\n            var o = i.value;\n            i.value = o + \" \";\n            i.value = o;\n          }\n        }\n      }\n    };\n    DropDown.prototype._isHiddenEditor = function () {\n      return wijmo_1.hasClass(this._tbx, \"wj-grid-ime\");\n    };\n    DropDown.prototype._keypress = function (e) {\n      \"AltLeft\" != e.code && \"AltRight\" != e.code || e.preventDefault();\n    };\n    DropDown.prototype._input = function (e) {\n      this._setText(this.text, !1);\n    };\n    DropDown.prototype._btnclick = function (e) {\n      if (!e.defaultPrevented && 0 == e.button) {\n        e.preventDefault();\n        this.isTouching ? this._containsFocus() || this.hostElement.focus() : this.focus();\n        this.isDroppedDown = !this.isDroppedDown;\n      }\n    };\n    DropDown.prototype._setText = function (e, t) {\n      (e = (e || \"\").toString()) != this._tbx.value && (this._tbx.value = e);\n      if (e != this._oldText) {\n        this._oldText = e;\n        this._internalSettingText || this.onTextChanged();\n      }\n      this._updateState();\n    };\n    DropDown.prototype._updateBtn = function () {\n      this._btn.style.display = this._showBtn ? \"\" : \"none\";\n    };\n    DropDown.prototype._createDropDown = function () {};\n    DropDown.prototype._commitText = function (e) {};\n    DropDown.prototype._updateDropDown = function () {\n      if (this.isDroppedDown) {\n        this._commitText();\n        var e = this.dropDown;\n        wijmo_1.setAttribute(e, \"dir\", this.rightToLeft ? \"rtl\" : null);\n        wijmo_1.showPopup(e, this.hostElement, !1, this._animate, null == this.dropDownCssClass);\n      }\n    };\n    DropDown.controlTemplate = '<div class=\"wj-template\"><div class=\"wj-input\"><div class=\"wj-input-group wj-input-btn-visible\"><input wj-part=\"input\" type=\"text\" class=\"wj-form-control\"><span wj-part=\"btn\" class=\"wj-input-group-btn\"><button class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-down\"></span></button></span></div></div><div wj-part=\"dropdown\" class=\"wj-content wj-dropdown-panel\"></div></div>';\n    return DropDown;\n  }(wijmo_1.Control);\nexports.DropDown = DropDown;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.ClickOwner = 1] = \"ClickOwner\";\n  e[e.ClickPopup = 2] = \"ClickPopup\";\n  e[e.Click = 3] = \"Click\";\n  e[e.BlurOwner = 4] = \"BlurOwner\";\n  e[e.BlurPopup = 8] = \"BlurPopup\";\n  e[e.Blur = 12] = \"Blur\";\n  e[e.ClickOrBlur = 15] = \"ClickOrBlur\";\n  e[e.DownOwner = 16] = \"DownOwner\";\n  e[e.DownPopup = 32] = \"DownPopup\";\n  e[e.Down = 48] = \"Down\";\n  e[e.EnterOwner = 64] = \"EnterOwner\";\n  e[e.EnterPopup = 128] = \"EnterPopup\";\n  e[e.Enter = 192] = \"Enter\";\n  e[e.LeaveOwner = 256] = \"LeaveOwner\";\n  e[e.LeavePopup = 512] = \"LeavePopup\";\n  e[e.Leave = 768] = \"Leave\";\n}(PopupTrigger = exports.PopupTrigger || (exports.PopupTrigger = {}));\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Left = 1] = \"Left\";\n  e[e.Top = 2] = \"Top\";\n  e[e.Right = 4] = \"Right\";\n  e[e.Bottom = 8] = \"Bottom\";\n  e[e.LeftTop = 3] = \"LeftTop\";\n  e[e.RightTop = 6] = \"RightTop\";\n  e[e.RightBottom = 12] = \"RightBottom\";\n  e[e.LeftBottom = 9] = \"LeftBottom\";\n}(_Edges || (_Edges = {}));\nvar Popup = function (e) {\n  __extends(Popup, e);\n  function Popup(t, i) {\n    var o = e.call(this, t) || this;\n    o._owner = null;\n    o._modal = !1;\n    o._position = wijmo_1.PopupPosition.BelowLeft;\n    o._showTrigger = PopupTrigger.ClickOwner;\n    o._hideTrigger = PopupTrigger.Blur;\n    o._hideAnim = [];\n    o._fadeIn = !0;\n    o._fadeOut = !0;\n    o._removeOnHide = !0;\n    o._draggable = !1;\n    o._resizable = !1;\n    o._result = null;\n    o._resultEnter = null;\n    o._resultSubmit = null;\n    o._callback = null;\n    o._visible = !1;\n    o._ownerClickBnd = o._ownerClick.bind(o);\n    o._ownerDownBnd = o._ownerDown.bind(o);\n    o._ownerBlurBnd = o._ownerBlur.bind(o);\n    o._ownerEnterBnd = o._ownerEnter.bind(o);\n    o._ownerLeaveBnd = o._ownerLeave.bind(o);\n    o._mousedownBnd = o._mousedown.bind(o);\n    o._mousemoveBnd = o._mousemove.bind(o);\n    o._mousedragBnd = o._mousedrag.bind(o);\n    o._mouseupBnd = o._mouseup.bind(o);\n    o._hideBnd = o.hide.bind(o);\n    o._lastShow = 0;\n    o.showing = new wijmo_1.Event();\n    o.shown = new wijmo_1.Event();\n    o.hiding = new wijmo_1.Event();\n    o.hidden = new wijmo_1.Event();\n    o.resizing = new wijmo_1.Event();\n    o.resized = new wijmo_1.Event();\n    o.dragging = new wijmo_1.Event();\n    o.dragged = new wijmo_1.Event();\n    o.sizeChanging = new wijmo_1.Event();\n    o.sizeChanged = new wijmo_1.Event();\n    o.positionChanging = new wijmo_1.Event();\n    o.positionChanged = new wijmo_1.Event();\n    var n = o.hostElement;\n    wijmo_1.addClass(n, \"wj-control wj-content wj-popup\");\n    n.getAttribute(\"tabindex\") || (n.tabIndex = 0);\n    wijmo_1.hidePopup(n, !1);\n    var s = o.addEventListener.bind(o);\n    s(n, \"compositionstart\", function () {\n      o._composing = !0;\n    });\n    s(n, \"compositionend\", function () {\n      o._composing = !1;\n    });\n    s(window, \"resize\", function () {\n      !o.isVisible || o._dragged || o.isTouching || o.invalidate();\n    });\n    s(n, \"keydown\", function (e) {\n      if (!e.defaultPrevented) {\n        if (e.keyCode == wijmo_1.Key.Escape && !o._composing) {\n          e.preventDefault();\n          o.hide();\n        }\n        if (e.keyCode == wijmo_1.Key.Enter && !o._composing) {\n          var t = o.dialogResultEnter;\n          if (t) {\n            e.preventDefault();\n            o._validateAndHide(t);\n          }\n        }\n        if (e.keyCode == wijmo_1.Key.Tab && o.modal) {\n          e.preventDefault();\n          wijmo_1.moveFocus(n, e.shiftKey ? -1 : 1);\n        }\n      }\n    });\n    s(n, \"click\", function (e) {\n      var t = e.target;\n      if (t instanceof HTMLElement) {\n        if (t instanceof HTMLButtonElement && \"submit\" == t.type) {\n          var i = o.hostElement,\n            n = o.dialogResultSubmit;\n          if (i instanceof HTMLFormElement && n && i.reportValidity()) {\n            e.preventDefault();\n            o.hide(n);\n          }\n        }\n        var s = t.className.match(/\\bwj-hide[\\S]*\\b/);\n        if (s && s.length > 0) {\n          e.preventDefault();\n          e.stopPropagation();\n          o.hide(s[0]);\n        }\n      }\n    });\n    var r = o._toggle.bind(o),\n      a = PopupTrigger;\n    o.addEventListener(n, \"click\", function (e) {\n      o._ignoreClick || r(e, a.ClickPopup);\n    }, !0);\n    o.addEventListener(n, \"mousedown\", function (e) {\n      o._ignoreClick = !1;\n      r(e, a.DownPopup);\n    }, !0);\n    o.addEventListener(n, \"mouseenter\", function (e) {\n      e.target == n && r(e, a.EnterPopup);\n    }, !0);\n    o.addEventListener(n, \"mouseleave\", function (e) {\n      e.target == n && r(e, a.LeavePopup);\n    }, !0);\n    o.addEventListener(n, \"blur\", function (e) {\n      o.containsFocus() || r(e, a.BlurPopup);\n    }, !0);\n    s(document, \"wheel\", function (e) {\n      if (o.isVisible && o._modal) {\n        for (var t = e.target; t && t != document.body; t = t.parentElement) if (t.scrollHeight > t.clientHeight) return;\n        e.preventDefault();\n      }\n    });\n    o.initialize(i);\n    return o;\n  }\n  Object.defineProperty(Popup.prototype, \"owner\", {\n    get: function () {\n      return this._owner;\n    },\n    set: function (e) {\n      var t = this._owner;\n      if (t) {\n        this.removeEventListener(t, \"click\");\n        this.removeEventListener(t, \"mousedown\");\n        this.removeEventListener(t, \"mouseenter\");\n        this.removeEventListener(t, \"mouseleave\");\n        this.removeEventListener(t, \"blur\");\n      }\n      if (t = this._owner = null != e ? wijmo_1.getElement(e) : null) {\n        this.addEventListener(t, \"click\", this._ownerClickBnd, !0);\n        this.addEventListener(t, \"mousedown\", this._ownerDownBnd, !0);\n        this.addEventListener(t, \"mouseenter\", this._ownerEnterBnd, !0);\n        this.addEventListener(t, \"mouseleave\", this._ownerLeaveBnd, !0);\n        this.addEventListener(t, \"blur\", this._ownerBlurBnd, !0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"position\", {\n    get: function () {\n      return this._position;\n    },\n    set: function (e) {\n      this._position = wijmo_1.asEnum(e, wijmo_1.PopupPosition);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"content\", {\n    get: function () {\n      return this.hostElement.firstElementChild;\n    },\n    set: function (e) {\n      if (e != this.content) {\n        this.hostElement.innerHTML = \"\";\n        e instanceof HTMLElement && this.hostElement.appendChild(e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"showTrigger\", {\n    get: function () {\n      return this._showTrigger;\n    },\n    set: function (e) {\n      this._showTrigger = wijmo_1.asEnum(e, PopupTrigger);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"hideTrigger\", {\n    get: function () {\n      return this._hideTrigger;\n    },\n    set: function (e) {\n      this._hideTrigger = wijmo_1.asEnum(e, PopupTrigger);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"fadeIn\", {\n    get: function () {\n      return this._fadeIn;\n    },\n    set: function (e) {\n      this._fadeIn = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"fadeOut\", {\n    get: function () {\n      return this._fadeOut;\n    },\n    set: function (e) {\n      this._fadeOut = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"removeOnHide\", {\n    get: function () {\n      return this._removeOnHide;\n    },\n    set: function (e) {\n      if ((e = wijmo_1.asBoolean(e)) != this.removeOnHide) {\n        this._removeOnHide = e;\n        if (!this.isVisible) {\n          var t = this.hostElement;\n          if (e) wijmo_1.removeChild(t);else if (t && document.body) {\n            t.style.display = \"none\";\n            document.body.appendChild(t);\n          }\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"modal\", {\n    get: function () {\n      return this._modal;\n    },\n    set: function (e) {\n      this._modal = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"isDraggable\", {\n    get: function () {\n      return this._draggable;\n    },\n    set: function (e) {\n      this._draggable = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"isResizable\", {\n    get: function () {\n      return this._resizable;\n    },\n    set: function (e) {\n      this._resizable = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"dialogResult\", {\n    get: function () {\n      return this._result;\n    },\n    set: function (e) {\n      this._result = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"dialogResultEnter\", {\n    get: function () {\n      return this._resultEnter;\n    },\n    set: function (e) {\n      this._resultEnter = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"dialogResultSubmit\", {\n    get: function () {\n      return this._resultSubmit;\n    },\n    set: function (e) {\n      this._resultSubmit = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Popup.prototype, \"isVisible\", {\n    get: function () {\n      var e = this.hostElement;\n      return this._visible && null != e && e.offsetHeight > 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Popup.prototype.show = function (e, t) {\n    var i = this;\n    this._lastShow = Date.now();\n    if (!this.isVisible) {\n      var o = this.hostElement;\n      this.dialogResult = null;\n      this._callback = null;\n      this._oldFocus = null;\n      this._myFocus = null;\n      this._hideAnim.forEach(function (e) {\n        clearInterval(e);\n      });\n      if (this._hideAnim.length > 0) {\n        this._hideAnim.length = 0;\n        if (this._bkDrop) {\n          wijmo_1.hidePopup(this._bkDrop, this.removeOnHide);\n          this._bkDrop.style.opacity = \"\";\n        }\n        wijmo_1.hidePopup(o, this.removeOnHide);\n        o.style.opacity = \"\";\n      }\n      var n = new wijmo_1.CancelEventArgs();\n      if (this.onShowing(n)) {\n        null != e && (this.modal = wijmo_1.asBoolean(e));\n        null != t && (this._callback = wijmo_1.asFunction(t));\n        this._oldFocus = wijmo_1.getActiveElement();\n        wijmo_1.showPopup(o, this._owner, this._position, this._fadeIn, !1, this._hideBnd);\n        this._modal && this._showBackdrop();\n        this._composing = !1;\n        this._visible = !0;\n        this.onShown(n);\n        this._clearTimeouts();\n        if (this.modal) {\n          this.addEventListener(window, \"focus\", function () {\n            if (!i.containsFocus()) {\n              var e = i._myFocus;\n              e && e.offsetHeight ? e.focus() : wijmo_1.moveFocus(o, 0);\n            }\n          });\n          this.addEventListener(o, \"focusin\", function () {\n            var e = wijmo_1.getActiveElement();\n            e && wijmo_1.contains(o, e) && (e.tabIndex > -1 || !i._myFocus) && (i._myFocus = e);\n          });\n        }\n        this._resized = this._dragged = this._ignoreClick = !1;\n        this._handleDragResize(!0);\n        this.addEventListener(window, \"touchstart\", function (e) {\n          i._hideTrigger & PopupTrigger.Blur && !wijmo_1.contains(o, e.target, !0) && i.hide();\n        });\n        setTimeout(function () {\n          i.addEventListener(window, \"click\", function (e) {\n            i._hideTrigger & PopupTrigger.BlurPopup && i.isDisabled && !wijmo_1.contains(o, e.target, !0) && i.hide();\n          });\n        });\n        setTimeout(function () {\n          if (!i.isDisabled && !i.containsFocus() && !i.isTouching) {\n            var e = o.querySelector(\"[autofocus]\");\n            if (e && e.clientHeight > 0 && !e.disabled && e.tabIndex > -1 && !wijmo_1.closest(e, \"[disabled],.wj-state-disabled\")) {\n              e.focus();\n              wijmo_1.isFunction(e.select) && e.select();\n            } else wijmo_1.moveFocus(o, 0);\n          }\n          if (!i.isDisabled && !i.containsFocus()) {\n            o.tabIndex = 0;\n            o.focus();\n          }\n        }, 100);\n      }\n    }\n  };\n  Popup.prototype.hide = function (e) {\n    var t = this;\n    this.removeEventListener(window, \"touchstart\");\n    this.removeEventListener(window, \"click\");\n    if (this.isVisible) {\n      wijmo_1.isUndefined(e) || (this.dialogResult = e);\n      var i = new wijmo_1.CancelEventArgs(),\n        o = this.hostElement;\n      if (this.onHiding(i)) {\n        this._handleDragResize(!1);\n        for (var n = this.containsFocus() ? this._oldFocus : null, s = o.querySelectorAll(\".wj-control.wj-dropdown\"), r = 0; r < s.length; r++) {\n          var a = wijmo_1.Control.getControl(s[r]);\n          a instanceof DropDown && (a.isDroppedDown = !1);\n        }\n        var l = this.removeOnHide,\n          h = this.fadeOut;\n        setTimeout(function () {\n          t._updateState();\n          t.onHidden(i);\n          t._callback && t._callback(t);\n          if (t.hideTrigger & PopupTrigger.LeavePopup) {\n            var e = wijmo_1.Control.getControl(wijmo_1.closest(t.owner, \".wj-popup\"));\n            if (e instanceof Popup && 0 != (e.hideTrigger & PopupTrigger.Leave)) {\n              var o = Popup._evtHover,\n                n = o ? document.elementFromPoint(o.clientX, o.clientY) : null,\n                s = wijmo_1.Control.getControl(wijmo_1.closest(n, \".wj-popup\"));\n              s instanceof Popup && !s.isVisible && (n = null);\n              n && wijmo_1.contains(e.hostElement, n, !0) || e.hide();\n            }\n          }\n        }, wijmo_1.Control._FOCUS_INTERVAL + 50);\n        this._bkDrop && this._hideAnim.push(wijmo_1.hidePopup(this._bkDrop, l, h));\n        this._hideAnim.push(wijmo_1.hidePopup(o, l, h));\n        this._visible = !1;\n        this._oldFocus = null;\n        this._myFocus = null;\n        this.removeEventListener(window, \"focus\");\n        this.removeEventListener(o, \"focusin\");\n        this.containsFocus() && wijmo_1.getActiveElement().blur();\n        this._clearTimeouts();\n        !this.isVisible && n && n.offsetHeight && n.focus();\n      }\n    }\n  };\n  Popup.prototype.onShowing = function (e) {\n    this.showing.raise(this, e);\n    return !e.cancel;\n  };\n  Popup.prototype.onShown = function (e) {\n    this.shown.raise(this, e);\n  };\n  Popup.prototype.onHiding = function (e) {\n    this.hiding.raise(this, e);\n    return !e.cancel;\n  };\n  Popup.prototype.onHidden = function (e) {\n    this._wasVisible = !1;\n    this.hidden.raise(this, e);\n  };\n  Popup.prototype.onResizing = function (e) {\n    this.resizing.raise(this, e);\n    return !e.cancel;\n  };\n  Popup.prototype.onResized = function (e) {\n    this.resized.raise(this, e);\n  };\n  Popup.prototype.onDragging = function (e) {\n    this.dragging.raise(this, e);\n    return !e.cancel;\n  };\n  Popup.prototype.onDragged = function (e) {\n    this.dragged.raise(this, e);\n  };\n  Popup.prototype.onSizeChanging = function (e) {\n    this.sizeChanging.raise(this, e);\n    return !e.cancel;\n  };\n  Popup.prototype.onSizeChanged = function (e) {\n    this.sizeChanged.raise(this, e);\n  };\n  Popup.prototype.onPositionChanging = function (e) {\n    this.positionChanging.raise(this, e);\n    return !e.cancel;\n  };\n  Popup.prototype.onPositionChanged = function (e) {\n    this.positionChanged.raise(this, e);\n  };\n  Popup.prototype.onLostFocus = function (t) {\n    e.prototype.onLostFocus.call(this, t);\n    if (this._hideTrigger & PopupTrigger.BlurPopup && !this.containsFocus()) {\n      var i = document.createEvent(\"Event\");\n      i.initEvent(\"blur\", !0, !0);\n      this._toggle(i, PopupTrigger.BlurPopup);\n    }\n  };\n  Popup.prototype.dispose = function () {\n    this.owner = null;\n    e.prototype.dispose.call(this);\n  };\n  Popup.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    var i = this.hostElement;\n    e.prototype.refresh.call(this, t);\n    if (this.isVisible && !this._refreshing && i) {\n      this._refreshing = !0;\n      for (var o = wijmo_1.getActiveElement(), n = this._owner ? this._owner.getBoundingClientRect() : null, s = [], r = i.querySelectorAll(\".wj-dropdown\"), a = 0; a < r.length; a++) {\n        var l = wijmo_1.Control.getControl(r[a]);\n        if (l instanceof DropDown && l.isDroppedDown) {\n          s.push(l);\n          l.dropDown.style.display = \"none\";\n        }\n      }\n      wijmo_1.showPopup(i, n, this._position);\n      s.forEach(function (e) {\n        e.dropDown.style.display = \"\";\n        e._updateDropDown();\n      });\n      this._modal && o instanceof HTMLElement && o != wijmo_1.getActiveElement() && o.focus();\n      this._refreshing = !1;\n    }\n  };\n  Popup.prototype._clearTimeouts = function () {\n    if (this._toShow) {\n      clearTimeout(this._toShow);\n      this._toShow = null;\n    }\n    if (this._toHideLeave) {\n      clearTimeout(this._toHideLeave);\n      this._toHideLeave = null;\n    }\n    if (this._toHideBlur) {\n      clearTimeout(this._toHideBlur);\n      this._toHideBlur = null;\n    }\n  };\n  Popup.prototype._handleDragResize = function (e) {\n    var t = this.hostElement,\n      i = this._draggable ? this._getHeaderElement() : null,\n      o = this.addEventListener.bind(this),\n      n = this.removeEventListener.bind(this),\n      s = this._mousemoveBnd,\n      r = this._mousedownBnd;\n    if (e) {\n      o(t, \"mousemove\", s);\n      o(t, \"mousedown\", r);\n      o(t, \"touchstart\", r);\n      i && (i.style.touchAction = \"none\");\n    } else {\n      this._mousedownEvt = null;\n      this._rcBounds = null;\n      n(t, \"mousemove\", s);\n      n(t, \"mousedown\", r);\n      n(t, \"touchstart\", r);\n      n(document, \"mousemove\", this._mousedragBnd);\n      n(document, \"mouseup\", this._mouseupBnd);\n      i && (i.style.touchAction = \"\");\n    }\n  };\n  Popup.prototype._mousemove = function (e) {\n    if (!this._mousedownEvt) {\n      var t = this.hostElement,\n        i = this._getEdges(t, e),\n        o = \"\",\n        n = _Edges;\n      this._edges = i;\n      this._resizable && (i == n.LeftTop || i == n.RightBottom ? o = \"nwse-resize\" : i == n.LeftBottom || i == n.RightTop ? o = \"nesw-resize\" : i == n.Left || i == n.Right ? o = \"ew-resize\" : i != n.Top && i != n.Bottom || (o = \"ns-resize\"));\n      this._draggable && !o && this._getClosestHeader(e.target) && (o = \"move\");\n      t.style.cursor = o;\n    }\n  };\n  Popup.prototype._mousedown = function (e) {\n    if (!e.defaultPrevented) {\n      var t = e.touches && e.touches.length > 0 ? e.touches[0] : e;\n      this._edges = this._getEdges(this.hostElement, t);\n      if (this._edges || this._draggable && this._getClosestHeader(e.target)) {\n        var i = new wijmo_1.CancelEventArgs();\n        if (this._edges ? this.onResizing(i) : this.onDragging(i)) {\n          this._mousedownEvt = t;\n          this._rcBounds = this.hostElement.getBoundingClientRect();\n          var o = this.addEventListener.bind(this),\n            n = document,\n            s = this._mousedragBnd,\n            r = this._mouseupBnd;\n          o(n, \"mousemove\", s);\n          o(n, \"touchmove\", s);\n          o(n, \"mouseup\", r);\n          o(n, \"touchend\", r);\n        }\n      }\n      this._ignoreClick = !1;\n    }\n  };\n  Popup.prototype._mouseup = function () {\n    this._mousedownEvt = null;\n    this._rcBounds = null;\n    var e = this.removeEventListener.bind(this),\n      t = document,\n      i = this._mousedragBnd,\n      o = this._mouseupBnd;\n    e(t, \"mousemove\", i);\n    e(t, \"touchmove\", i);\n    e(t, \"mouseup\", o);\n    e(t, \"touchend\", o);\n    this._resized ? this.onResized() : this._dragged && this.onDragged();\n    this._resized = this._dragged = this._ignoreClick = !1;\n  };\n  Popup.prototype._mousedrag = function (e) {\n    if (!e.defaultPrevented) {\n      var t = this.hostElement,\n        i = this._mousedownEvt,\n        o = e.touches && e.touches.length > 0 ? e.touches[0] : e,\n        n = o.clientX - i.clientX,\n        s = o.clientY - i.clientY,\n        r = this._rcBounds,\n        a = this._edges,\n        l = Popup._SZ_MIN,\n        h = wijmo_1.Rect.fromBoundingRect(r);\n      if (a) {\n        if (a & _Edges.Left) {\n          h.left = r.left + n + (o.pageX - o.clientX);\n          h.width = Math.max(r.width - n, l);\n        } else if (a & _Edges.Right) {\n          h.left = r.left;\n          h.width = Math.max(r.width + n, l);\n        }\n        if (a & _Edges.Top) {\n          h.top = r.top + s + (o.pageY - o.clientY);\n          h.height = Math.max(r.height - s, l);\n        } else if (a & _Edges.Bottom) {\n          h.top = r.top;\n          h.height = Math.max(r.height + s, l);\n        }\n        if (this.onSizeChanging(new PopupBoundsChangingEventArgs(h))) {\n          wijmo_1.setCss(t, {\n            left: h.left,\n            top: h.top,\n            width: h.width,\n            height: h.height\n          });\n          this._resized = this._dragged = this._ignoreClick = !0;\n          this.onSizeChanged();\n        }\n        if (!window.ResizeObserver) for (var u = this.hostElement.children, c = 0; c < u.length; c++) wijmo_1.Control.invalidateAll(u[c]);\n      } else if (this._draggable && (this._dragged || Math.abs(n) + Math.abs(s) > Popup._DRAG_THRESHOLD)) {\n        h.left = Math.max(r.left + n + (o.pageX - o.clientX), 50 - r.width);\n        h.top = Math.max(r.top + s + (o.pageY - o.clientY), 0);\n        if (this.onPositionChanging(new PopupBoundsChangingEventArgs(h))) {\n          wijmo_1.setCss(t, {\n            left: h.left,\n            top: h.top\n          });\n          this._dragged = this._ignoreClick = !0;\n          this.onPositionChanged();\n        }\n      }\n    }\n  };\n  Popup.prototype._getEdges = function (e, t) {\n    var i = 0;\n    if (this._resizable) {\n      var o = e.getBoundingClientRect(),\n        n = Popup._SZ_EDGE;\n      t.clientX - o.left < n && (i |= _Edges.Left);\n      t.clientY - o.top < n && (i |= _Edges.Top);\n      o.right - t.clientX < n && (i |= _Edges.Right);\n      o.bottom - t.clientY < n && (i |= _Edges.Bottom);\n    }\n    return i;\n  };\n  Popup.prototype._ownerClick = function (e) {\n    this._toggle(e, PopupTrigger.ClickOwner);\n  };\n  Popup.prototype._ownerDown = function (e) {\n    this._wasVisible = this.isVisible;\n    this._toggle(e, PopupTrigger.DownOwner);\n  };\n  Popup.prototype._ownerBlur = function (e) {\n    wijmo_1.contains(this._owner, wijmo_1.getActiveElement()) || this._toggle(e, PopupTrigger.BlurOwner);\n  };\n  Popup.prototype._ownerEnter = function (e) {\n    e.target == this._owner && this._toggle(e, PopupTrigger.EnterOwner);\n  };\n  Popup.prototype._ownerLeave = function (e) {\n    e.target == this._owner && this._toggle(e, PopupTrigger.LeaveOwner);\n  };\n  Popup.prototype._toggle = function (e, t) {\n    var i = this;\n    e instanceof MouseEvent && (Popup._evtHover = e);\n    if (!(\"mouseenter\" == e.type && Date.now() - this._lastShow < 300 || e.defaultPrevented)) {\n      var o = 0 != (this._hideTrigger & t),\n        n = 0 != (this._showTrigger & t),\n        s = PopupTrigger;\n      (o || n) && this._clearTimeouts();\n      o && this.isVisible && (t & s.Leave ? this._toHideLeave = setTimeout(function () {\n        var e = Popup._evtHover,\n          t = e ? document.elementFromPoint(e.clientX, e.clientY) : null;\n        t && wijmo_1.contains(i.hostElement, t, !0) || i.hide();\n      }, wijmo_1.Control._LEAVE_DELAY) : t & s.Blur ? this._toHideBlur = setTimeout(function () {\n        i.containsFocus() || wijmo_1.contains(i._owner, wijmo_1.getActiveElement()) || i.hide();\n      }, wijmo_1.Control._FOCUS_INTERVAL + 50) : this.hide());\n      n && t != s.ClickPopup && (this._wasVisible || (t & s.Enter ? this._toShow = setTimeout(function () {\n        i.show();\n      }, wijmo_1.Control._HOVER_DELAY) : this.show()));\n    }\n  };\n  Popup.prototype._getHeaderElement = function () {\n    var e = this.hostElement;\n    return e.querySelector(\".wj-dialog-header\") || e.querySelector(\".modal-header\");\n  };\n  Popup.prototype._getClosestHeader = function (e) {\n    return wijmo_1.closest(e, \".wj-dialog-header\") || wijmo_1.closest(e, \".modal-header\");\n  };\n  Popup.prototype._showBackdrop = function () {\n    var e = this;\n    if (!this._bkDrop) {\n      this._bkDrop = document.createElement(\"div\");\n      this._bkDrop.tabIndex = -1;\n      wijmo_1.addClass(this._bkDrop, \"wj-popup-backdrop\");\n      this.addEventListener(this._bkDrop, \"mousedown\", function (t) {\n        t.preventDefault();\n        t.stopPropagation();\n        e.hostElement.focus();\n        e.hideTrigger & PopupTrigger.Blur && e.hide();\n      });\n    }\n    wijmo_1.setCss(this._bkDrop, {\n      zIndex: wijmo_1.Control._POPUP_ZINDEX,\n      display: \"\"\n    });\n    var t = this.hostElement;\n    t.parentElement.insertBefore(this._bkDrop, t);\n  };\n  Popup.prototype._validateAndHide = function (e) {\n    var t = this.hostElement;\n    if (t instanceof HTMLFormElement) t.reportValidity() && this.hide(e);else {\n      var i = this.hostElement.querySelector(\":invalid\");\n      i ? i.focus() : this.hide(e);\n    }\n  };\n  Popup._DRAG_THRESHOLD = 6;\n  Popup._SZ_EDGE = 10;\n  Popup._SZ_MIN = 40;\n  return Popup;\n}(wijmo_1.Control);\nexports.Popup = Popup;\nvar PopupBoundsChangingEventArgs = function (e) {\n  __extends(PopupBoundsChangingEventArgs, e);\n  function PopupBoundsChangingEventArgs(t) {\n    var i = e.call(this) || this;\n    i._rc = t;\n    return i;\n  }\n  Object.defineProperty(PopupBoundsChangingEventArgs.prototype, \"bounds\", {\n    get: function () {\n      return this._rc;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return PopupBoundsChangingEventArgs;\n}(wijmo_1.CancelEventArgs);\nexports.PopupBoundsChangingEventArgs = PopupBoundsChangingEventArgs;\nvar InputDate = function (e) {\n  __extends(InputDate, e);\n  function InputDate(t, i) {\n    var o = e.call(this, t) || this;\n    o._fmt = \"d\";\n    o._sep = \" - \";\n    o._rngs = null;\n    o._showCal = !1;\n    o._clsOnSel = !0;\n    o._handleWheel = !0;\n    o._clicked = !1;\n    o._rangeChanged = !1;\n    o._textInitialized = !1;\n    o.valueChanged = new wijmo_1.Event();\n    o.rangeEndChanged = new wijmo_1.Event();\n    o.rangeChanged = new wijmo_1.Event();\n    wijmo_1.addClass(o.hostElement, \"wj-inputdate\");\n    o._msk = new wijmo_1._MaskProvider(o._tbx);\n    wijmo_1.isIE9() || (o.inputType = \"tel\");\n    o._tbx.type.match(/^(tel|text|)$/i) || (o.inputType = \"text\");\n    o.addEventListener(o.hostElement, \"wheel\", function (e) {\n      if (o.handleWheel && !e.defaultPrevented && !o.isDroppedDown && o.containsFocus() && null != o.value && o._canChangeValue()) {\n        var t = wijmo_1.clamp(-e.deltaY, -1, 1),\n          i = o.value;\n        o.value = o.selectionMode == DateSelectionMode.Month ? wijmo_1.DateTime.addMonths(i, t) : wijmo_1.DateTime.addDays(i, t);\n        o.selectAll();\n        e.preventDefault();\n      }\n    });\n    var n = o._lbx = new ListBox(document.createElement(\"div\"), {\n        displayMemberPath: \"name\",\n        selectedIndexChanged: function (e) {\n          var t = e.selectedItem,\n            i = wijmo_1.DateTime.fromDateTime,\n            n = wijmo_1.DateTime.sameDate;\n          if (t && t.from && t.to) {\n            if (!n(t.from, o.value) || !n(t.to, o.rangeEnd)) {\n              var s = o.value;\n              o.value = i(t.from, s);\n              o.rangeEnd = i(t.to, s);\n            }\n            o._selectAll();\n          } else o._cal.hostElement.style.display = \"\";\n        }\n      }),\n      s = o._cal = new Calendar(document.createElement(\"div\")),\n      r = o._dropDown;\n    wijmo_1.addClass(r, \"wj-inputdate-dropdown\");\n    r.appendChild(n.hostElement);\n    r.appendChild(s.hostElement);\n    o.addEventListener(r, \"click\", function () {\n      o._clicked = !0;\n      setTimeout(function () {\n        o._clicked = !1;\n      }, 50);\n    }, !0);\n    if (\"INPUT\" == o._orgTag) {\n      var a = o._tbx.getAttribute(\"value\");\n      a && (s.value = s.rangeEnd = wijmo_1.Globalize.parseDate(a, \"yyyy-MM-dd\"));\n    }\n    o.isRequired = !0;\n    o._tbx.value = o._oldText = o._getText();\n    o.initialize(i);\n    if (o._textInitialized && o._tbx.value !== o._oldText) {\n      o._oldText = o._tbx.value;\n      o._commitText();\n      o.onTextChanged();\n      o._textInitialized = !1;\n    }\n    o._updateState();\n    s.valueChanged.addHandler(function (e, t) {\n      o._refreshText();\n      o.onValueChanged(t);\n      o._closeOnChange();\n    });\n    s.rangeEndChanged.addHandler(function (e, t) {\n      if (s._rngMode()) {\n        o.onRangeEndChanged(t);\n        o._closeOnChange();\n        s._clearingRangeEnd || o._refreshText();\n      }\n    });\n    s.hostElement.addEventListener(\"click\", function (e) {\n      if (s.selectionMode && !s._rngMode()) {\n        var t = e.target,\n          i = s.hitTest(t);\n        if (wijmo_1.DateTime.sameDate(o.value, i) || wijmo_1.closest(t, \"[wj-part=btn-today]\")) {\n          o._closeOnChange();\n          o._refreshText();\n        }\n      }\n    });\n    return o;\n  }\n  Object.defineProperty(InputDate.prototype, \"value\", {\n    get: function () {\n      return this._cal.value;\n    },\n    set: function (e) {\n      this._cal.value = e;\n      (this.text || this.isRequired) && this._refreshText();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"rangeEnd\", {\n    get: function () {\n      return this._cal.rangeEnd;\n    },\n    set: function (e) {\n      this._cal.rangeEnd = e;\n      (this.text || this.isRequired) && this._refreshText();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"rangeMin\", {\n    get: function () {\n      return this._cal.rangeMin;\n    },\n    set: function (e) {\n      this._cal.rangeMin = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"rangeMax\", {\n    get: function () {\n      return this._cal.rangeMax;\n    },\n    set: function (e) {\n      this._cal.rangeMax = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"text\", {\n    get: function () {\n      return this._tbx.value;\n    },\n    set: function (e) {\n      var t = (e || \"\").toString();\n      if (t != this.text) {\n        t != this._tbx.value && (this._tbx.value = t);\n        t != this._oldText && (this._oldText = t);\n        this._commitText();\n        this.onTextChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"format\", {\n    get: function () {\n      return this._fmt;\n    },\n    set: function (e) {\n      if (e != this.format) {\n        this._fmt = wijmo_1.asString(e);\n        this._refreshText();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"separator\", {\n    get: function () {\n      return this._sep;\n    },\n    set: function (e) {\n      if (e != this._sep) {\n        this._sep = wijmo_1.asString(e, !1);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"mask\", {\n    get: function () {\n      return this._msk.mask;\n    },\n    set: function (e) {\n      this._msk.mask = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"closeOnSelection\", {\n    get: function () {\n      return this._clsOnSel;\n    },\n    set: function (e) {\n      this._clsOnSel = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"handleWheel\", {\n    get: function () {\n      return this._handleWheel;\n    },\n    set: function (e) {\n      e = wijmo_1.asBoolean(e);\n      this._handleWheel = e;\n      e || (this.calendar.handleWheel = e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"predefinedRanges\", {\n    get: function () {\n      return this._rngs;\n    },\n    set: function (e) {\n      if (this._rngs != e) {\n        wijmo_1.assert(null == e || wijmo_1.isObject(e), \"Object expected\");\n        this._rngs = e;\n        this._lbx.itemsSource = this._getRanges(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"alwaysShowCalendar\", {\n    get: function () {\n      return this._showCal;\n    },\n    set: function (e) {\n      this._showCal = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"min\", {\n    get: function () {\n      return this._cal.min;\n    },\n    set: function (e) {\n      this._cal.min = wijmo_1.asDate(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"max\", {\n    get: function () {\n      return this._cal.max;\n    },\n    set: function (e) {\n      this._cal.max = wijmo_1.asDate(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"repeatButtons\", {\n    get: function () {\n      return this._cal.repeatButtons;\n    },\n    set: function (e) {\n      this._cal.repeatButtons = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"showYearPicker\", {\n    get: function () {\n      return this._cal.showYearPicker;\n    },\n    set: function (e) {\n      this._cal.showYearPicker = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"showMonthPicker\", {\n    get: function () {\n      return this._cal.showMonthPicker;\n    },\n    set: function (e) {\n      this._cal.showMonthPicker = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"showHeader\", {\n    get: function () {\n      return this._cal.showHeader;\n    },\n    set: function (e) {\n      this._cal.showHeader = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"weeksBefore\", {\n    get: function () {\n      return this._cal.weeksBefore;\n    },\n    set: function (e) {\n      this._cal.weeksBefore = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"weeksAfter\", {\n    get: function () {\n      return this._cal.weeksAfter;\n    },\n    set: function (e) {\n      this._cal.weeksAfter = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"selectionMode\", {\n    get: function () {\n      return this._cal.selectionMode;\n    },\n    set: function (e) {\n      if (e != this.selectionMode) {\n        this._cal.selectionMode = e;\n        this._refreshText();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"monthCount\", {\n    get: function () {\n      return this._cal.monthCount;\n    },\n    set: function (e) {\n      this._cal.monthCount = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"calendar\", {\n    get: function () {\n      return this._cal;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"inputElement\", {\n    get: function () {\n      return this._tbx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"inputType\", {\n    get: function () {\n      return this._tbx.type;\n    },\n    set: function (e) {\n      e.match(/^(tel|text|)$/i) ? this._tbx.type = wijmo_1.asString(e) : console.warn(\"invalid input type '\" + e + \"', don't use any input types other than 'tel' or 'text'\");\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"itemValidator\", {\n    get: function () {\n      return this._cal.itemValidator;\n    },\n    set: function (e) {\n      if (e != this.itemValidator) {\n        this._cal.itemValidator = wijmo_1.asFunction(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDate.prototype, \"itemFormatter\", {\n    get: function () {\n      return this._cal.itemFormatter;\n    },\n    set: function (e) {\n      this._cal.itemFormatter = wijmo_1.asFunction(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  InputDate.prototype.onValueChanged = function (e) {\n    this.valueChanged.raise(this, e);\n  };\n  InputDate.prototype.onRangeEndChanged = function (e) {\n    this.rangeEndChanged.raise(this, e);\n    this.rangeEnd && (this.isDroppedDown ? this._rangeChanged = !0 : this.onRangeChanged(e));\n  };\n  InputDate.prototype.onRangeChanged = function (e) {\n    this._rangeChanged = !1;\n    this.rangeChanged.raise(this, e);\n  };\n  InputDate.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    if (this.hostElement) {\n      this._msk && this._msk.refresh();\n      this._cal && this._cal.refresh();\n      this._refreshText();\n    }\n  };\n  InputDate.prototype.onIsDroppedDownChanging = function (t) {\n    if (this.isDroppedDown) {\n      (o = this._cal)._rngMode() && o.value && !o.rangeEnd && (o.rangeEnd = o.value);\n    } else {\n      var i = this._lbx,\n        o = this._cal,\n        n = i.collectionView,\n        s = i.hostElement.style,\n        r = o.hostElement.style;\n      if (o._rngMode() && wijmo_1.hasItems(n)) {\n        var a = this._updateRangeSelection();\n        s.display = \"\";\n        r.display = !this._showCal && a && a.from && n.items.some(function (e) {\n          return !e.to;\n        }) ? \"none\" : \"\";\n      } else {\n        s.display = \"none\";\n        r.display = \"\";\n      }\n      o._mthMode() || (o.monthView = !0);\n    }\n    return e.prototype.onIsDroppedDownChanging.call(this, t);\n  };\n  InputDate.prototype.onIsDroppedDownChanged = function (t) {\n    e.prototype.onIsDroppedDownChanged.call(this, t);\n    var i = this.containsFocus();\n    if (this.isDroppedDown) {\n      i && (this._tryFocus(this._cal) || this._tryFocus(this._lbx) || this.dropDown.focus());\n      this._lbx.showSelection();\n      this._cal.refresh();\n    } else {\n      this._commitText();\n      this._rangeChanged && this.onRangeChanged();\n    }\n  };\n  InputDate.prototype._updateDropDown = function () {\n    this._commitText();\n    var t = getComputedStyle(this.hostElement);\n    this._dropDown.style.minWidth = 18 * parseFloat(t.fontSize) + \"px\";\n    this._cal.refresh();\n    e.prototype._updateDropDown.call(this);\n  };\n  InputDate.prototype._keydown = function (t) {\n    if (!(t.defaultPrevented || t.altKey || t.ctrlKey || t.metaKey)) {\n      if (this._isHiddenEditor()) return;\n      switch (t.keyCode) {\n        case wijmo_1.Key.Enter:\n          this.isDroppedDown ? this._refreshText() : this._commitText();\n          break;\n        case wijmo_1.Key.Escape:\n          this.text = this._getText();\n          this.selectAll();\n          break;\n        case wijmo_1.Key.Tab:\n          if (this._cal._rngMode()) {\n            var i = this._tbx,\n              o = this._sep,\n              n = i.value,\n              s = n.indexOf(o);\n            if (s > -1) {\n              var r = n.length,\n                a = i.selectionStart,\n                l = i.selectionEnd,\n                h = null;\n              i.selectionEnd <= s && !t.shiftKey ? h = 0 == a && 0 == l : t.shiftKey && i.selectionStart >= s + o.length && (h = a < r || l < r);\n              if (null != h) {\n                h ? wijmo_1.setSelectionRange(i, 0, s) : wijmo_1.setSelectionRange(i, s + o.length, r);\n                t.preventDefault();\n              }\n            }\n          }\n          break;\n        case wijmo_1.Key.Up:\n        case wijmo_1.Key.Down:\n          if (!this.isDroppedDown && this.value && this._canChangeValue()) {\n            var u = t.keyCode == wijmo_1.Key.Up ? 1 : -1,\n              c = this.selectionMode == DateSelectionMode.Month ? wijmo_1.DateTime.addMonths(this.value, u) : wijmo_1.DateTime.addDays(this.value, u);\n            this.value = this._fromDateTime(c);\n            this.selectAll();\n            t.preventDefault();\n          }\n      }\n    }\n    e.prototype._keydown.call(this, t);\n  };\n  InputDate.prototype._expandSelection = function () {\n    if (this._cal._rngMode()) {\n      var t = this._tbx,\n        i = t.value,\n        o = t.selectionStart,\n        n = t.selectionEnd,\n        s = this._sep,\n        r = i.indexOf(s);\n      r > -1 && o == n && (n <= r ? wijmo_1.setSelectionRange(t, 0, r) : o >= r + s.length && wijmo_1.setSelectionRange(t, r + s.length, t.value.length));\n    } else e.prototype._expandSelection.call(this);\n  };\n  InputDate.prototype._refreshText = function () {\n    var e = this._getText();\n    if (e != this.text || e !== this._oldText) {\n      this._tbx.value = this._oldText = e;\n      this.onTextChanged();\n    }\n  };\n  InputDate.prototype._selectAll = function () {\n    this.isDroppedDown || !this.containsFocus() || this.isTouching || this.selectAll();\n  };\n  InputDate.prototype._closeOnChange = function () {\n    var e = this;\n    if (this._clsOnSel && this._clicked) {\n      var t = this._cal;\n      (!t._rngMode() || t.value && t.rangeEnd) && setTimeout(function () {\n        e.isDroppedDown = !1;\n      });\n    }\n  };\n  InputDate.prototype._tryFocus = function (e) {\n    var t = e.hostElement;\n    if (t && t.offsetHeight) {\n      t.focus();\n      return !0;\n    }\n    return !1;\n  };\n  InputDate.prototype._clamp = function (e) {\n    return this._cal._clamp(e);\n  };\n  InputDate.prototype._getText = function () {\n    var e = wijmo_1.Globalize.format,\n      t = this._fmt,\n      i = e(this.value, t);\n    this._cal._rngMode() && i && (i += this._sep + e(this.rangeEnd, t));\n    return i;\n  };\n  InputDate.prototype._commitText = function (e) {\n    var t = this._tbx.value;\n    if (t != this._getText()) {\n      var i = !1,\n        o = this._fmt,\n        n = this._cal,\n        s = wijmo_1.Globalize.parseDate;\n      if (t || this.isRequired) {\n        if (n._rngMode()) {\n          var r = t.split(this._sep);\n          if (2 == r.length && r[0]) {\n            if (l = s(r[0], o, this.value)) {\n              var a = s(r[1], o, this.value);\n              n.value = this._fromDateTime(l);\n              n.rangeEnd = a && a >= l ? this._fromDateTime(a) : l;\n              i = !0;\n            }\n          }\n        } else {\n          var l;\n          if (l = s(t, o, this.value)) {\n            this.value = this._fromDateTime(l);\n            i = !0;\n          }\n        }\n      } else {\n        this.value = this.rangeEnd = null;\n        i = !0;\n      }\n      (i || !this._containsFocus() && this.onInvalidInput(new wijmo_1.CancelEventArgs())) && (this.text = this._getText());\n    }\n    e || this._selectAll();\n  };\n  InputDate.prototype._fromDateTime = function (e) {\n    return wijmo_1.DateTime.fromDateTime(e, this.value);\n  };\n  InputDate.prototype._canChangeValue = function () {\n    return !this.isReadOnly && !this.isDisabled && this.selectionMode != DateSelectionMode.None;\n  };\n  InputDate.prototype._isValidDate = function (e) {\n    if (e) {\n      if (this._clamp(e) != e) return !1;\n      if (this.itemValidator && !this.itemValidator(e)) return !1;\n    }\n    return !0;\n  };\n  InputDate.prototype._getRanges = function (e) {\n    var t = [];\n    if (wijmo_1.isObject(e)) for (var i in e) {\n      var o = e[i];\n      t.push({\n        name: i,\n        from: o ? o[0] : null,\n        to: o ? o[1] : null\n      });\n    }\n    return new wijmo_1.CollectionView(t, {\n      currentItem: null\n    });\n  };\n  InputDate.prototype._updateRangeSelection = function () {\n    var e = this._lbx,\n      t = -1;\n    if (wijmo_1.hasItems(e.collectionView)) for (var i = this._lbx.collectionView.items, o = wijmo_1.DateTime.sameDate, n = 0; n < i.length; n++) {\n      var s = i[n];\n      if (s.from) {\n        if (o(s.from, this.value) && o(s.to, this.rangeEnd)) {\n          t = n;\n          break;\n        }\n      } else t = n;\n    }\n    e.selectedIndex = t;\n    return e.selectedItem;\n  };\n  InputDate.prototype._copy = function (e, t) {\n    if (\"text\" === e) {\n      var i = (t || \"\").toString();\n      if (i !== this.text) {\n        this._tbx.value = i;\n        this._textInitialized = !0;\n      }\n      return !0;\n    }\n    return !1;\n  };\n  return InputDate;\n}(DropDown);\nexports.InputDate = InputDate;\nvar InputDateRange = function (e) {\n  __extends(InputDateRange, e);\n  function InputDateRange(t, i) {\n    var o = e.call(this, t, {\n      selectionMode: DateSelectionMode.Range,\n      showMonthPicker: \"Outside\",\n      monthCount: 2\n    }) || this;\n    wijmo_1.addClass(o.hostElement, \"wj-inputdaterange\");\n    o._tbx.value = o._oldText = o._getText();\n    o.initialize(i);\n    if (o._tbx.value !== o._oldText) {\n      o._oldText = o._tbx.value;\n      o._commitText();\n    }\n    return o;\n  }\n  Object.defineProperty(InputDateRange.prototype, \"selectionMode\", {\n    get: function () {\n      return this.calendar.selectionMode;\n    },\n    set: function (e) {\n      e = wijmo_1.asEnum(e, DateSelectionMode);\n      wijmo_1.assert(e == DateSelectionMode.Range, 'InputDateRange.selectionMode must be \"Range\"');\n      this.calendar.selectionMode = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return InputDateRange;\n}(InputDate);\nexports.InputDateRange = InputDateRange;\nvar InputColor = function (e) {\n  __extends(InputColor, e);\n  function InputColor(t, i) {\n    var o = e.call(this, t) || this;\n    o._textInitialized = !1;\n    o.valueChanged = new wijmo_1.Event();\n    wijmo_1.addClass(o.hostElement, \"wj-inputcolor\");\n    o._ePreview = wijmo_1.createElement('<div class=\"wj-inputcolorbox\"></div>', o.hostElement.firstElementChild);\n    if (\"INPUT\" == o._orgTag) {\n      o._tbx.type = \"\";\n      o._commitText();\n    }\n    o.value = \"#ffffff\";\n    o.isRequired = !0;\n    o._tbx.value = o._oldText = o.value;\n    o.initialize(i);\n    if (o._textInitialized && o._tbx.value !== o._oldText) {\n      o._oldText = o._tbx.value;\n      o.onTextChanged();\n      o._commitText();\n      o._textInitialized = !1;\n    }\n    o.addEventListener(o._colorPicker.hostElement, \"click\", function (e) {\n      var t = e.target;\n      if (t && \"DIV\" == t.tagName && (wijmo_1.closest(t, '[wj-part=\"div-pal\"]') || wijmo_1.closest(t, '[wj-part=\"div-pv\"]'))) {\n        t.style.backgroundColor && (o.isDroppedDown = !1);\n      }\n    });\n    return o;\n  }\n  Object.defineProperty(InputColor.prototype, \"value\", {\n    get: function () {\n      return this._value;\n    },\n    set: function (e) {\n      this.text = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputColor.prototype, \"text\", {\n    get: function () {\n      return this._tbx.value;\n    },\n    set: function (e) {\n      if ((e = wijmo_1.asString(e)) != this.text && (e || !this.isRequired) && (!e || wijmo_1.Color.fromString(e))) {\n        this._setText(e, !0);\n        this._commitText();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputColor.prototype, \"showAlphaChannel\", {\n    get: function () {\n      return this._colorPicker.showAlphaChannel;\n    },\n    set: function (e) {\n      this._colorPicker.showAlphaChannel = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputColor.prototype, \"showColorString\", {\n    get: function () {\n      return this._colorPicker.showColorString;\n    },\n    set: function (e) {\n      this._colorPicker.showColorString = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputColor.prototype, \"palette\", {\n    get: function () {\n      return this._colorPicker.palette;\n    },\n    set: function (e) {\n      this._colorPicker.palette = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputColor.prototype, \"colorPicker\", {\n    get: function () {\n      return this._colorPicker;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  InputColor.prototype.onValueChanged = function (e) {\n    this.valueChanged.raise(this, e);\n  };\n  InputColor.prototype.onIsDroppedDownChanged = function (t) {\n    e.prototype.onIsDroppedDownChanged.call(this, t);\n    this.isDroppedDown && !this.isTouching && this.selectAll();\n  };\n  InputColor.prototype._createDropDown = function () {\n    var e = this;\n    this._colorPicker = new ColorPicker(this._dropDown);\n    wijmo_1.setCss(this._dropDown, {\n      minWidth: 420,\n      minHeight: 200\n    });\n    this._colorPicker.valueChanged.addHandler(function () {\n      e.value = e._colorPicker.value;\n    });\n  };\n  InputColor.prototype._keydown = function (t) {\n    if (!t.defaultPrevented) switch (t.keyCode) {\n      case wijmo_1.Key.Enter:\n        this._commitText();\n        this.selectAll();\n        break;\n      case wijmo_1.Key.Escape:\n        this.text = this.value;\n        this.selectAll();\n    }\n    e.prototype._keydown.call(this, t);\n  };\n  InputColor.prototype._commitText = function () {\n    if (this._value != this.text) {\n      if (!this.isRequired && !this.text) {\n        this._value = this.text;\n        this._ePreview.style.backgroundColor = \"\";\n        this.onValueChanged();\n        return;\n      }\n      if (wijmo_1.Color.fromString(this.text)) {\n        var e = this._colorPicker;\n        e.value = this.text;\n        this._value = e.value;\n        this._ePreview.style.backgroundColor = this.value;\n        this.onValueChanged();\n      } else this.onInvalidInput(new wijmo_1.CancelEventArgs()) && (this.text = this._value ? this._value : \"\");\n    }\n  };\n  InputColor.prototype._copy = function (e, t) {\n    if (\"text\" === e) {\n      var i = (t || \"\").toString();\n      if (i !== this.text) {\n        this._tbx.value = i;\n        this._textInitialized = !0;\n      }\n      return !0;\n    }\n    return !1;\n  };\n  return InputColor;\n}(DropDown);\nexports.InputColor = InputColor;\nvar ComboBox = function (e) {\n  __extends(ComboBox, e);\n  function ComboBox(t, i) {\n    var o = e.call(this, t) || this;\n    o._editable = !1;\n    o._trimText = !0;\n    o._handleWheel = !0;\n    o._delKey = 0;\n    o._draggingText = !1;\n    o._pathHdr = new wijmo_1.Binding(null);\n    o._bsCollapse = !0;\n    o._fmtItemHandlers = 0;\n    o._emptyValueAction = !1;\n    o._oldIndexToBeRestoredOnBlur = null;\n    o._restoreComboboxTbxVal = !1;\n    o._isWheel = !1;\n    o.itemsSourceChanged = new wijmo_1.Event();\n    o.selectedIndexChanged = new wijmo_1.Event();\n    var n = o.hostElement;\n    wijmo_1.addClass(n, \"wj-combobox\");\n    o.dropDown.id = wijmo_1.getUniqueId(n.id + \"_dropdown\");\n    o.autoExpandSelection = !1;\n    var s = o._tbx;\n    o.addEventListener(s, \"compositionstart\", function () {\n      o._composing = !0;\n    });\n    o.addEventListener(s, \"compositionend\", function () {\n      o._composing = !1;\n      o._setText(o.text, !0);\n    });\n    o.addEventListener(s, \"drag\", function () {\n      o._draggingText = !0;\n    });\n    o.addEventListener(n, \"wheel\", o._wheel.bind(o));\n    \"SELECT\" == o._orgTag && o._lbx._initFromSelect(n);\n    var r = o._lbx;\n    r.loadedItems.addHandler(function (e) {\n      o.selectedIndex > -1 && (o.selectedIndex = r.selectedIndex);\n    });\n    o.isRequired = !0;\n    o.initialize(i);\n    return o;\n  }\n  Object.defineProperty(ComboBox.prototype, \"itemsSource\", {\n    get: function () {\n      return this._lbx.itemsSource;\n    },\n    set: function (e) {\n      if (this._lbx.itemsSource != e) {\n        this._lbx.itemsSource = e;\n        this.onItemsSourceChanged();\n      }\n      this._updateBtn();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"collectionView\", {\n    get: function () {\n      return this._lbx.collectionView;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"virtualizationThreshold\", {\n    get: function () {\n      return this._lbx.virtualizationThreshold;\n    },\n    set: function (e) {\n      this._lbx.virtualizationThreshold = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"showGroups\", {\n    get: function () {\n      return this._lbx.showGroups;\n    },\n    set: function (e) {\n      this._lbx.showGroups = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"displayMemberPath\", {\n    get: function () {\n      return this._lbx.displayMemberPath;\n    },\n    set: function (e) {\n      this._lbx.displayMemberPath = e;\n      var t = this.getDisplayText();\n      this.text != t && this._setText(t, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"headerPath\", {\n    get: function () {\n      return this._pathHdr.path;\n    },\n    set: function (e) {\n      this._pathHdr.path = wijmo_1.asString(e);\n      var t = this.getDisplayText();\n      this.text != t && this._setText(t, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"selectedValuePath\", {\n    get: function () {\n      return this._lbx.selectedValuePath;\n    },\n    set: function (e) {\n      this._lbx.selectedValuePath = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"isContentHtml\", {\n    get: function () {\n      return this._lbx.isContentHtml;\n    },\n    set: function (e) {\n      if (e != this.isContentHtml) {\n        this._lbx.isContentHtml = wijmo_1.asBoolean(e);\n        var t = this.getDisplayText();\n        this.text != t && this._setText(t, !0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"caseSensitiveSearch\", {\n    get: function () {\n      return this._lbx.caseSensitiveSearch;\n    },\n    set: function (e) {\n      this._lbx.caseSensitiveSearch = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"trimText\", {\n    get: function () {\n      return this._trimText;\n    },\n    set: function (e) {\n      if (e != this._trimText) {\n        this._trimText = wijmo_1.asBoolean(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"itemFormatter\", {\n    get: function () {\n      return this._lbx.itemFormatter;\n    },\n    set: function (e) {\n      this._lbx.itemFormatter = wijmo_1.asFunction(e);\n      this.selectedIndex = this._lbx.selectedIndex;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"formatItem\", {\n    get: function () {\n      return this._lbx.formatItem;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"selectedIndex\", {\n    get: function () {\n      return this._lbx.selectedIndex;\n    },\n    set: function (e) {\n      e != this.selectedIndex && wijmo_1.isNumber(e) && (this._lbx.selectedIndex = e);\n      var t = this._lbx._oldSelectedIndex != this.selectedIndex;\n      e = this.selectedIndex;\n      var i = this.getDisplayText(e);\n      if (this.text != i || t) {\n        var o = this._internalSettingText;\n        this._internalSettingText = this._lbx._ignoredItemChangedEvents;\n        this._setText(i, !0);\n        \"\" != this.text && (this._emptyValueAction = !1);\n        this._internalSettingText = o;\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"selectedItem\", {\n    get: function () {\n      return this._lbx.selectedItem;\n    },\n    set: function (e) {\n      this._lbx.selectedItem = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"selectedValue\", {\n    get: function () {\n      return this.collectionView ? this._lbx.selectedValue : this.text;\n    },\n    set: function (e) {\n      this.collectionView ? this._lbx.selectedValue = e : null != e && (this.text = e.toString());\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"isEditable\", {\n    get: function () {\n      return this._editable;\n    },\n    set: function (e) {\n      this._editable = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"handleWheel\", {\n    get: function () {\n      return this._handleWheel;\n    },\n    set: function (e) {\n      this._handleWheel = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"maxDropDownHeight\", {\n    get: function () {\n      return this._lbx.maxHeight;\n    },\n    set: function (e) {\n      this._lbx.maxHeight = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ComboBox.prototype, \"maxDropDownWidth\", {\n    get: function () {\n      var e = this._dropDown,\n        t = e ? parseInt(e.style.maxWidth) : null;\n      return isNaN(t) ? null : t;\n    },\n    set: function (e) {\n      var t = this._dropDown.style;\n      e = wijmo_1.asNumber(e, !0);\n      t.maxWidth = null == e ? \"\" : e + \"px\";\n      t.minWidth = \"\";\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  ComboBox.prototype.getDisplayText = function (e, t) {\n    void 0 === e && (e = this.selectedIndex);\n    void 0 === t && (t = this._trimText);\n    var i,\n      o = this.collectionView;\n    if (this.headerPath && e > -1 && wijmo_1.hasItems(o)) {\n      var n = o.items[e];\n      i = null != (i = n ? this._pathHdr.getValue(n) : null) ? i.toString() : \"\";\n      this.isContentHtml && (i = wijmo_1.toPlainText(i));\n    } else i = this._lbx.getDisplayText(e);\n    return t ? i.trim() : i;\n  };\n  ComboBox.prototype.indexOf = function (e, t, i) {\n    void 0 === i && (i = !1);\n    var o = this.collectionView,\n      n = this.caseSensitiveSearch;\n    if (wijmo_1.hasItems(o) && null != e) {\n      e = e.toString();\n      n || (e = e.toLowerCase());\n      if (this._trimText && !i) {\n        -1 !== this.indexOf(e, !1, !0) || (e = e.trim());\n      }\n      var s = this.selectedIndex,\n        r = this.getDisplayText(s);\n      if (t) {\n        n || (r = r.toLowerCase());\n        if (e == r) return s;\n      } else if (!e && \"\" == r) return s;\n      for (var a = 0; a < o.items.length; a++) if (this._lbx.isItemEnabled(a)) {\n        r = this.getDisplayText(a);\n        this.trimText && (r = r.trim());\n        n || (r = r.toLowerCase());\n        if (t) {\n          if (r == e && !1 === this._emptyValueAction) return a;\n        } else if (e && 0 == r.indexOf(e) || !e && \"\" == r && !1 === this._emptyValueAction) return a;\n      }\n    }\n    return -1;\n  };\n  Object.defineProperty(ComboBox.prototype, \"listBox\", {\n    get: function () {\n      return this._lbx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  ComboBox.prototype.onItemsSourceChanged = function (e) {\n    this.itemsSourceChanged.raise(this, e);\n  };\n  ComboBox.prototype.onSelectedIndexChanged = function (e) {\n    this._updateBtn();\n    this.selectedIndexChanged.raise(this, e);\n  };\n  ComboBox.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    if (this.hostElement && wijmo_1.hasItems(this.collectionView)) {\n      this._lbx.refresh();\n      this.selectedIndex > -1 && (this.selectedIndex = this._lbx.selectedIndex);\n    }\n  };\n  ComboBox.prototype.onLostFocus = function (t, i, o) {\n    if (this._composing) {\n      this._composing = !1;\n      this._setText(this.text, !0);\n    }\n    if ((!this.text && this.isRequired || o) && wijmo_1.hasItems(this.collectionView)) {\n      void 0 !== i && (this.selectedIndex = -1 !== i ? i : 0);\n      null !== this._oldIndexToBeRestoredOnBlur && (this.selectedIndex = -1 !== this._oldIndexToBeRestoredOnBlur ? this._oldIndexToBeRestoredOnBlur : 0);\n    }\n    var n = this.text,\n      s = this.collectionView ? this.collectionView.items.length : 0;\n    e.prototype.onLostFocus.call(this, t);\n    var r = this.collectionView ? this.collectionView.items.length : 0;\n    this._trySelectionUpdateOnItemsSourceChanged(r !== s, n);\n  };\n  ComboBox.prototype.onIsDroppedDownChanging = function (t) {\n    if (!this.isDroppedDown && !this._hasItems()) {\n      t.cancel = !0;\n      return !1;\n    }\n    return e.prototype.onIsDroppedDownChanging.call(this, t);\n  };\n  ComboBox.prototype.onIsDroppedDownChanged = function (t) {\n    e.prototype.onIsDroppedDownChanged.call(this, t);\n    if (this.isDroppedDown) {\n      this._fmtItemHandlers = this.formatItem.handlerCount;\n      this._lbx.showSelection();\n    }\n    this._updateAria();\n  };\n  ComboBox.prototype._trySelectionUpdateOnItemsSourceChanged = function (e, t) {\n    if (e && t) {\n      var i = this.indexOf(t, !0);\n      i < 0 && (i = this.indexOf(t, !1));\n      this.selectedIndex = i;\n    }\n  };\n  ComboBox.prototype._setIsDisabled = function (t) {\n    e.prototype._setIsDisabled.call(this, t);\n    this._updateBtn();\n  };\n  ComboBox.prototype._updateBtn = function () {\n    var t = this.collectionView,\n      i = this._tbx,\n      o = this._hasItems();\n    e.prototype._updateBtn.call(this);\n    this._btn.style.display = this._showBtn && null != t ? \"\" : \"none\";\n    wijmo_1.enable(this._btn, o && !this.isDisabled);\n    wijmo_1.setAttribute(i, \"role\", o ? \"combobox\" : null);\n    wijmo_1.setAttribute(i, \"aria-autocomplete\", o ? \"both\" : null);\n    this._updateAria();\n  };\n  ComboBox.prototype._hasItems = function () {\n    return wijmo_1.hasItems(this.collectionView);\n  };\n  ComboBox.prototype._updateAria = function () {\n    var e = this._tbx,\n      t = this.isDroppedDown,\n      i = this.dropDown ? this.dropDown.id : null,\n      o = i && wijmo_1.hasItems(this.collectionView);\n    wijmo_1.setAttribute(e, \"aria-owns\", o && t ? i : null);\n    wijmo_1.setAttribute(e, \"aria-expanded\", o ? t : null);\n  };\n  ComboBox.prototype._createDropDown = function () {\n    var e = this;\n    if (!this._lbx) {\n      this._lbx = new ListBox(this._dropDown);\n      this._lbx._container = this.hostElement;\n    }\n    this._lbx.maxHeight = 200;\n    this._lbx.selectedIndexChanged.addHandler(function () {\n      e._updateBtn();\n      var t = e._lbx.selectedIndex,\n        i = e._lbx.hostElement.children,\n        o = t > -1 && t < i.length ? i[t].id : null;\n      wijmo_1.setAttribute(e._tbx, \"aria-activedescendant\", o && o.length ? o : null);\n      e.selectedIndex = t;\n      e.onSelectedIndexChanged();\n    });\n    this._lbx.itemsChanged.addHandler(function () {\n      e._updateBtn();\n    });\n  };\n  ComboBox.prototype._wheel = function (e) {\n    this._isWheel = !0;\n    if (this.handleWheel && !e.defaultPrevented && !this.isDroppedDown && !this.isReadOnly && this.containsFocus() && this.selectedIndex > -1) {\n      var t = this._findNext(\"\", e.deltaY > 0 ? 1 : -1);\n      t > -1 && (this.selectedIndex = t);\n      e.preventDefault();\n    }\n    this._isWheel = !1;\n  };\n  ComboBox.prototype._dropDownClick = function (t) {\n    t.defaultPrevented || t.target != this._dropDown && (this.isDroppedDown = !1);\n    this._restoreComboboxTbxVal && (this._tbx.value = this.getDisplayText(this.selectedIndex));\n    e.prototype._dropDownClick.call(this, t);\n  };\n  ComboBox.prototype._setText = function (t, i) {\n    if (!this._composing && !this._settingText) {\n      this._settingText = !0;\n      if (this.containsFocus()) {\n        var o = this.formatItem.handlerCount;\n        if (this._fmtItemHandlers != o) {\n          this._fmtItemHandlers = o;\n          this._lbx.loadList();\n        }\n      }\n      null == t && (t = \"\");\n      t = t.toString();\n      var n = this.selectedIndex,\n        s = this.collectionView,\n        r = this._getSelStart(),\n        a = -1,\n        l = !0;\n      if (this.isEditable && (this._delKey || this._getSelEnd() < t.length || !this.containsFocus())) {\n        i = !0;\n        l = !1;\n      }\n      n = this.indexOf(t, i);\n      if (l) {\n        n < 0 && i && (n = this.indexOf(t, !1));\n        n < 0 && r > 0 && (n = this.indexOf(t.substr(0, r), !1));\n      }\n      n < 0 && this._delKey && (n = this.indexOf(t, !1));\n      if (n < 0 && !this.isEditable && wijmo_1.hasItems(s) && (t || this.isRequired)) {\n        var h = this._oldText || \"\";\n        n = Math.max(0, this.indexOf(h, !1));\n        r = 0;\n        for (var u = 0; u < t.length && u < h.length; u++) if (t[u] != h[u]) {\n          r = u;\n          break;\n        }\n      }\n      if ((!this._delKey || !this.isEditable || this._delKey && this.isEditable && t == this.getDisplayText(n)) && (!this._pristine || this._pristine && !this.isEditable) || this._isWheel || this._delKey && \"\" == t && n > -1) {\n        if (n > -1) {\n          a = r;\n          t = this.getDisplayText(n);\n        }\n        var c = this._tbx;\n        t != c.value && (c.value = t);\n        a > -1 && this.containsFocus() && !this.isTouching && this._updateInputSelection(a);\n      }\n      if (s) {\n        if (!t) if (n > -1) this._oldIndexToBeRestoredOnBlur = n;else {\n          this._oldIndexToBeRestoredOnBlur = this.indexOf(this._oldText, !0);\n          this._oldIndexToBeRestoredOnBlur = this._oldIndexToBeRestoredOnBlur < 0 ? this.indexOf(this._oldText, !1) : this._oldIndexToBeRestoredOnBlur;\n        }\n        this._restoreComboboxTbxVal = t && n > -1;\n        s.moveCurrentToPosition(n);\n      }\n      this._delKey = 0;\n      this._settingText = !1;\n      e.prototype._setText.call(this, t, i);\n    }\n  };\n  ComboBox.prototype._findNext = function (e, t, i) {\n    void 0 === i && (i = this.selectedIndex);\n    var o = this.collectionView,\n      n = o ? o.items.length : 0,\n      s = this._lbx,\n      r = this.caseSensitiveSearch;\n    if (o && n && t) {\n      r || (e = e.toLowerCase());\n      for (var a = i + t; a > -1 && a < n; a += t) {\n        var l = this.getDisplayText(a);\n        r || (l = l.toLowerCase());\n        if (0 == l.indexOf(e)) {\n          if (!this.dropDown.children[a] || s.isItemEnabled(a)) return a;\n        }\n      }\n    }\n    return i;\n  };\n  ComboBox.prototype._keydown = function (t) {\n    e.prototype._keydown.call(this, t);\n    if (!t.defaultPrevented && !this.isReadOnly && !t.altKey && wijmo_1.hasItems(this.collectionView) && this._elRef == this._tbx && !this._isHiddenEditor()) {\n      this._delKey = 0;\n      var i = this._getSelStart(),\n        o = this._getSelEnd();\n      switch (t.keyCode) {\n        case wijmo_1.Key.Back:\n        case wijmo_1.Key.Delete:\n        case 88:\n          if (!t.ctrlKey && !t.metaKey && 88 == t.keyCode) break;\n          if (this._bsCollapse && !this.isEditable && i > 0 && o == this._tbx.value.length && wijmo_1.hasItems(this.collectionView)) {\n            this._setSelRange(i - 1, o);\n            i -= 1;\n          }\n          this._delKey = t.keyCode;\n          break;\n        case wijmo_1.Key.Up:\n        case wijmo_1.Key.Down:\n          i == this.text.length && (i = 0);\n          this.selectedIndex = this._findNext(this.text.substr(0, i), t.keyCode == wijmo_1.Key.Up ? -1 : 1);\n          this._setSelRange(i, this.text.length);\n          t.preventDefault();\n          break;\n        case wijmo_1.Key.PageUp:\n          this._lbx._selectPrevPage();\n          this.selectAll();\n          t.preventDefault();\n          break;\n        case wijmo_1.Key.PageDown:\n          this._lbx._selectNextPage();\n          this.selectAll();\n          t.preventDefault();\n      }\n      this.text.length > 0 && [\"Backspace\", \"Delete\", \"x\"].includes(t.key) && 0 === i && o === this.text.length || this._delKey && 1 === this.text.length ? this._emptyValueAction = !0 : this._composing || (this._emptyValueAction = !1);\n    }\n  };\n  ComboBox.prototype._input = function (e) {\n    this._draggingText && (\"\" === this.text ? this._emptyValueAction = !0 : this._emptyValueAction = !1);\n    this._setText(this.text, !1);\n    this._draggingText = !1;\n  };\n  ComboBox.prototype._updateInputSelection = function (e) {\n    var t = this._tbx;\n    this._elRef == t && this._setSelRange(e, t.value.length);\n  };\n  ComboBox.prototype._getSelStart = function () {\n    var e = this._tbx;\n    return e && e.value ? e.selectionStart : 0;\n  };\n  ComboBox.prototype._getSelEnd = function () {\n    var e = this._tbx;\n    return e && e.value ? e.selectionEnd : 0;\n  };\n  ComboBox.prototype._setSelRange = function (e, t) {\n    var i = this._tbx;\n    this._elRef != i || i.readOnly || wijmo_1.setSelectionRange(i, e, t);\n  };\n  return ComboBox;\n}(DropDown);\nexports.ComboBox = ComboBox;\nwijmo_1._addCultureInfo(\"MultiSelect\", {\n  itemsSelected: \"{count:n0} items selected\",\n  selectAll: \"Select All\"\n});\nvar MultiSelect = function (e) {\n  __extends(MultiSelect, e);\n  function MultiSelect(t, i) {\n    var o = e.call(this, t) || this;\n    o._maxHdrItems = 2;\n    o._readOnly = !1;\n    o._hdrFmt = null;\n    o.checkedItemsChanged = new wijmo_1.Event();\n    wijmo_1.addClass(o.hostElement, \"wj-multiselect\");\n    o._tbx.readOnly = !0;\n    o.checkedMemberPath = null;\n    o.removeEventListener(o.dropDown, \"click\");\n    o._lbx.itemsChanged.addHandler(function () {\n      o._updateHeader(!1);\n    });\n    o._lbx.checkedItemsChanged.addHandler(function () {\n      o._updateHeader(!1);\n      o.onCheckedItemsChanged();\n    });\n    o.clickAction = ClickAction.Toggle;\n    o.initialize(i);\n    return o;\n  }\n  Object.defineProperty(MultiSelect.prototype, \"showSelectAllCheckbox\", {\n    get: function () {\n      return this._msLbx.showSelectAllCheckbox;\n    },\n    set: function (e) {\n      this._msLbx.showSelectAllCheckbox = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"showFilterInput\", {\n    get: function () {\n      return this._msLbx.showFilterInput;\n    },\n    set: function (e) {\n      this._msLbx.showFilterInput = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"delay\", {\n    get: function () {\n      return this._msLbx.delay;\n    },\n    set: function (e) {\n      this._msLbx.delay = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"caseSensitiveSearch\", {\n    get: function () {\n      return this._msLbx.caseSensitiveSearch;\n    },\n    set: function (e) {\n      this._msLbx.caseSensitiveSearch = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"filterInputPlaceholder\", {\n    get: function () {\n      return this._msLbx.filterInputPlaceholder;\n    },\n    set: function (e) {\n      this._msLbx.filterInputPlaceholder = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"checkOnFilter\", {\n    get: function () {\n      return this._msLbx.checkOnFilter;\n    },\n    set: function (e) {\n      if (e != this.checkOnFilter) {\n        this._msLbx.checkOnFilter = wijmo_1.asBoolean(e);\n        this.checkedItems = [];\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"selectAllLabel\", {\n    get: function () {\n      return this._msLbx.selectAllLabel;\n    },\n    set: function (e) {\n      this._msLbx.selectAllLabel = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"checkedMemberPath\", {\n    get: function () {\n      return this._msLbx.checkedMemberPath;\n    },\n    set: function (e) {\n      this._msLbx.checkedMemberPath = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"maxHeaderItems\", {\n    get: function () {\n      return this._maxHdrItems;\n    },\n    set: function (e) {\n      if (this._maxHdrItems != e) {\n        this._maxHdrItems = wijmo_1.asNumber(e);\n        this._updateHeader();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"headerFormat\", {\n    get: function () {\n      return this._hdrFmt;\n    },\n    set: function (e) {\n      if (e != this._hdrFmt) {\n        this._hdrFmt = wijmo_1.asString(e);\n        this._updateHeader();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"headerFormatter\", {\n    get: function () {\n      return this._hdrFormatter;\n    },\n    set: function (e) {\n      if (e != this._hdrFormatter) {\n        this._hdrFormatter = wijmo_1.asFunction(e);\n        this._updateHeader();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiSelect.prototype, \"checkedItems\", {\n    get: function () {\n      return this._msLbx.checkedItems;\n    },\n    set: function (e) {\n      this._msLbx.checkedItems = null == e ? [] : wijmo_1.asArray(e);\n      this._updateHeader();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  MultiSelect.prototype.onCheckedItemsChanged = function (e) {\n    this.checkedItemsChanged.raise(this, e);\n  };\n  MultiSelect.prototype.dispose = function () {\n    this._lbx.dispose();\n    e.prototype.dispose.call(this);\n  };\n  MultiSelect.prototype.onIsDroppedDownChanged = function (t) {\n    var i = this;\n    e.prototype.onIsDroppedDownChanged.call(this, t);\n    setTimeout(function () {\n      if (i.isDroppedDown && i.containsFocus()) if (i.showFilterInput && !i.isTouching) i._msLbx._filter.focus();else {\n        var e = i.listBox;\n        if (e.selectedIndex < 0) {\n          var t = 0,\n            o = e.checkedItems;\n          o.length && (t = e.collectionView.items.indexOf(o[0]));\n          e.selectedIndex = Math.max(0, t);\n        }\n        e.showSelection(!0);\n        e.focus();\n      }\n    });\n  };\n  MultiSelect.prototype.onLostFocus = function () {\n    this._msLbx.onLostFocus();\n    this.isDroppedDown = !1;\n    e.prototype.onLostFocus.call(this);\n  };\n  MultiSelect.prototype._createDropDown = function () {\n    var t = wijmo_1.createElement(\"<div></div>\", this._dropDown);\n    this._msLbx = new MultiSelectListBox(t);\n    this._lbx = this._msLbx.listBox;\n    e.prototype._createDropDown.call(this);\n  };\n  Object.defineProperty(MultiSelect.prototype, \"isReadOnly\", {\n    get: function () {\n      return this._readOnly;\n    },\n    set: function (e) {\n      this._readOnly = wijmo_1.asBoolean(e);\n      wijmo_1.toggleClass(this.hostElement, \"wj-state-readonly\", this.isReadOnly);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  MultiSelect.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    this.hostElement && this._updateHeader();\n  };\n  MultiSelect.prototype._setText = function (e, t) {};\n  MultiSelect.prototype._keydown = function (t) {\n    e.prototype._keydown.call(this, t);\n    wijmo_1.hasClass(this._tbx, \"wj-grid-ime\") || !t.defaultPrevented && wijmo_1.hasItems(this.collectionView) && t.keyCode > 32 && (this.isDroppedDown = !0);\n  };\n  MultiSelect.prototype._hasItems = function () {\n    var e = this.collectionView,\n      t = e ? e.sourceCollection : null;\n    return wijmo_1.hasItems(e) || t && t.length && this.showFilterInput;\n  };\n  MultiSelect.prototype._updateHeader = function (e) {\n    void 0 === e && (e = !0);\n    var t = \"\";\n    if (wijmo_1.isFunction(this._hdrFormatter)) t = this._hdrFormatter(this);else {\n      var i = this.checkedItems;\n      if (i.length > 0) if (i.length <= this._maxHdrItems) {\n        if (this.headerPath) {\n          var o = new wijmo_1.Binding(this.headerPath);\n          i = i.map(function (e) {\n            return o.getValue(e);\n          });\n        } else if (this.displayMemberPath) {\n          var n = new wijmo_1.Binding(this.displayMemberPath);\n          i = i.map(function (e) {\n            return n.getValue(e);\n          });\n        }\n        this.isContentHtml && (i = i.map(function (e) {\n          return wijmo_1.toPlainText(e);\n        }));\n        this.trimText && (i = i.map(function (e) {\n          return e ? e.toString().trim() : \"\";\n        }));\n        t = i.join(\", \");\n      } else t = wijmo_1.format(this.headerFormat || wijmo_1.culture.MultiSelect.itemsSelected, {\n        count: i.length\n      });\n    }\n    var s = this.inputElement;\n    if (t != s.value) {\n      s.value = t;\n      this.onTextChanged();\n    }\n    e && this._lbx._updateCheckedList(this.checkedItems);\n    this._updateState();\n  };\n  MultiSelect._DEF_CHECKED_PATH = \"$checked\";\n  return MultiSelect;\n}(ComboBox);\nexports.MultiSelect = MultiSelect;\nvar Menu = function (e) {\n  __extends(Menu, e);\n  function Menu(t, i) {\n    var o = e.call(this, t) || this;\n    o._closing = !1;\n    o._cmd = null;\n    o._cmdPath = null;\n    o._cmdParamPath = null;\n    o._subPath = null;\n    o._owner = null;\n    o._isButton = !1;\n    o._openOnHover = !1;\n    o._closeOnLeave = !0;\n    o._subMenu = null;\n    o._hoverEnterBnd = o._hoverEnter.bind(o);\n    o._hoverLeaveBnd = o._hoverLeave.bind(o);\n    o._hoverOverBnd = o._hoverOver.bind(o);\n    o.itemClicked = new wijmo_1.Event();\n    var n = o.hostElement,\n      s = o._tbx,\n      r = o._lbx,\n      a = o.dropDown;\n    wijmo_1.addClass(n, \"wj-menu\");\n    s.style.display = \"none\";\n    o._hdr = o._elRef = wijmo_1.createElement('<div wj-part=\"header\" class=\"wj-form-control\"/>');\n    s.parentElement.insertBefore(o._hdr, o._tbx);\n    n.tabIndex = o.isDisabled ? -1 : o._orgTabIndex;\n    o.isRequired = !1;\n    wijmo_1.setAttribute(n, \"role\", \"menubar\", !0);\n    wijmo_1.setAttribute(s, \"role\", null);\n    wijmo_1.setAttribute(s, \"aria-autocomplete\", null);\n    wijmo_1.setAttribute(s, \"aria-owns\", null);\n    wijmo_1.setAttribute(a, \"role\", \"menu\");\n    r.itemRole = \"menuitem\";\n    if (\"SELECT\" == o._orgTag) {\n      o.header = n.getAttribute(\"header\");\n      o._lbx.itemsSource && (o.commandParameterPath = \"cmdParam\");\n    }\n    o.isContentHtml = !0;\n    o.maxDropDownHeight = 500;\n    o.addEventListener(o._hdr, \"click\", function (e) {\n      if (!e.defaultPrevented) {\n        o._clearHover(e);\n        if (o._isButton) {\n          o.isDroppedDown = !1;\n          o._raiseCommand();\n        } else o.isDroppedDown = !o.isDroppedDown;\n      }\n    });\n    r.lostFocus.addHandler(function () {\n      o.containsFocus() || (o.isDroppedDown = !1);\n    });\n    wijmo_1.addClass(a, \"wj-menu-items\");\n    r.formatItem.addHandler(o._formatMenuItem.bind(o));\n    o.initialize(i);\n    return o;\n  }\n  Object.defineProperty(Menu.prototype, \"header\", {\n    get: function () {\n      return this._hdr.innerHTML;\n    },\n    set: function (e) {\n      this._hdr.innerHTML = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"command\", {\n    get: function () {\n      return this._cmd;\n    },\n    set: function (e) {\n      this._cmd = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"commandPath\", {\n    get: function () {\n      return this._cmdPath;\n    },\n    set: function (e) {\n      this._cmdPath = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"commandParameterPath\", {\n    get: function () {\n      return this._cmdParamPath;\n    },\n    set: function (e) {\n      this._cmdParamPath = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"subItemsPath\", {\n    get: function () {\n      return this._subPath;\n    },\n    set: function (e) {\n      if (e != this._subPath) {\n        this._subPath = e;\n        this.refresh(!0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"openOnHover\", {\n    get: function () {\n      return this._openOnHover;\n    },\n    set: function (e) {\n      this._openOnHover = wijmo_1.asBoolean(e);\n      this._updateHoverEvents();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"closeOnLeave\", {\n    get: function () {\n      return this._closeOnLeave;\n    },\n    set: function (e) {\n      this._closeOnLeave = wijmo_1.asBoolean(e);\n      this._updateHoverEvents();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"isButton\", {\n    get: function () {\n      return this._isButton;\n    },\n    set: function (e) {\n      this._isButton = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Menu.prototype, \"owner\", {\n    get: function () {\n      return this._owner;\n    },\n    set: function (e) {\n      this._owner = wijmo_1.asType(e, HTMLElement, !0);\n      this._enableDisableItems();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Menu.prototype.show = function (e) {\n    if (!this.isDroppedDown) {\n      var t = this._lbx._ignoredItemChangedEvents;\n      this._lbx._ignoredItemChangedEvents = !0;\n      this.selectedIndex = -1;\n      this._lbx._ignoredItemChangedEvents = t;\n      if (this.onIsDroppedDownChanging(new wijmo_1.CancelEventArgs())) {\n        var i = this.dropDown,\n          o = this.owner;\n        !o && e instanceof MouseEvent && (o = e.target);\n        o instanceof HTMLElement && (i[wijmo_1.Control._OWNR_KEY] = o);\n        if (e instanceof MouseEvent && this.openOnHover && this.closeOnLeave) {\n          e = new wijmo_1.Point(e.pageX - pageXOffset - 2, e.pageY - pageYOffset - 2);\n        }\n        wijmo_1.showPopup(i, e, !1, this.isAnimated);\n        this.onIsDroppedDownChanged();\n        i.focus();\n      }\n    }\n  };\n  Menu.prototype.hide = function () {\n    if (this.isDroppedDown && this.onIsDroppedDownChanging(new wijmo_1.CancelEventArgs())) {\n      wijmo_1.hidePopup(this.dropDown);\n      this.onIsDroppedDownChanged();\n    }\n  };\n  Menu.prototype.onItemClicked = function (e) {\n    this.itemClicked.raise(this, e);\n  };\n  Menu.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    this.hostElement && this._enableDisableItems();\n  };\n  Menu.prototype.onIsDroppedDownChanged = function (t) {\n    e.prototype.onIsDroppedDownChanged.call(this, t);\n    if (this.isDroppedDown) {\n      this._closing = !0;\n      var i = this._lbx._ignoredItemChangedEvents;\n      this._lbx._ignoredItemChangedEvents = !0;\n      this._defaultItem = this.selectedItem;\n      this.isRequired = !1;\n      this.selectedIndex = -1;\n      this._enableDisableItems();\n      this._closing = !1;\n      this._lbx._ignoredItemChangedEvents = i;\n      this.dropDown.focus();\n    } else {\n      if (!this.selectedItem) {\n        var o = this._lbx._checking;\n        this._lbx._checking = !0;\n        this.selectedItem = this._defaultItem;\n        this._lbx._checking = o;\n      }\n      var n = this._subMenu;\n      n && (n.isDroppedDown = !1);\n    }\n  };\n  Menu.prototype._updateHoverEvents = function () {\n    var e = this.hostElement,\n      t = this.dropDown,\n      i = this.addEventListener.bind(this),\n      o = this.removeEventListener.bind(this),\n      n = \"mouseleave\";\n    o(e, \"mouseenter\", this._hoverEnterBnd);\n    o(e, n, this._hoverLeaveBnd);\n    o(t, \"mouseover\", this._hoverOverBnd);\n    o(t, n, this._hoverLeaveBnd);\n    if (this._openOnHover) {\n      i(e, \"mouseenter\", this._hoverEnterBnd);\n      i(t, \"mouseover\", this._hoverOverBnd);\n      if (this._closeOnLeave) {\n        i(e, n, this._hoverLeaveBnd);\n        i(t, n, this._hoverLeaveBnd);\n      }\n    }\n  };\n  Menu.prototype._getSubItems = function (e) {\n    var t = this.subItemsPath,\n      i = e && t ? e[t] : null;\n    return wijmo_1.isArray(i) && i.length ? i : null;\n  };\n  Menu.prototype._formatMenuItem = function (e, t) {\n    var i = t.item;\n    if (this._getSubItems(t.data)) wijmo_1.addClass(i, \"wj-subitems\");else if (\"-\" == i.innerHTML) {\n      i.innerHTML = \"\";\n      wijmo_1.addClass(i, \"wj-separator\");\n    }\n  };\n  Menu.prototype._keydown = function (t) {\n    if (!t.defaultPrevented) {\n      var i = this._getKeyCode(t);\n      if (this.isDroppedDown) switch (i) {\n        case wijmo_1.Key.Enter:\n        case wijmo_1.Key.Right:\n          if (this._showSubMenu()) {\n            t.preventDefault();\n            return;\n          }\n          break;\n        case wijmo_1.Key.Left:\n          var o = wijmo_1.Control.getControl(this.owner);\n          if (o instanceof Menu) {\n            var n = o.dropDown,\n              s = o.selectedIndex;\n            (s > -1 ? n.children[s] : n).focus();\n            t.preventDefault();\n            return;\n          }\n      }\n      if (i == wijmo_1.Key.Enter) if (this.isDroppedDown) this.selectedIndex > -1 && this._raiseCommand();else {\n        this.isDroppedDown = !0;\n        t.preventDefault();\n      }\n    }\n    e.prototype._keydown.call(this, t);\n  };\n  Menu.prototype._dropDownClick = function (t) {\n    if (!t.defaultPrevented && t.target != this.dropDown) {\n      this._clearHover(t);\n      if (this._showSubMenu()) {\n        t.preventDefault();\n        return;\n      }\n      this.selectedIndex > -1 && this._raiseCommand();\n    }\n    e.prototype._dropDownClick.call(this, t);\n  };\n  Menu.prototype._showSubMenu = function () {\n    var e = this,\n      t = this._getSubItems(this.selectedItem);\n    if (!t) return null;\n    var i = this.dropDown.children[this.selectedIndex].getBoundingClientRect(),\n      o = new wijmo_1.Point(i.right, i.top);\n    if (0 == i.height) return null;\n    var n = this.rightToLeft || \"rtl\" == this.dropDown.getAttribute(\"dir\");\n    n && (o.x = i.left);\n    var s = this._subMenu;\n    s && (s.isDroppedDown = !1);\n    s = new Menu(document.createElement(\"div\"), {\n      owner: this.hostElement,\n      itemsSource: t,\n      itemClicked: function (t, i) {\n        e.itemClicked.raise(t, i);\n      },\n      formatItem: function (t, i) {\n        e.formatItem.raise(t, i);\n      }\n    });\n    var r = this.collectionView,\n      a = s.collectionView;\n    r && r.filter && a && !a.filter && (a.filter = r.filter);\n    \"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave\".split(\",\").forEach(function (t) {\n      s[t] = e[t];\n    });\n    var l = s.dropDown;\n    wijmo_1.setAttribute(l, \"dir\", n ? \"rtl\" : null);\n    s.show(o);\n    l[wijmo_1.Control._OWNR_KEY] = this.dropDown;\n    l.focus();\n    return s;\n  };\n  Menu.prototype._raiseCommand = function (e) {\n    var t = this.selectedItem,\n      i = this._getSubItems(t),\n      o = this._getCommand(t);\n    if (o && !i) {\n      var n = this._getCommandParm(t);\n      if (!this._canExecuteCommand(o, n)) return;\n      this._executeCommand(o, n);\n    }\n    var s = this.headerPath;\n    if (s) {\n      var r = new wijmo_1.Binding(s).getValue(t);\n      r = null == r ? \"\" : r.toString();\n      this.header = this.isContentHtml ? r : wijmo_1.escapeHtml(r);\n    }\n    this.onItemClicked(e);\n    if (this.containsFocus()) {\n      for (var a = this; a && a.owner;) {\n        var l = wijmo_1.Control.getControl(a.owner);\n        if (!(l instanceof Menu)) break;\n        a = l;\n      }\n      var h = a.owner;\n      !h && a.dropDown && (h = a.dropDown[wijmo_1.Control._OWNR_KEY]);\n      a.isDroppedDown = !1;\n      a.focus();\n      if (!a.containsFocus() && h instanceof HTMLElement && h.offsetHeight) if (wijmo_1.isIE) {\n        var u = document.documentElement,\n          c = u.scrollLeft,\n          p = u.scrollTop;\n        h.focus();\n        u.scrollLeft = c, u.scrollTop = p;\n      } else h.focus();\n    }\n  };\n  Menu.prototype._getCommand = function (e) {\n    var t = e && this._cmdPath ? e[this._cmdPath] : null;\n    return t || this._cmd;\n  };\n  Menu.prototype._getCommandParm = function (e) {\n    var t = this._cmdParamPath;\n    return e && t ? e[t] : e;\n  };\n  Menu.prototype._executeCommand = function (e, t) {\n    e && !wijmo_1.isFunction(e) && (e = e.executeCommand);\n    wijmo_1.isFunction(e) && e(t);\n  };\n  Menu.prototype._canExecuteCommand = function (e, t) {\n    if (e) {\n      var i = e.canExecuteCommand;\n      if (wijmo_1.isFunction(i)) return i(t);\n    }\n    return !0;\n  };\n  Menu.prototype._enableDisableItems = function () {\n    if (this.collectionView && (this._cmd || this._cmdPath)) for (var e = this.collectionView.items, t = 0; t < e.length; t++) {\n      var i = e[t],\n        o = this._getCommand(i);\n      if (o) {\n        var n = this._lbx.hostElement.children[t],\n          s = this._getCommandParm(i);\n        wijmo_1.toggleClass(n, \"wj-state-disabled\", !this._canExecuteCommand(o, s));\n      }\n    }\n  };\n  Menu.prototype._clearHover = function (e) {\n    this._toHover && clearTimeout(this._toHover);\n    this._toHover = null;\n    Menu._evtHover = e;\n  };\n  Menu.prototype._isTargetDisabled = function (e) {\n    return wijmo_1.hasClass(e.target, \"wj-state-disabled\");\n  };\n  Menu.prototype._hoverEnter = function (e) {\n    var t = this;\n    this._clearHover(e);\n    this._toHover = setTimeout(function () {\n      t._toHover = null;\n      t.isDroppedDown = !0;\n    }, wijmo_1.Control._HOVER_DELAY);\n  };\n  Menu.prototype._hoverOver = function (e) {\n    var t = this;\n    this._clearHover(e);\n    this._toHover = setTimeout(function () {\n      t._toHover = null;\n      var i = t.listBox.indexOf(e.target);\n      if (i > -1 && !wijmo_1.hasClass(e.target, \"wj-state-disabled\")) {\n        t.selectedIndex = i;\n        t._subMenu = t._showSubMenu();\n      }\n    }, wijmo_1.Control._HOVER_DELAY);\n  };\n  Menu.prototype._hoverLeave = function (e) {\n    var t = this;\n    this._clearHover(e);\n    this.isDroppedDown && (this._toHover = setTimeout(function () {\n      var i = (e = Menu._evtHover) ? document.elementFromPoint(e.clientX, e.clientY) : null,\n        o = wijmo_1.closest(i, \".wj-listbox.wj-menu-items\"),\n        n = t._subMenu;\n      if (!o && !wijmo_1.contains(t.hostElement, i, !0)) {\n        t.isDroppedDown = !1;\n        n && (n.isDroppedDown = !1);\n      }\n    }, wijmo_1.Control._LEAVE_DELAY));\n  };\n  Menu.prototype._setIsDisabled = function (t) {\n    e.prototype._setIsDisabled.call(this, t);\n    this.hostElement.tabIndex = this.isDisabled ? -1 : this._orgTabIndex;\n  };\n  Menu.prototype._setTabOrder = function (t) {\n    e.prototype._setTabOrder.call(this, t);\n    this.hostElement.tabIndex = this.isDisabled ? -1 : this._orgTabIndex;\n  };\n  return Menu;\n}(ComboBox);\nexports.Menu = Menu;\nvar InputTime = function (e) {\n  __extends(InputTime, e);\n  function InputTime(t, i) {\n    var o = e.call(this, t) || this;\n    o._format = \"t\";\n    o.valueChanged = new wijmo_1.Event();\n    wijmo_1.addClass(o.hostElement, \"wj-inputtime\");\n    o.isEditable = !0;\n    o._value = wijmo_1.DateTime.newDate();\n    o._min = o._max = null;\n    o._msk = new wijmo_1._MaskProvider(o._tbx);\n    wijmo_1.isIE9() || (o._tbx.type = \"tel\");\n    if (\"INPUT\" == o._orgTag) {\n      var n = o._tbx.getAttribute(\"value\");\n      n && (o.value = wijmo_1.Globalize.parseDate(n, \"HH:mm:ss\"));\n    }\n    o.step = 15;\n    o.autoExpandSelection = !0;\n    o.initialize(i);\n    o._commitText();\n    return o;\n  }\n  Object.defineProperty(InputTime.prototype, \"inputElement\", {\n    get: function () {\n      return this._tbx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"inputType\", {\n    get: function () {\n      return this._tbx.type;\n    },\n    set: function (e) {\n      this._tbx.type = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"value\", {\n    get: function () {\n      return this._value;\n    },\n    set: function (e) {\n      (e = wijmo_1.asDate(e, !this.isRequired)) && (e = this._clamp(e));\n      this._setText(e ? wijmo_1.Globalize.format(e, this.format) : \"\", !0);\n      this.selectedItem && this.selectedItem.value && (e = wijmo_1.DateTime.fromDateTime(e, this.selectedItem.value));\n      if (e != this._value && !wijmo_1.DateTime.equals(e, this._value)) {\n        this._value = e;\n        this.onValueChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"text\", {\n    get: function () {\n      return this._tbx.value;\n    },\n    set: function (e) {\n      if (e != this.text && (this.text || !this.isRequired)) {\n        this._setText(e, !0);\n        this._commitText();\n      }\n      !this.text && this.isRequired && (this.selectedIndex = this._oldIndexToBeRestoredOnBlur < 0 ? 0 : this._oldIndexToBeRestoredOnBlur);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"min\", {\n    get: function () {\n      return this._min;\n    },\n    set: function (e) {\n      this._min = wijmo_1.asDate(e, !0);\n      this.isDroppedDown = !1;\n      this._updateItems();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"max\", {\n    get: function () {\n      return this._max;\n    },\n    set: function (e) {\n      this._max = wijmo_1.asDate(e, !0);\n      this.isDroppedDown = !1;\n      this._updateItems();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"step\", {\n    get: function () {\n      return this._step;\n    },\n    set: function (e) {\n      if (e != this.step) {\n        this._step = wijmo_1.asNumber(e, !0);\n        this.isDroppedDown = !1;\n        this._updateItems();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"format\", {\n    get: function () {\n      return this._format;\n    },\n    set: function (e) {\n      if (e != this.format) {\n        this._format = wijmo_1.asString(e);\n        this._tbx.value = wijmo_1.Globalize.format(this.value, this.format);\n        wijmo_1.hasItems(this.collectionView) && this._updateItems();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputTime.prototype, \"mask\", {\n    get: function () {\n      return this._msk.mask;\n    },\n    set: function (e) {\n      this._msk.mask = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  InputTime.prototype.onLostFocus = function () {\n    e.prototype.onLostFocus.call(this);\n  };\n  InputTime.prototype.onValueChanged = function (e) {\n    this.valueChanged.raise(this, e);\n  };\n  InputTime.prototype.onItemsSourceChanged = function (t) {\n    e.prototype.onItemsSourceChanged.call(this, t);\n    this._hasCustomItems = null != this.itemsSource;\n  };\n  InputTime.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    if (this.hostElement) {\n      this._msk.refresh();\n      this._tbx.value = wijmo_1.Globalize.format(this.value, this.format);\n      this._updateItems();\n    }\n  };\n  InputTime.prototype.onSelectedIndexChanged = function (t) {\n    if (this.selectedIndex > -1 && !this._settingText) {\n      var i = this.value ? this.value : wijmo_1.DateTime.newDate(),\n        o = null != this.selectedItem.value ? this.selectedItem.value : wijmo_1.Globalize.parseDate(this.text, this.format, this.value);\n      this.value = wijmo_1.DateTime.fromDateTime(i, o);\n    }\n    e.prototype.onSelectedIndexChanged.call(this, t);\n  };\n  InputTime.prototype._clamp = function (e) {\n    null != this._min && this._getTime(e) < this._getTime(this._min) && (e = wijmo_1.DateTime.fromDateTime(e, this._min));\n    null != this._max && this._getTime(e) > this._getTime(this._max) && (e = wijmo_1.DateTime.fromDateTime(e, this._max));\n    return e;\n  };\n  InputTime.prototype._wheel = function (t) {\n    if (!t.defaultPrevented && !this.isDroppedDown && !this.isReadOnly && this.containsFocus() && this.selectedIndex < 0 && this.value && wijmo_1.isNumber(this.step) && this.step > 0) {\n      var i = wijmo_1.DateTime.addMinutes(this.value, this.step * wijmo_1.clamp(t.deltaY, -1, 1));\n      this.value = this._clamp(i);\n      this.selectAll();\n      t.preventDefault();\n    }\n    e.prototype._wheel.call(this, t);\n  };\n  InputTime.prototype._updateInputSelection = function (t) {\n    if (this._delKey) e.prototype._updateInputSelection.call(this, t);else {\n      for (var i = this._tbx.value; t < i.length && !i[t].match(/[a-z0-9]/i);) t++;\n      wijmo_1.setSelectionRange(this._tbx, t, this._tbx.value.length);\n    }\n  };\n  InputTime.prototype._updateItems = function () {\n    if (!this._hasCustomItems) {\n      var e = [],\n        t = new Date(2020, 0),\n        i = new Date(2020, 0, 1, 23, 59, 59),\n        o = this.step;\n      this.min && t.setHours(this.min.getHours(), this.min.getMinutes(), this.min.getSeconds());\n      this.max && i.setHours(this.max.getHours(), this.max.getMinutes(), this.max.getSeconds());\n      if (wijmo_1.isNumber(o) && o >= 1) for (var n = t; n <= i; n = wijmo_1.DateTime.addMinutes(n, o)) e.push({\n        value: n,\n        text: wijmo_1.Globalize.format(n, this.format)\n      });\n      var s = this.value;\n      this._settingText = !0;\n      this.displayMemberPath = \"text\";\n      this.selectedValuePath = \"text\";\n      this.itemsSource = e;\n      this._hasCustomItems = !1;\n      this._settingText = !1;\n      !s && this.isRequired || (this.value = s);\n    }\n  };\n  InputTime.prototype._getTime = function (e) {\n    return 3600 * e.getHours() + 60 * e.getMinutes() + e.getSeconds();\n  };\n  InputTime.prototype._keydown = function (t) {\n    e.prototype._keydown.call(this, t);\n    if (!t.defaultPrevented) switch (t.keyCode) {\n      case wijmo_1.Key.Enter:\n        if (!this.isDroppedDown) {\n          this._commitText();\n          this.selectAll();\n        }\n        break;\n      case wijmo_1.Key.Escape:\n        this.text = wijmo_1.Globalize.format(this.value, this.format);\n        this.selectAll();\n    }\n  };\n  InputTime.prototype._commitText = function () {\n    if (this.text || this.isRequired) {\n      var e = this.value ? wijmo_1.Globalize.format(this.value, this.format) : \"\";\n      if (this.text != e) {\n        var t = this.selectedItem && this.selectedItem.value ? this.selectedItem.value : wijmo_1.Globalize.parseDate(this.text, this.format, this.value);\n        t ? (wijmo_1.DateTime.sameTime(t, this._clamp(t)) || this.onInvalidInput(new wijmo_1.CancelEventArgs())) && (this.value = wijmo_1.DateTime.fromDateTime(this.value, t)) : this.onInvalidInput(new wijmo_1.CancelEventArgs()) && (this.text = e);\n      }\n    } else this.value = null;\n  };\n  InputTime.prototype._copy = function (e, t) {\n    if (\"text\" === e) {\n      (t || \"\").toString() !== this.text && this._setText(t, !0);\n      return !0;\n    }\n    return !1;\n  };\n  return InputTime;\n}(ComboBox);\nexports.InputTime = InputTime;\nwijmo_1._addCultureInfo(\"InputDateTime\", {\n  ariaLabels: {\n    tglDate: \"Toggle Calendar\",\n    tglTime: \"Toggle Time List\"\n  }\n});\nvar InputDateTime = function (e) {\n  __extends(InputDateTime, e);\n  function InputDateTime(t, i) {\n    var o = e.call(this, t) || this;\n    wijmo_1.addClass(o.hostElement, \"wj-inputdatetime\");\n    var n = wijmo_1.culture.InputDateTime.ariaLabels;\n    wijmo_1.setAriaLabel(o._btn, n.tglDate);\n    wijmo_1.setAriaLabel(o._btnTm, n.tglTime);\n    o.value = new Date();\n    o.format = \"g\";\n    o._inputTime = new InputTime(document.createElement(\"div\"), {\n      valueChanged: function (e) {\n        var t = o.rangeEnd;\n        o.value = wijmo_1.DateTime.fromDateTime(o.value, e.value);\n        o.calendar._rngMode() && t && (o.rangeEnd = wijmo_1.DateTime.fromDateTime(t, e.value));\n      },\n      isDroppedDownChanged: function (e) {\n        e.listBox.containsFocus() && o.inputElement.focus();\n        o._selectAll();\n      }\n    });\n    var s = o.addEventListener.bind(o);\n    o._btnTm = o.hostElement.querySelector('[wj-part=\"btn-tm\"]');\n    s(o._btnTm, \"mousedown\", function (e) {\n      o._btnclick(e);\n    });\n    o._ddDate = o._dropDown;\n    var r = o._ddTime = o._inputTime.dropDown;\n    s(r, \"keydown\", o._keydown.bind(o), !0);\n    s(r, \"blur\", function () {\n      o._updateFocusState();\n    }, !0);\n    s(r, \"click\", function (e) {\n      e.defaultPrevented || e.target != r && o.hostElement.focus();\n    }, !0);\n    o.initialize(i);\n    o._commitText();\n    return o;\n  }\n  Object.defineProperty(InputDateTime.prototype, \"timeMin\", {\n    get: function () {\n      return this._inputTime.min;\n    },\n    set: function (e) {\n      this._inputTime.min = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDateTime.prototype, \"timeMax\", {\n    get: function () {\n      return this._inputTime.max;\n    },\n    set: function (e) {\n      this._inputTime.max = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDateTime.prototype, \"timeFormat\", {\n    get: function () {\n      return this._inputTime.format;\n    },\n    set: function (e) {\n      this._inputTime.format = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDateTime.prototype, \"timeStep\", {\n    get: function () {\n      return this._inputTime.step;\n    },\n    set: function (e) {\n      this._inputTime.step = e;\n      this._btnTm.style.display = wijmo_1.isNumber(e) && e > 0 ? \"\" : \"none\";\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(InputDateTime.prototype, \"inputTime\", {\n    get: function () {\n      return this._inputTime;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  InputDateTime.prototype._fromDateTime = function (e) {\n    return e;\n  };\n  InputDateTime.prototype._btnclick = function (t) {\n    var i = wijmo_1.closest(t.target, \"button\") == this._btn ? this._ddDate : this._ddTime;\n    this._setDropdown(i);\n    e.prototype._btnclick.call(this, t);\n  };\n  InputDateTime.prototype.dispose = function () {\n    this._setDropdown(this._ddDate);\n    e.prototype.dispose.call(this);\n    this._inputTime.dispose();\n  };\n  InputDateTime.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    this._inputTime.refresh();\n    e.prototype.refresh.call(this, t);\n  };\n  InputDateTime.prototype._updateBtn = function () {\n    e.prototype._updateBtn.call(this);\n    if (this._btnTm) {\n      this._btnTm.tabIndex = this._btn.tabIndex;\n      this._btnTm.parentElement.style.display = this._btn.style.display;\n    }\n  };\n  InputDateTime.prototype._setDropdown = function (e) {\n    if (this._dropDown == e) return !1;\n    this.isDroppedDown && (this.isDroppedDown = !1);\n    var t = this.dropDownCssClass;\n    this.dropDownCssClass = \"\";\n    this._dropDown = e;\n    this.dropDownCssClass = t;\n    return !0;\n  };\n  InputDateTime.prototype._updateDropDown = function () {\n    var t = this._inputTime;\n    if (this._dropDown == t.dropDown) {\n      this._commitText();\n      e.prototype._updateDropDown.call(this);\n      t.isRequired = this.isRequired && null != this.value;\n      t.value = this.value;\n      this.isDroppedDown && t.listBox.showSelection();\n    } else e.prototype._updateDropDown.call(this);\n  };\n  InputDateTime.controlTemplate = '<div class=\"wj-template\"><div class=\"wj-input\"><div class=\"wj-input-group wj-input-btn-visible\"><input wj-part=\"input\" type=\"text\" class=\"wj-form-control\"/><span class=\"wj-input-group-btn\"><button wj-part=\"btn\" class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-calendar\"></span></button><button wj-part=\"btn-tm\" class=\"wj-btn wj-btn-default\" tabindex=\"-1\"><span class=\"wj-glyph-clock\"></span></button></span></div></div><div wj-part=\"dropdown\" class=\"wj-content wj-dropdown-panel\"></div></div>';\n  return InputDateTime;\n}(InputDate);\nexports.InputDateTime = InputDateTime;\nvar AutoComplete = function (e) {\n  __extends(AutoComplete, e);\n  function AutoComplete(t, i) {\n    var o = e.call(this, t) || this;\n    o._cssMatch = \"wj-state-match\";\n    o._minLength = 2;\n    o._maxItems = 6;\n    o._itemCount = 0;\n    o._beginsWith = !1;\n    o._delay = wijmo_1.Control._SEARCH_DELAY;\n    o._query = \"\";\n    o._inCallback = !1;\n    o._srchProps = [];\n    o._oldSelectedIndex = -1;\n    wijmo_1.addClass(o.hostElement, \"wj-autocomplete\");\n    o._bsCollapse = !1;\n    o.isEditable = !0;\n    o.isRequired = !1;\n    o.listBox.formatItem.addHandler(o._formatListItem, o);\n    o._itemsSourceFnCallbackBnd = o._itemSourceFunctionCallback.bind(o);\n    o.initialize(i);\n    return o;\n  }\n  Object.defineProperty(AutoComplete.prototype, \"minLength\", {\n    get: function () {\n      return this._minLength;\n    },\n    set: function (e) {\n      this._minLength = wijmo_1.asNumber(e, !1, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(AutoComplete.prototype, \"beginsWithSearch\", {\n    get: function () {\n      return this._beginsWith;\n    },\n    set: function (e) {\n      this._beginsWith = wijmo_1.asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(AutoComplete.prototype, \"maxItems\", {\n    get: function () {\n      return this._maxItems;\n    },\n    set: function (e) {\n      this._maxItems = wijmo_1.asNumber(e, !1, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(AutoComplete.prototype, \"delay\", {\n    get: function () {\n      return this._delay;\n    },\n    set: function (e) {\n      this._delay = wijmo_1.asNumber(e, !1, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(AutoComplete.prototype, \"searchMemberPath\", {\n    get: function () {\n      return this._srchProp;\n    },\n    set: function (e) {\n      this._srchProp = wijmo_1.asString(e);\n      this._srchProps = e ? e.trim().split(/\\s*,\\s*/) : [];\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(AutoComplete.prototype, \"itemsSourceFunction\", {\n    get: function () {\n      return this._itemsSourceFn;\n    },\n    set: function (e) {\n      this._itemsSourceFn = wijmo_1.asFunction(e);\n      wijmo_1.isFunction(this._itemsSourceFn) && this.itemsSourceFunction(this.text, this.maxItems, this._itemsSourceFnCallbackBnd);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(AutoComplete.prototype, \"cssMatch\", {\n    get: function () {\n      return this._cssMatch;\n    },\n    set: function (e) {\n      this._cssMatch = wijmo_1.asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  AutoComplete.prototype.onSelectedIndexChanged = function (t) {\n    this._settingText || e.prototype.onSelectedIndexChanged.call(this, t);\n  };\n  AutoComplete.prototype._keydown = function (t) {\n    if (!t.defaultPrevented && this.isDroppedDown) switch (t.keyCode) {\n      case wijmo_1.Key.Up:\n      case wijmo_1.Key.Down:\n        this.selectAll();\n    }\n    e.prototype._keydown.call(this, t);\n  };\n  AutoComplete.prototype._setText = function (e) {\n    var t = this;\n    if (this._composing && e != this._oldText) {\n      this._oldText = e;\n      this.onTextChanged();\n    }\n    if (!this._inCallback && !this._settingText) {\n      this._toSearch || (this._oldSelectedIndex = this.selectedIndex);\n      if (this.selectedIndex > -1 && this.getDisplayText() != e) {\n        this._settingText = !0;\n        this.selectedIndex = -1;\n        this._settingText = !1;\n      }\n      this._toSearch && clearTimeout(this._toSearch);\n      if (e != this._oldText) {\n        var i = this._tbx,\n          o = this._tbx.selectionStart;\n        i.value != e && (i.value = e);\n        this._isWheel && this.containsFocus() && this._updateInputSelection(o);\n        this._oldText = e;\n        this.onTextChanged();\n        var n = this.collectionView;\n        if (!e && n) {\n          (this._query || this.selectedIndex < 0) && (this.isDroppedDown = !1);\n          this._query = this._rxHighlight = null;\n          n.filter = null;\n          var s = this.itemsSourceFunction;\n          if (wijmo_1.isFunction(s)) {\n            this.isDroppedDown = !1;\n            s(this._query, this.maxItems, this._itemsSourceFnCallbackBnd);\n          }\n          -1 == this.selectedIndex && -1 != this._oldSelectedIndex && this.onSelectedIndexChanged();\n          return;\n        }\n      }\n      e != this.getDisplayText() && (this._toSearch = setTimeout(function () {\n        t._toSearch = null;\n        var e = t.text;\n        if (e.trim().length >= t._minLength && e != t._query) {\n          t._query = e.trim();\n          e = wijmo_1.escapeRegExp(e);\n          var i = wijmo_1.escapeHtml(e.trim()),\n            o = t.caseSensitiveSearch ? \"\" : \"i\";\n          t._beginsWith || (o += \"g\");\n          t._rxSrch = t._beginsWith ? new RegExp(\"^\" + e + \".*\", o) : new RegExp(\"(?=.*\" + e.replace(/ /g, \")(?=.*\") + \")\", o);\n          t._rxHighlight = t._beginsWith ? new RegExp(\"^\" + e, o) : new RegExp(\"(\" + i.replace(/\\s+/g, \"|\") + \")\", o);\n          var n = t.itemsSourceFunction;\n          wijmo_1.isFunction(n) ? n(t._query, t.maxItems, t._itemsSourceFnCallbackBnd) : t._updateItems();\n        }\n        -1 == t.selectedIndex && -1 != t._oldSelectedIndex && t.onSelectedIndexChanged();\n      }, this._delay));\n    }\n  };\n  AutoComplete.prototype.onLostFocus = function (t) {\n    var i = !1;\n    if (this.isRequired && !this.isEditable && this.text) {\n      i = !0;\n      var o = this.indexOf(this.text, !0);\n      o < 0 && (o = this.indexOf(this.text, !1));\n      o > -1 && (this._oldSelectedIndex = o);\n      o < 0 && (this._oldSelectedIndex = 0);\n    }\n    if (this._toSearch) {\n      clearTimeout(this._toSearch);\n      var n = this._delay;\n      this._delay = 0;\n      this._setText(this.text);\n      this.delay = n;\n    }\n    e.prototype.onLostFocus.call(this, t, this._oldSelectedIndex, i);\n  };\n  AutoComplete.prototype._itemSourceFunctionCallback = function (e) {\n    this._inCallback = !0;\n    var t = wijmo_1.asCollectionView(e || []);\n    t.moveCurrentToPosition(-1);\n    this.itemsSource = t;\n    this._inCallback = !1;\n    if (this.containsFocus()) {\n      var i = this._tbx,\n        o = i.selectionStart,\n        n = i.selectionEnd,\n        s = this.collectionView;\n      this.isDroppedDown = null != s && s.items.length > 0;\n      wijmo_1.setSelectionRange(i, o, n);\n      this.refresh();\n    }\n  };\n  AutoComplete.prototype.onIsDroppedDownChanged = function (t) {\n    e.prototype.onIsDroppedDownChanged.call(this, t);\n    if (this.containsFocus() && !this.isTouching) {\n      var i = this.collectionView;\n      if (this.selectedIndex < 0 && i) {\n        var o = i.items,\n          n = this.text;\n        1 == o.length && o[0] == n ? this.selectedIndex = 0 : wijmo_1.setSelectionRange(this._tbx, n.length);\n      }\n    }\n    this._query = \"\";\n  };\n  AutoComplete.prototype._updateItems = function () {\n    var e = this.collectionView;\n    if (e) {\n      this._inCallback = !0;\n      e.beginUpdate();\n      this._itemCount = 0;\n      e.filter = this._filter.bind(this);\n      e.moveCurrentToPosition(-1);\n      e.endUpdate();\n      this._inCallback = !1;\n      var t = e.items.length,\n        i = this._tbx,\n        o = i.selectionStart,\n        n = i.selectionEnd;\n      this.text.trim() || (t = 0);\n      this.isDroppedDown = t > 0 && this.containsFocus();\n      t || this.isEditable || (this.selectedIndex = -1);\n      if (1 == t && this.selectedIndex < 0) {\n        var s = this._getItemText(e.items[0], !1),\n          r = i.value;\n        if (!this.caseSensitiveSearch) {\n          s = s.toLowerCase();\n          r = r.toLowerCase();\n        }\n        s == r && (this.selectedIndex = 0);\n      }\n      this.isDroppedDown && wijmo_1.setSelectionRange(i, o, n);\n      this.refresh();\n    }\n  };\n  AutoComplete.prototype._filter = function (e) {\n    if (this._itemCount >= this._maxItems && this._query) return !1;\n    var t = [this._getItemText(e, !1)];\n    this._srchProps && this._srchProps.forEach(function (i) {\n      var o = e[i];\n      null != o && t.push(o);\n    });\n    this.isContentHtml && (t = t.map(function (e) {\n      return e.replace(/(<[^>]*>|&[^;]*;)/g, \"\");\n    }));\n    for (var i = 0; i < t.length; i++) if (this._rxSrch.test(t[i])) {\n      this._itemCount++;\n      return !0;\n    }\n    return !1;\n  };\n  AutoComplete.prototype._getItemText = function (e, t) {\n    var i = e ? e.toString() : \"\",\n      o = t && this.headerPath ? this._pathHdr : this._lbx._pathDisplay;\n    o && (i = null != (i = o.getValue(e)) ? i.toString() : \"\");\n    return i;\n  };\n  AutoComplete.prototype._formatListItem = function (e, t) {\n    var i = this;\n    this._cssMatch && this._rxHighlight && this._query && (t.item.innerHTML = t.item.innerHTML.replace(this._rxHighlight, function (e, t, o, n) {\n      return i._enclosed(n, o, \"<\", \">\") || i._enclosed(n, o, \"&\", \";\") ? e : '<span class=\"' + i._cssMatch + '\">' + e + \"</span>\";\n    }));\n  };\n  AutoComplete.prototype._enclosed = function (e, t, i, o) {\n    for (var n = t; n >= 0 && e[n] != o; n--) if (e[n] == i) for (var s = t; s < e.length && e[s] != i; s++) if (e[s] == o) return !0;\n    return !1;\n  };\n  AutoComplete.prototype._wheel = function (t) {\n    e.prototype._wheel.call(this, t);\n  };\n  return AutoComplete;\n}(ComboBox);\nexports.AutoComplete = AutoComplete;\nvar MultiAutoComplete = function (e) {\n  __extends(MultiAutoComplete, e);\n  function MultiAutoComplete(t, i) {\n    var o = e.call(this, t) || this;\n    o._selItems = [];\n    o._maxSelItems = null;\n    o._lastInputValue = \"\";\n    o._selPath = new wijmo_1.Binding(null);\n    o._notAddItm = !1;\n    o.selectedItemsChanged = new wijmo_1.Event();\n    wijmo_1.addClass(o.hostElement, \"wj-multi-autocomplete\");\n    o._wjTpl = o.hostElement.querySelector(\".wj-template\");\n    o._wjInput = o.hostElement.querySelector(\".wj-input\");\n    o.showDropDownButton = !1;\n    o.initialize(i);\n    o.addEventListener(o.hostElement, \"keyup\", o._keyup.bind(o), !0);\n    o.addEventListener(window, \"resize\", o._adjustInputWidth.bind(o));\n    o.addEventListener(o._tbx, \"focus\", function () {\n      o._itemOff();\n    });\n    o._addHelperInput();\n    o._initSeltems();\n    o.listBox.itemsChanged.addHandler(function () {\n      return o.selectedIndex = -1;\n    });\n    o._refreshHeader();\n    o._updateTabIndex();\n    return o;\n  }\n  Object.defineProperty(MultiAutoComplete.prototype, \"showDropDownButton\", {\n    set: function (e) {\n      this._showBtn = !1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiAutoComplete.prototype, \"maxSelectedItems\", {\n    get: function () {\n      return this._maxSelItems;\n    },\n    set: function (e) {\n      if (this._maxSelItems != e) {\n        this._maxSelItems = wijmo_1.asNumber(e, !0);\n        this._updateMaxItems();\n        this._refreshHeader();\n        this._clearSelIndex();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiAutoComplete.prototype, \"selectedMemberPath\", {\n    get: function () {\n      return this._selPath.path;\n    },\n    set: function (e) {\n      if ((e = wijmo_1.asString(e)) !== this.selectedMemberPath) {\n        this._selPath.path = e;\n        this._initSeltems();\n        this._refreshHeader();\n        this.onSelectedItemsChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(MultiAutoComplete.prototype, \"selectedItems\", {\n    get: function () {\n      return this._selItems;\n    },\n    set: function (e) {\n      var t = this._selItems === e;\n      t || null == this._selItems || null == e || this._selItems.length !== e.length || (t = this._selItems.every(function (t, i) {\n        return t === e[i];\n      }));\n      this._selItems = wijmo_1.asArray(e);\n      if (!t) {\n        if (this.selectedMemberPath && \"\" !== this.selectedMemberPath && this._selItems) for (var i = 0; i < this._selItems.length; i++) {\n          var o = this._selItems[i];\n          this._setSelItem(o, !1);\n        }\n        this._updateMaxItems();\n        this.onSelectedItemsChanged();\n        this._refreshHeader();\n        this._clearSelIndex();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  MultiAutoComplete.prototype.onSelectedItemsChanged = function (e) {\n    this.selectedItemsChanged.raise(this, e);\n  };\n  MultiAutoComplete.prototype.onIsDroppedDownChanged = function (t) {\n    !this.isDroppedDown && this.selectedIndex > -1 && !this._notAddItm && this._addItem(!0);\n    this._notAddItm = !1;\n    e.prototype.onIsDroppedDownChanged.call(this, t);\n  };\n  MultiAutoComplete.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    if (this.hostElement) {\n      this._initSeltems();\n      this.isDroppedDown || this._refreshHeader();\n    }\n  };\n  MultiAutoComplete.prototype._keydown = function (t) {\n    if (!this.isReadOnly) {\n      if (!t.defaultPrevented) switch (t.keyCode) {\n        case wijmo_1.Key.Back:\n          this._lastInputValue = this._tbx.value;\n          break;\n        case wijmo_1.Key.Enter:\n          this._itemOff();\n          this._addItem(!0);\n          wijmo_1.isIE() && wijmo_1.setSelectionRange(this._tbx, this._tbx.textContent.length, this._tbx.textContent.length);\n          break;\n        case wijmo_1.Key.Tab:\n          if (this.isDroppedDown) {\n            this._addItem(!1);\n            this._tbx.value = \"\";\n            this._lbx.selectedIndex = -1;\n            this.isDroppedDown = !1;\n            this.containsFocus() || this.focus();\n            t.preventDefault();\n          } else this._updateFocus();\n          break;\n        case wijmo_1.Key.Space:\n          if (\"\" !== this._tbx.value) return;\n          if (!this.isDroppedDown && !this._tbx.disabled) {\n            this.isDroppedDown = !0;\n            this._clearSelIndex();\n          }\n          break;\n        case wijmo_1.Key.Escape:\n          this.isDroppedDown && (this._notAddItm = !0);\n          break;\n        case wijmo_1.Key.Left:\n          this._itemOn(!this.rightToLeft);\n          break;\n        case wijmo_1.Key.Right:\n          this._itemOn(!!this.rightToLeft);\n          break;\n        case wijmo_1.Key.Up:\n        case wijmo_1.Key.Down:\n          var i = wijmo_1.getActiveElement();\n          if (t.altKey) {\n            if (this._tbx == i) {\n              this.isDroppedDown = !this.isDroppedDown;\n              this.isDroppedDown || this._tbx.focus();\n              t.preventDefault();\n              return;\n            }\n          } else if (this._tbx !== i) return;\n        default:\n          if (t.keyCode === wijmo_1.Key.Back || t.keyCode === wijmo_1.Key.Delete) return;\n          this._itemOff();\n          null != this._maxSelItems && this._selItems.length >= this._maxSelItems && t.preventDefault();\n      }\n      this._tbx.disabled || e.prototype._keydown.call(this, t);\n    }\n  };\n  MultiAutoComplete.prototype._updateState = function () {\n    e.prototype._updateState.call(this);\n    this._wjTpl && (wijmo_1.hasClass(this.hostElement, \"wj-state-focused\") || this._itemOff());\n  };\n  MultiAutoComplete.prototype._keyup = function (e) {\n    if (!this.isReadOnly && !e.defaultPrevented) switch (e.keyCode) {\n      case wijmo_1.Key.Back:\n        0 === this._tbx.value.length && 0 === this._lastInputValue.length && this._delItem(!1);\n        break;\n      case wijmo_1.Key.Delete:\n        this._delItem(!0);\n    }\n  };\n  MultiAutoComplete.prototype._addHelperInput = function () {\n    var e = document.createElement(\"input\");\n    e.type = \"text\";\n    e.tabIndex = -1;\n    e.className = \"wj-token-helper\";\n    e.readOnly = !0;\n    this._wjTpl.insertBefore(e, this._wjInput);\n    this._helperInput = e;\n  };\n  MultiAutoComplete.prototype._refreshHeader = function () {\n    for (var e = this.hostElement.querySelectorAll(\".wj-token\"), t = 0; t < e.length; t++) this._wjTpl.removeChild(e[t]);\n    var i = this.selectedItems;\n    if (i && 0 !== i.length) {\n      for (t = 0; t < i.length; t++) this._insertToken(i[t]);\n      this._wjInput.style.cssFloat = this.rightToLeft ? \"right\" : \"left\";\n      this._adjustInputWidth();\n    } else {\n      this._wjInput.style.cssFloat = this.rightToLeft ? \"right\" : \"left\";\n      this._adjustInputWidth();\n    }\n  };\n  MultiAutoComplete.prototype._insertToken = function (e) {\n    var t = this._getItemText(e, !0);\n    this.isContentHtml || (t = wijmo_1.escapeHtml(t));\n    this._wjTpl.insertBefore(this._createItem(t), this._wjInput);\n  };\n  MultiAutoComplete.prototype._updateMaxItems = function () {\n    null != this._maxSelItems && this._selItems && this._selItems.length > this._maxSelItems && (this._selItems = this._selItems.slice(0, this._maxSelItems));\n  };\n  MultiAutoComplete.prototype._updateFocus = function () {\n    var e = this,\n      t = this._wjTpl.querySelector(\".\" + MultiAutoComplete._clsActive);\n    if (t) {\n      wijmo_1.removeClass(t, MultiAutoComplete._clsActive);\n      setTimeout(function () {\n        e._tbx.focus();\n      });\n    } else this._clearSelIndex();\n  };\n  MultiAutoComplete.prototype._addItem = function (e) {\n    if (this.selectedItems.indexOf(this.selectedItem) > -1) this._clearSelIndex();else if (this.selectedIndex > -1) {\n      this._updateSelItems(this.selectedItem, !0);\n      this._refreshHeader();\n      e && this._clearSelIndex();\n      this._disableInput(!0);\n    }\n  };\n  MultiAutoComplete.prototype._delItem = function (e) {\n    var t,\n      i,\n      o = this._wjTpl.querySelector(\".\" + MultiAutoComplete._clsActive),\n      n = !1;\n    if (!e || o) {\n      if (o) {\n        if ((i = this._getItemIndex(o)) > -1) {\n          t = this._selItems[i];\n          n = !0;\n        }\n      } else if (this._selItems.length > 0) {\n        t = this._selItems[this._selItems.length - 1];\n        n = !0;\n      }\n      if (n) {\n        this._updateSelItems(t, !1);\n        this._refreshHeader();\n        this._clearSelIndex();\n        this._disableInput(!1);\n      }\n      this._tbx.focus();\n    }\n  };\n  MultiAutoComplete.prototype._updateSelItems = function (e, t) {\n    if (t) {\n      this._selItems && 0 !== this._selItems.length || (this._selItems = []);\n      if (null != this._maxSelItems && this._selItems.length >= this._maxSelItems) return;\n      this._selItems.push(e);\n    } else {\n      var i = this._selItems.indexOf(e);\n      this._selItems.splice(i, 1);\n    }\n    this._hasSelectedMemeberPath() && this._setSelItem(e, t);\n    this.onSelectedItemsChanged();\n  };\n  MultiAutoComplete.prototype._createItem = function (e) {\n    var t = this,\n      i = document.createElement(\"div\"),\n      o = document.createElement(\"span\"),\n      n = document.createElement(\"a\");\n    i.appendChild(o);\n    i.appendChild(n);\n    i.className = \"wj-token\";\n    o.className = \"wj-token-label\";\n    o.innerHTML = e;\n    n.className = \"wj-token-close\";\n    n.href = \"#\";\n    n.tabIndex = -1;\n    n.text = \"×\";\n    i.style.cssFloat = this.rightToLeft ? \"right\" : \"left\";\n    this.addEventListener(i, \"click\", function (e) {\n      t._helperInput.focus();\n      var o = t._wjTpl.querySelector(\".\" + MultiAutoComplete._clsActive);\n      o && wijmo_1.removeClass(o, MultiAutoComplete._clsActive);\n      wijmo_1.addClass(i, MultiAutoComplete._clsActive);\n      e.stopPropagation();\n      e.preventDefault();\n    });\n    this.addEventListener(n, \"click\", function (e) {\n      if (!t.isReadOnly) {\n        var o = t._getItemIndex(i);\n        if (o > -1) {\n          var n = t._selItems[o];\n          t._updateSelItems(n, !1);\n        }\n        t._wjTpl.removeChild(i);\n        t._adjustInputWidth();\n        t._disableInput(!1);\n        t._tbx.focus();\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    });\n    return i;\n  };\n  MultiAutoComplete.prototype._itemOn = function (e) {\n    var t,\n      i,\n      o,\n      n = wijmo_1.getActiveElement();\n    if ((this._tbx != n || 0 === this._tbx.value.length) && 0 !== (t = this._wjTpl.querySelectorAll(\".wj-token\")).length) {\n      i = this._wjTpl.querySelector(\".\" + MultiAutoComplete._clsActive);\n      o = this._getItemIndex(i);\n      if (e) {\n        if (0 === o) return;\n        if (-1 === o) {\n          wijmo_1.addClass(t[t.length - 1], MultiAutoComplete._clsActive);\n          this._helperInput.focus();\n        } else {\n          wijmo_1.removeClass(i, MultiAutoComplete._clsActive);\n          wijmo_1.addClass(t[o - 1], MultiAutoComplete._clsActive);\n          this._helperInput.focus();\n        }\n      } else if (!e) {\n        if (-1 === o) return;\n        if (o !== t.length - 1) {\n          wijmo_1.removeClass(i, MultiAutoComplete._clsActive);\n          wijmo_1.addClass(t[o + 1], MultiAutoComplete._clsActive);\n          this._helperInput.focus();\n        } else {\n          wijmo_1.removeClass(i, MultiAutoComplete._clsActive);\n          this._tbx.focus();\n        }\n      }\n    }\n  };\n  MultiAutoComplete.prototype._itemOff = function () {\n    var e = this._wjTpl.querySelector(\".\" + MultiAutoComplete._clsActive);\n    e && wijmo_1.removeClass(e, MultiAutoComplete._clsActive);\n  };\n  MultiAutoComplete.prototype._initSeltems = function () {\n    if (this.selectedMemberPath) {\n      this._selItems.splice(0, this._selItems.length);\n      var e = this.collectionView;\n      if (e) for (var t = 0; t < e.sourceCollection.length; t++) this._getSelItem(t) && this._selItems.push(e.sourceCollection[t]);\n    }\n  };\n  MultiAutoComplete.prototype._getSelItem = function (e) {\n    var t = this.collectionView,\n      i = t ? t.sourceCollection[e] : null;\n    return !(!wijmo_1.isObject(i) || !this.selectedMemberPath) && this._selPath.getValue(i);\n  };\n  MultiAutoComplete.prototype._setSelItem = function (e, t) {\n    this.itemsSource;\n    wijmo_1.isObject(e) && this._selPath.getValue(e) != t && this._selPath.setValue(e, t);\n  };\n  MultiAutoComplete.prototype._clearSelIndex = function () {\n    this.selectedIndex = -1;\n  };\n  MultiAutoComplete.prototype._hasSelectedMemeberPath = function () {\n    return this.selectedMemberPath && \"\" !== this.selectedMemberPath;\n  };\n  MultiAutoComplete.prototype._disableInput = function (e) {\n    if (null != this._maxSelItems) if (this._selItems.length < this._maxSelItems) {\n      this._tbx.disabled = !1;\n      this._tbx.focus();\n    } else {\n      this._tbx.disabled = !0;\n      this.hostElement.focus();\n    }\n  };\n  MultiAutoComplete.prototype._adjustInputWidth = function () {\n    this._tbx.style.width = \"60px\";\n    var e,\n      t = wijmo_1.getElementRect(this.hostElement),\n      i = wijmo_1.getElementRect(this._tbx),\n      o = getComputedStyle(this._tbx),\n      n = parseInt(o.paddingLeft, 10),\n      s = parseInt(o.paddingRight, 10);\n    e = this.rightToLeft ? i.left + i.width - t.left - n - s - 8 : t.left + t.width - i.left - n - s - 8;\n    this._tbx.style.width = e + \"px\";\n  };\n  MultiAutoComplete.prototype._getItemIndex = function (e) {\n    for (var t = this.hostElement.querySelectorAll(\".wj-token\"), i = 0; i < t.length; i++) if (e === t[i]) return i;\n    return -1;\n  };\n  MultiAutoComplete.prototype._setIsDisabled = function (t) {\n    e.prototype._setIsDisabled.call(this, t);\n    this._updateTabIndex();\n  };\n  MultiAutoComplete.prototype._setTabOrder = function (e) {\n    this._orgTabIndex = e;\n    this._updateTabIndex();\n  };\n  MultiAutoComplete.prototype._updateTabIndex = function () {\n    var e = this.hostElement;\n    this._tbx.tabIndex = this.isDisabled ? -1 : this._orgTabIndex;\n    e.tabIndex = -1;\n  };\n  MultiAutoComplete._clsActive = \"wj-token-active\";\n  return MultiAutoComplete;\n}(AutoComplete);\nexports.MultiAutoComplete = MultiAutoComplete;\nwijmo_1._registerModule(\"wijmo.input\", selfModule);","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}